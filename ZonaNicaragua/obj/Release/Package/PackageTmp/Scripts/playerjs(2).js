//	Playerjs.com 20.1.6
//	29.01.2025 05:15:40
//	API - https://playerjs.com/docs/q=api

eval(function (p, a, c, k, e, d) { e = function (c) { return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36)) }; if (!''.replace(/^/, String)) { while (c--) { d[e(c)] = k[c] || e(c) } k = [function (e) { return d[e] }]; e = function () { return '\\w+' }; c = 1 }; while (c--) { if (k[c]) { p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]) } } return p }('if(!1z.4W){1z.4W=[];1z.eo}if(1z[\'Dn\']){1w(Dn,1)};E ze(2H){B o={1t:K,mW:[],so:[],d7:K,jI:\'MQ\',MR:Bs,MS:Br,8r:\'20.1.6\',gC:[\'8y\',\'\'],jJ:\'\',1Z:K,7X:K,9i:K,MT:K,dH:K,5e:K,9b:K,9c:K,u:\'#MV#MW#Gf#Gv#N1#N2#MP#kW#N6#N7#N8#Na#Nc#Ng#Ni#N5#Mx#Mi#Ml#Mm#Mn#Mr#Mh#kW#Mz#MA#MC#kW#ME#Gf#Gv#NW#O5#O6#O7#kW#O8#kW#Ob#Om==\',u2:\'\',u3:\'\',u4:\'\',u5:\'\',u6:\'\',u7:\'\',u8:\'\',u9:\'\',Oq:\'\',y:\'xx??x?=xx?x?x=\',p:\'\',Op:-1,xs:"GA",fy:"//GA.9J",7v:[],dt:H,pr:H,ga:K,ab:K,kE:[],Ok:K,e1:\'//.8Z//\',yq:0,2y:[],7p:[],9U:[],2V:[],o4:[],a1:0,9L:[],mn:0,uG:K,5Y:K,1v:K,xb:K,7J:K,ni:\'<Gz>\',jy:\'</Gz>\',ak:1z.b5.Z<2h&&1z.b5.1c<2h,tz:[],Oi:[],5L:{\'1M\':1,\'Mf\':1,\'iM\':1,\'eJ\':1,\'sS\':0},9Z:[],x6:0,do:0,5u:K,4U:K,gn:K,pB:K,Og:[],yd:[],bf:K,cB:0,jl:K,y5:1E,iH:1E,sj:K,FW:E(x){B a;J a},Of:0,lB:4z,4p:K,dF:K,xD:1T.xD,d:8v.wF,kI:8v.wF,9f:8v.9f,ju:8v.9f.I("ju")==0,Od:{},v4:\'NE-Gd.9J/Gd.js\',fd:["FW","FH"],5S:[],Nr:[],Nu:[],iI:1,oM:[],FH:E(x,y,z){B a;J a},18:0,m6:0,56:K,dk:-1,a4:3,Nx:0,tW:0,9I:0,3B:{x:1,y:1,x0:1,y0:1},ci:["kq","kr","ku","nT","nU","nX","uc","nY","dg","eq","uh","tR"],pa:["Ny","Nz","Nn","ND"],dO:0,NI:0,qr:0,zL:0,d5:0,CX:[],bS:[\'7x\',\'ds\',\'qe\',\'6F\'],NK:[],pP:H,pu:[],nk:0,ws:"w"+"s",d7:K,gW:[K,K,K]};B eV={R:{w:20,h:20,1d:"-",NM:"-",a:1,7y:-1,1r:"3H",1F:"",1M:1,f0:-1,aI:0,2q:1,1l:"",1B:"",3X:"NN",gP:12,iB:0,1q:"S",2S:"0 3 0 3",9X:"0 0 0 0",2p:1,hb:"0 0 0 0",NO:0,kL:1,bg:0,lm:0,Ez:0,5O:1,8w:-1,59:"3Q",a9:-1,eM:"0 0 0 0",oW:-1,pQ:"3H",bu:-1,pZ:-1,5V:"1S",4k:"vE",2q:0,jG:"3Q",jU:0.7,xm:0,xr:"3H",kl:"3 5 3 5",Lk:"0 0 0 0",Lm:1,xd:"m0-lK",xe:11,xg:0,2O:"",DZ:5,Ed:0,3d:0,L9:2,Lh:2,DR:0.2,DU:0,DV:0.1,eW:0,Lo:"La",LT:1,M7:5,DO:"3Q",DS:"3H",DP:"3H",DH:1,EE:1,wl:1,7w:0,3w:0,fe:20,dK:"<2w Z=\'20\' 1c=\'20\'><g><dv ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' 6c=\'#eg\'/></g></2w>",sJ:1,pb:-1,kp:0,p5:1,y9:-1,M8:0.1,ez:0,2Z:"",Il:0,Ih:"vE",3v:"",It:pf,Iv:pf,Fd:0,5H:0,5Z:"3H",Dy:0,Dx:"3Q",DE:9,sm:"0 0 10 0",tq:"0 0 0 0",Dz:0}};E H2(){J H;o.H3=H}E cD(s){if(s.I(\'.\')==-1){s=s.1i(1);s2=\'\';U(i=0;i<s.Q;i+=3){s2+=\'%u0\'+s.4M(i,i+3)}s=Ma(s2)}J s};E H6(){if(o.u!=\'\'){v=bD(v,5n.7g(gJ(o.u)))}if(2H.I("#"+v.a3)==0){2R{2H=5n.7g(o[o.fd[0]](2H))}2C(e){}}F{if(2H.I("#"+v.bB)==0){2R{2H=5n.7g(o[o.fd[1]](2H))}2C(e){}}}}E 7D(x,y){}E oG(y,1e){}B sC=E(){B 9m=1Y("2c");o.1Q.1U(9m);O(9m,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'Z\':\'100%\',\'1c\':30,\'2v-1r\':v.Hm,\'1A\':v.GU,\'2i\':\'1S\'});B x=1Y("2c");o.1Q.1U(x);O(x,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'Z\':\'100%\',\'1r\':v.GQ,\'3X-3F\':v.GW,\'2P\':(v.GS+\'px \'+v.GT+\'px\'),\'2i\':\'1S\'});G.8Z=E(1B,n){x.1P=1B;6p(x);O(9m,{\'1c\':x.2U,\'2i\':\'4x\'});9m.C.4T="Mc";U(B i=0;i<x.bA(\'a\').Q;i++){x.bA(\'a\')[i].C.1r=\'#eg\'}if(n){1w(G.mg,2h*n)}x.C.4T="LF"};G.mg=E(){3g(x);3g(9m)}};2f(E(w,i,s,e){B au=0;B 9x=0;B g3=0;B dX=[];B e3=[];o7(H){if(au<5)e3.2K(w.6t(au));F if(au<w.Q)dX.2K(w.6t(au));au++;if(9x<5)e3.2K(i.6t(9x));F if(9x<i.Q)dX.2K(i.6t(9x));9x++;if(g3<5)e3.2K(s.6t(g3));F if(g3<s.Q)dX.2K(s.6t(g3));g3++;if(w.Q+i.Q+s.Q+e.Q==dX.Q+e3.Q+e.Q)1g}B G6=dX.r8(\'\');B G7=e3.r8(\'\');9x=0;B sb=[];U(au=0;au<dX.Q;au+=2){B rI=-1;if(G7.aT(9x)%2)rI=1;sb.2K(6R.uN(2J(G6.1i(au,2),36)-rI));9x++;if(9x>=e3.Q)9x=0}J sb.r8(\'\')}(\'LM\',\'LE\',\'LB\',\'M4\'));B v={1n:0,uE:0,lQ:"#3Q",2Q:0,yH:1,8k:"#3Q",59:"#3H",7w:0,dE:1,mS:1,3c:0,uz:1,ee:0,w1:1,1p:{M1:0,1r:"3Q",a:"0.4",h:34,kR:1,1k:1,ir:1,dP:0,jB:3,7B:0,qW:3,5V:"1S",1q:"2N",2S:"0 0 0 0",7w:0,hi:0,8c:\'\'},1L:{on:1,f:1,r:1,m:1,3C:5,vh:"3C",8T:1,vj:"1I",n1:0,Kf:0,wu:1,kD:0.2},W:{59:"3Q",a9:"l0",5O:0.9,8w:-1,1q:"1a",2S:"0 0 0 0",2P:"7 15 7 15",1r:"3H",3X:"Hx, HW, m0-lK",gP:12,5g:10,iB:0,5Z:"HT",Ku:1,8k:"L8",a:1,7y:-1,Ln:0,Lb:100,Ou:Ow,QD:1,s8:1,I1:"Rd",rW:"3Q",rS:-1,Rg:-1,I9:0,6N:3,jk:16,L3:"Rh",7w:0,jq:1,lz:1,lC:"3H",xX:0,xW:"3Q",KI:1,KK:0,KN:"l0",oL:0,hN:4z,c5:0,6P:0,Iy:0,Iz:0,ea:1,3A:0,jm:50,u1:0,oI:1,dl:Ri,pI:0,ul:"l0",qs:"0 0 0 0",qN:30,8k:"HO"},1f:{59:"3Q",a9:"Rj",5O:0.7,8w:-1,3X:"Hx, HW, m0-lK",1q:"2N-2t",2S:"0 0 0 0",2P:"7 10 7 15",1r:"3H",gP:12,jk:16,5g:10,iB:0,Rm:"3H",5Z:"HT",a:1,1M:5,7y:-1,vv:1,6N:3,jq:1,lz:1,lC:"3H",oL:0,hN:4z,7w:0,Ro:1,Rq:"5b",4B:1,Rr:"7F",Rs:1,Rt:"1X",Ru:0,Rw:"6O",Rx:0,Rp:"5c",qN:30,8k:"HO"},R7:{1q:"2N-2t",2S:"0 10 50 0"},1I:0.8,uA:1,oJ:1,8Q:0,5w:0,Bx:1,5i:0,4C:0,zw:0,zs:0,3j:0,tY:1,pg:0,wV:0,wX:0,kt:\',\',jp:\';\',dh:\'//\',y6:1,kv:\'[\',e4:\']\',gx:\'6c\',mx:1,mz:-1,yf:0,QG:\'20 0 0 20\',QH:\'1b-1a\',QK:100,QL:100,QQ:-1,sG:0,Bc:1,Hm:"qn",GQ:"3H",GS:5,GT:10,GU:1,GW:10,mn:0,xo:1,sT:1,g7:1,4V:\'Ov\',vc:0,gk:\'5B\',af:1,zF:0,zR:0,KT:0,8M:1,cW:1,J2:5,6B:0,Al:1,nw:0,wo:5,QX:0,QY:0,R0:0,mp:1,AH:1,JX:0,zM:0,R1:0,rM:1,nl:0,3i:"z7",R2:F4,ol:\'100%\',ga:0,Cb:{8G:1,2u:0,lo:0,4b:0,1t:1,vJ:0,vK:0,vL:0,R3:0,R4:0,R9:0},Cr:{8G:1,2u:0,lo:0,4b:0,1t:1,vJ:0,vK:0,vL:0},Se:100,uB:1,gN:1,oE:14,kq:\'100%\',D4:1,oC:20,Aq:1,nU:0.7,CT:2,yh:3,dg:10,kr:"3H",ku:"EQ",nT:"3Q",nX:0,uc:0,nY:iK,um:1,eq:0,vF:1,8L:1,Sh:1,Si:0.3,Sj:3,Sk:4,Sc:5,St:0,Su:Sv,Sw:Dt,AK:0,Am:1,wr:1,fU:1,HC:1,ts:0,E4:Sx,E3:90,E1:0,E0:1,FD:"l0",E2:0,Ex:1,a3:\'2\',bB:\'3\',SB:10,SC:1,Sr:1,Sa:-1,RV:1,S9:1,RH:-1,RK:0,RM:1,RN:0,RO:1,RP:0,RQ:1,RG:0,RU:1,RW:0,RX:1,RY:0,RZ:1,S0:0,tf:1,S1:0,S2:0,S3:1,S5:0,S6:1,S7:"#3H",S8:"#3Q",QC:"#3Q",PB:"#3H",QB:"#3Q",P9:"#3H",Pa:"#3Q",Pb:"#3H",Pe:"#3Q",P6:"#3H",Pp:"#3Q",Pq:"#3H",Pv:1,Pw:0,Px:1,Py:0.5,Pl:"#3H",SF:"#3Q",ON:1,P3:1,Oy:1,Oz:1,OB:1,OD:10,OE:-1,OF:1,OI:1,OJ:0,oX:0,OL:"or",Ox:"or",OO:"or",OP:"or",OQ:"50%",OT:-1,OU:0,OW:-1,OX:0,OY:0,HQ:1,HV:0,P0:30,P1:2,B1:10,Bp:0,P2:30,Gl:1,Gk:1,6h:0,2a:{on:0,59:"3Q",2Q:0,9G:2,8k:"3Q",1q:"1a",2S:"20 0 0 20",Z:wz,1k:0}};v.9O="en";B 9g=E(is){B i;B C=[];B f=[];B am=[];B Pz=[];B 5P=[];B 8d=[];B 1J=[];B f2=[];B gA=[];B P5=[];B 4X=[];B 5A=[];B 5r=[];B ei=[];B cK=K;B 2j;B ba=-1;B 4I=H;B 19=is;B 6e=is=="1f";B W;B 5w=[];B dN=[];B nO;B 3q=\'\';B du=\'\';B 6n=-1;B i4;B gp=K;B Q7=K;B nf=K;B nF=K;B fD=K;B hB=K;B mU;B sl;B n8;B jB;B tm;B j6=[];B 6j=[];B pd=0;B aC=0;B 9C;B 6g="2p";B bp=(o.1h.2e?"g5":"lA");B bn=(o.1h.2e?"g6":"lE");C=bD(C,v[is]);C=4u(v[is],\'2S\',\'2S\');C=4u(v[is],\'9X\',\'9X\');C=4u(v[is],\'aO\',\'aO\');if(C.pI==0){C.qs="0 0 0 0"}C=4u(v[is],\'eM\',\'qs\');C=4u(v[is],\'2P\',\'2P\');C.o5=0;B hK="<2w C=\'2S-1b:cG\' Z=\'"+C.6N*2+"\' 1c=\'"+(C.6N*2>C.5g?(C.6N*2):C.5g)+"\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'><g><dv ry=\'"+(C.6N)+"\' rx=\'"+C.6N+"\' cy=\'"+(C.6N*2>C.5g?(C.6N):(C.5g/2))+"\' cx=\'"+C.6N+"\' 6c=\'"+3t(C.5Z)+"\'/></g></2w>";B Fp="<2w Z=\'"+C.6N*2+"\' 1c=\'"+C.5g+"\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\' ><g><dv ry=\'"+(C.6N-1)+"\' rx=\'"+(C.6N-1)+"\' cy=\'"+(C.5g/2+2)+"\' cx=\'"+C.6N+"\' 4m=\'"+3t(C.5Z)+"\' 4m=\'1\' 6c-1A=\'0\'/></g></2w>";B xx=4;B KD="<54 C=\'2i:cU-4x;\'><2w Z=\'"+(xx+2)+"\' 1c=\'"+(C.5g)+"\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'><g><2E x1=\'1\' y1=\'"+(C.5g/2-xx)+"\' x2=\'"+xx+"\' y2=\'"+(C.5g/2)+"\' 4m=\'#"+C.1r+"\' 4m-Z=\'1\' 4m-fs=\'4r\'/><2E x1=\'"+xx+"\' y1=\'"+(C.5g/2)+"\' x2=\'1\' y2=\'"+(C.5g/2+xx)+"\' 4m=\'#"+C.1r+"\' 4m-Z=\'1\' 4m-fs=\'4r\'/></g></2w></54>";B jj="<54 C=\'2i:cU-4x;\'><2w Z=\'"+(xx+10)+"\' 1c=\'"+(C.5g+1)+"\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\' C=\'ho:1a\'><g><2E x1=\'1\' y1=\'"+(C.5g/2+2)+"\' x2=\'"+xx+"\' y2=\'"+(C.5g/2-xx+2)+"\' 4m=\'#"+C.1r+"\' 4m-Z=\'1\' 4m-fs=\'4r\' /><2E x1=\'1\' y1=\'"+(C.5g/2+2)+"\' x2=\'"+xx+"\' y2=\'"+(C.5g/2+xx+2)+"\' 4m=\'#"+C.1r+"\' 4m-Z=\'1\' 4m-fs=\'4r\'/></g></2w></54>";B 8k=5M(2m(C.8k,\'3H\'),2m(C.KU,1));B 1K=1Y("2c");o.1Q.1U(1K);O(1K,{\'6D\':\'3d\',\'2i\':\'4x\',\'1A\':0,\'2Q-6A\':C.7w});if(C.oW==1){O(1K,{"2Q":"4t 6I "+3t(2m(C.pQ,\'3H\'))})}B hn={};U(B i in o.5L){if(o.5L.2r(i)){hn[o.5L[i]]=-1}}if(6e){1K.C.4T=Q9}F{1K.C.4T=Qa}B X=1Y("2c");if(o.ak){C.Dw>0?C.gP=C.Dw:\'\';C.DA>0?C.dl=C.DA:\'\';C.DB>0?C.jm=C.DB:\'\'}O(X,{\'1q\':\'ha\',\'1b\':0,\'1a\':0,\'2i\':\'4x\',\'Z\':\'100%\',\'2P-1b\':C.ax,\'2P-2t\':C.6Z+(6e&&C.3A==1?0:20),\'2P-2N\':C.ay,\'2P-1a\':C.6U,\'1r\':C.1r,\'3X-3F\':C.gP*2m(v.8B,1),\'3X-eG\':h1(C.3X),\'ki-fV\':C.iB+\'px\'});if(o.1h.6K){O(X,{\'8J-Z\':DC})}if(is!=="W"){O(X,{\'6D-y\':(6e&&C.3A==1?\'3d\':\'8V\')})}1K.1U(X);if(C.3A!=1){B 6T=1Y("2c");O(6T,{\'2i\':\'4x\',\'6D\':\'3d\',\'2Q-6A\':C.7w});if(C.3A!=1){if(o.1h.6K){O(6T,{\'8J-Z\':DC})}}X.1U(6T)}3V(X,{id:(v.id+"42"+is)});if(is=="W"){if(C.3A==1){O(X,{\'Z\':\'100%\',\'2P-2t\':C.6Z,\'2P-2N\':C.ay+20,\'6D-x\':\'8V\',\'6D-y\':\'3d\',\'bv-8T\':\'e0\'});O(1K,{\'Z\':o.2W-C.4P-C.4A,\'1c\':C.jm+C.ax+C.ay})}F{O(X,{\'6D-y\':\'8V\',\'6D-x\':\'3d\'});if(C.Ig==1){oA()}}if(C.pI==1){O(1K,{\'2v-1r\':C.ul})}if(v.W.2M==1){3g(1K)}}if(C.jq==1){B 5v=1Y("2c");B aN=5M(C.pI==1?C.ul:C.59);if(C.3A==1){iA(5v,\'to 2t, 5m(\'+aN+\',\'+(C.5O*1+0.3)+\'), 5m(\'+aN+\',0)\',\'1a\',12,5,7,10,7,10,12,15);5v.1y(6g,Ip)}F{iA(5v,\'to 2N, 5m(\'+aN+\',\'+(C.5O*1+0.3)+\'), 5m(\'+aN+\',0)\',\'1b\',5,12,10,7,10,7,15,12);5v.1y(6g,IC)}B 5D=1Y("2c");if(C.3A==1){iA(5D,\'to 1a, 5m(\'+aN+\',\'+(C.5O*1+0.3)+\'), 5m(\'+aN+\',0)\',\'2t\',8,5,13,10,13,10,8,15);5D.1y(6g,IG)}F{iA(5D,\'to 2N, 5m(\'+aN+\',0), 5m(\'+aN+\',\'+(C.5O*1+0.3)+\')\',\'2N\',5,8,10,13,10,13,15,8);5D.1y(6g,IB)}5v.1y("lA",jv);5v.1y("lE",jv);5D.1y("lA",jv);5D.1y("lE",jv);X.1y("sR",DQ,{5y:K});5v.1y("9Y",aU);5D.1y("9Y",aU);1K.1U(5v);1K.1U(5D);3K(sl);sl=7O(Ix,2h)}X.1y(bp,DL,{5y:K});X.1y(bn,sH,{5y:K});if(v.W.9C>0&&!9C&&is=="W"){if(1D DD!=="1E"){9C=1u DD()}}if(6e){U(B i=1;i<15;i++){if(L(v["bz"+is][is+i])){v.1f[is+i]=v["bz"+is][is+i];if(L(v["bz"+is][is+i+"1N"])){v.1f[is+i+"1N"]=v["bz"+is][is+i+"1N"]}if(L(v["bz"+is][is+i+"1d"])){v.1f[is+i+"1d"]=v["bz"+is][is+i+"1d"]}}if(L(v.1f[is+i])){if(v.1f[is+i]==1){bU(\'f\',i);cC(f[i],am[i],5P[i],8d[i],i);B 5o=v.1f[is+i+"1d"];B 8S=v.1f[is+i+"1N"];if(!L(5o)){v.1f[is+i+"1d"]="5c"}if(5o){if(5o.I("3G")>-1&&8S){if(!v[\'6w\'+5o]){if(8S.I(":")>0){B mi=5o.4M(-1);B dm=v[\'nE\'+mi];B k=4d(8S.1i(8S.I(":")+1)).2k(\',\');B ka=[];B hV;U(B j=0;j<k.Q;j++){if(k[j].I("(*)")>-1){!L(dm)?dm=j:\'\';k[j]=k[j].1O("(*)",\'\')}hV=k[j].I("->2T:");ka[j]=\'\';if(hV>0){ka[j]=k[j].1i(hV+6);k[j]=k[j].1i(0,hV)}}o[\'6w\'+5o]=k;o[\'m\'+mi+\'42\'+\'2T\']=ka;8S=v.1f[is+i+"1N"]=8S.1i(0,8S.I(":"))}F{o[\'6w\'+5o]=[];v.1f[is+i+"1N"]=8S}v[\'6w\'+5o]=1;o[\'j4\'+5o]=2m(dm,0)}}}5P[i].1P=2I(5o);if(2g(8S)){5P[i].1P=8S}if(5o=="3a"){o.fB=H}1J[i]=5o;7N(i);if(1J[i]==\'gS\'){if(1D oV!=="1E"){!o.al?o.al=1u oV():\'\';if(L(1z.lh)){5P[i].1P=o.al.Qh();o.al.Ch()}}}if(1J[i]in o.5L){hn[1J[i]]=i}f[i].1y(bp,6u,{5y:K});f[i].1y(bn,5N,{5y:K});f[i].1y(6g,aB);f[i].1y("9Y",aU);if(v.1f[is+i+"1k"]==1){O(f[i],{"1c":0})}}}}}E DQ(x){if(is=="W"&&C.3A==1&&x){if(x.wY==0&&x.bM!=0){X.aY-=x.bM;x.9z()}}3K(n8);n8=7O(sH,kX);aG()}E DL(){o.3y=H}E sH(){if(C.fK==1){2D(o.fJ);o.fJ=1w(E(){if(!o.3y&&!o.l4){8h()}},(v.1f.fL>0?v.1f.fL*2h:(o.1h.tv?4f:2h)))}o.3y=K}E 6u(1e){if(o.1Z){o.5j?o.V.5j(K):\'\'}B i=1e.4k.7L(\'o3\');B x;if(i){x=\'f\'}F{if(1e.4k.7L(\'bc\')){i=1e.4k.7L(\'bc\');x=\'f2\'}}if(i){i=2J(i);B eQ=K;if(L(2f(x)[i])){if(C.8w>-1){O(2f(x+\'bg\')[i],{\'1A\':C.8w})}if(2g(C.eB)){O(2f(x+\'bg\')[i],{\'6W\':\'iM(\'+C.eB+\')\'})}if(C.7y>-1){O(2f(x+\'1N\')[i],{\'1A\':C.7y});O(2f(x+\'5H\')[i],{\'1A\':C.7y})}if(is=="W"){if(1J[i].I("W")==0){B id=1J[i].1i(8);if(3q==id||du==id){O(2f(x+\'1N\')[i],{\'1r\':C.5Z});O(2f(x+\'5H\')[i],{\'1r\':C.5Z});eQ=H}F{O(2f(x+\'1N\')[i],{\'1r\':C.1r})}}}if(C.vR==1&&L(C.lZ)&&eQ){}F{O(2f(x+\'bg\')[i],{\'7R\':C.a9})}}}};E 5N(1e){if(o.1Z){o.5j?o.V.5j(H):\'\'}B i=1e.4k.7L(\'o3\');B x;B eQ=K;3K(j7);aG();if(i){x=\'f\'}F{if(1e.4k.7L(\'bc\')){i=1e.4k.7L(\'bc\');x=\'f2\'}}if(i){if(L(2f(x)[i])){if(C.8w>-1){O(2f(x+\'bg\')[i],{\'1A\':C.5O})}if(2g(C.eB)){O(2f(x+\'bg\')[i],{\'6W\':\'iM(1)\'})}if(C.7y>-1){O(2f(x+\'1N\')[i],{\'1A\':C.a});O(2f(x+\'5H\')[i],{\'1A\':C.a})}if(is=="W"){if(1J[i].I("W")==0){B id=1J[i].1i(8);if(3q==id||du==id){O(2f(x+\'1N\')[i],{\'1r\':C.5Z});O(2f(x+\'5H\')[i],{\'1r\':C.5Z});eQ=H}F{if(L(o.9L[id])){jC(i)}F{O(2f(x+\'1N\')[i],{\'1r\':C.1r})}}}}if(C.vR==1&&L(C.lZ)&&eQ){}F{O(2f(x+\'bg\')[i],{\'7R\':o.9L[id]?C.rW:C.59})}}}}E aB(1e){if(!fD){B d=1u 7A();o.bq=d.9W();B i=1e.4k.7L(\'o3\');if(i){if(L(f[i])){if(L(1J[i])){if(is=="W"){o.2b=1E}4Y(i,0)}}}n9()}}B tG;B j7;E ED(1e){if(!fD){B i=1e.4k.7L(\'bc\');if(i){if(L(5r[i])){if(2j in o.5L){tG=i;j7=7O(F6,4z)}}}}}E F6(){rQ(tG)}E aU(1e){3K(j7);1e.6G=H;aG()}E wB(1e){3K(j7);if(!fD){B d=1u 7A();o.bq=d.9W();B i=1e.4k.7L(\'bc\');if(i){if(i==0){if(5r[0]==\'1r\'){bQ();4Y(pd)}F{dM()}}F{if(L(5r[i])){rQ(i)}}}}}E pC(1e){B x=1e.4k.7L(\'EO\');if(x){wj(x)}}E Kd(1e){aG();B i=1e.4k.7L(\'bc\');if(L(5r[i])){if(7s("=",i)>0){B x=5r[i].1i(0,7s("=",i));B y=5r[i].1i(7s("=",i)+1);B z=2j+\'F1\';if(!v[z]){v[z]=[]}if(!L(v[z][x])){v[z][x]=v[x]+\'\'}wc(x,y)}}};E wc(x,y){v[x]=y;if(o.5f&&v.um==1&&x!="eq"){3S.9o("oq"+x,y)}if(o.56&&o.3I){o.3I.ae()}o.V.kG();wj(x)}E Kc(1e){B i=1e.4k.7L(\'bc\');B x=5r[i];if(L(x)){if(x.I("=")>0){B z=x.1i(0,x.I("="));B y=x.1i(x.I("=")+1);v[z]=y;tl();7N(o[2j+\'r0\']);if(2j=="o0"){7D("Im")}}}}E 7N(i){if(L(1J[i])){B aQ=K;B 7S=K;B 5t=\'\';if(6e){if(1J[i]=="5b"){5t=o.P.mt()}if(1J[i]=="7F"){5t=o.P.xK()}if(1J[i]=="3a"){5t=\' \';7S=H}if(1J[i].I("3G")>-1){if(o[\'6w\'+1J[i]]){if(o[\'6w\'+1J[i]].Q>0){B t=o[\'j4\'+1J[i]];if(t!=-1){5t=o[\'6w\'+1J[i]][t]}7S=H}}}if(1J[i]=="dU"){if(o.7U){5t=o.o4[o.Q8]}}if(1J[i]=="7F"||1J[i]=="dU"||1J[i]=="5b"){if(o[\'6w\'+1J[i]].Q==0){aQ=H}F{if(o[\'6w\'+1J[i]].Q==1&&(C.IW!=1||o[\'6w\'+1J[i]][0]==1)){aQ=H}F{7S=H}}}if(1J[i]=="5e"){if(!o.5e){aQ=H}F{7S=H}}if(1J[i]=="6O"){if(o.2o!=\'e5\'&&!v.6O){aQ=H}F{7S=H}}if(1J[i]=="1X"){if(L(o.1W)){7S=H;if(o.4U||v.8L==1){if(o.3z){5t=o.2V[!o.4U?o.3z.7b():o.3l]}}F{5t=\'\'}B jx=0;U(B s=0;s<o.1W.Q;s++){if(o.1W[s]!=\'\'){jx++}}if(jx==1&&o.iY==1){jx=0}if(v.lx==1&&v.uQ==1){}F{if(jx==0){aQ=H;7S=K}}}F{aQ=H}}if(1J[i]=="5c"){5t=o.5S[o.a4];5t==1&&C.er!=1?5t=2I(\'gX\'):\'\';7S=H;if(o.2o=="c4"||(o.P.5Q()&&C.Qo!=1)){aQ=H;7S=K}}if(1J[i]in o.5L){5t=hu(1J[i]);7S=H}if(1J[i].I("8u")>0){B x=\' \';B y=[\'EZ\',\'EU\',\'ES\'];U(B z=0;z<y.Q;z++){if(L(v[1J[i]+y[z]])){if(v[1J[i]+y[z]]!==\' \'){x+=(x!==\' \'?\':\':\'\')+v[1J[i]+y[z]]}}}5t=x!=\' 0:0\'&&x.I(":")>-1?x:\' \';o[1J[i]+\'7K\']=5t;7S=H}}8d[i].1P=5t+(5t!=\'\'&&C.Qp!=1?\' &fj;<2w Z="kj" 1c="Fa" xG="-1 -1 5 8" 8r="1.1" 4a="3R://4g.w3.47/4f/2w" 4a:4e="3R://4g.w3.47/7V/4e"><q4 4m="#\'+3t(C.5Z)+\'" 4m-Z="1" 6c="1S" 8l="0 0 3 3 0 6"></q4></2w>\':\'\');B Fh=6e&&ba!=-1;if(aQ){1k(f[i]);if(6e){ei[i]?2D(ei[i]):\'\';if(o.S){o.S.iQ(i,K,5t)}F{ei[i]=1w(E(){o.S.iQ(i,K,5t)},4z)}}O(f[i],{\'1q\':\'2B\',\'2t\':0,\'1b\':-100})}if(7S){if(Fh){}F{if(C.3A==1){O(f[i],{\'2i\':\'cU-4x\'})}F{1o(f[i])}}if(6e){ei[i]?2D(ei[i]):\'\';if(o.S){o.S.iQ(i,H,5t)}F{ei[i]=1w(E(){o.S.iQ(i,H,5t)},3Z)}}O(f[i],{\'1q\':\'ha\',\'2t\':0,\'1b\':0})}2z()}U(B j=1;j<f.Q;j++){if(f[j]){if(5T(f[j])){B 4w=K;4I?4w=H:\'\';4I=K;4w&&o.S?o.S.4w():\'\'}}}};B rs=0;E 4Y(i,Fz,fa){fa?1J[i]=fa:\'\';if(L(1J[i])){o.l4=H;aG();B x=t6();if(6e){ba==-1?rs=x[0]:x[0]=rs}if(2j!=1J[i]){2j=1J[i];B xi=2j.I("3G")>-1;if(2j==\'5b\'||2j==\'7F\'||2j==\'1X\'||2j==\'5c\'||xi||2j==\'dU\'||2j in o.5L||2j.I("8u")>0||2j==\'3a\'||2j==\'1r\'){ba=i;B z=kT(o[\'6w\'+2j]);if(2j=="qv"){if(C.rJ==1){z=7D("Qu")}F{z=7D("Qv")}}if(2j=="o0"){z=7D("Qx")}if(2j=="3a"&&o.3a){z=[];U(B j=1;j<=16;j++){if(L(v["3a"+j])){z.2K(2I(v["3a"+j]));j6[z.Q]=v["3a"+j]}}}if(2j=="1r"&&o.4p){z=[];pd=i;U(B j=0;j<o.pa.Q;j++){B co=o.pa[j].1i(4);z.2K(2I(co));6j[z.Q]=co}}if(z.Q==0&&xi){B ai=2j.4M(-1);if(L(1z[\'oc\'+ai])){1z[\'oc\'+ai](v.id)}8h();J}B d9=o[\'j4\'+2j];B Fq=o[\'Qy\'+2j];U(B j=1;j<f.Q;j++){if(f[j]){f[j].C.2i="1S"}}f2=[];bU(\'f2\',0);cC(f2[0],gA[0],4X[0],5A[0],0);O(f2[0],{"2Q-2N":"4t 6I "+(C.wa==1?8k:"5m(100,100,100,0.7)")});aC=Fz;B q9=K;4X[0].1P=(x[0]<2||aC==1||C.xE==1?\'\':jj)+(v.1f[is+i+"1N"]&&v.1f[is+i+"1N"]!=\'\'?v.1f[is+i+"1N"]:2I(v.1f[is+i+"1d"]))+(o[1J[i]+\'7K\']?o[1J[i]+\'7K\']:\'\');if(2j==\'1X\'&&!o.wg){B i9=1Y("2c");i9.1P=2I("2H");O(i9,{\'1r\':C.1r,\'9u\':\'2A\',\'6M\':\'4D\'});5A[0].1U(i9);i9.1y(6g,IM);q9=H}if(2j==\'1X\'&&v.lx==1&&!o.1h.tv&&L(1z.lh)){B uf=1Y("2c");!o.3z?o.3z=1u kV():\'\';uf.1P="<tE 1F=\'3e\' id=\'"+v.id+"Fy\' Qz=\'.xz,.yv,.ia\' C=\'2i:1S\'/>"+2I(\'Qn\');O(uf,{\'1r\':C.1r,\'9u\':\'2A\',\'6M\':\'4D\',\'2S-1a\':(q9?\'e7\':0)});5A[0].1U(uf);o.gB=1T.8z(v.id+"Fy");o.gB.Q6=o.3z.va;uf.1y(6g,o.3z.va)}if(q9){if(gp){if(aC==2){z=[];3g(f2[0])}U(j=0;j<o.ci.Q;j++){if(v.pJ==0&&o.ci[j]=="ku"){}F{z.2K("Q5"+o.ci[j])}}}}O(4X[0],{\'3X-3F\':C.jk*2m(v.8B,1)});5r[0]="PD";if(2j in o.5L){qZ(2j);if(pd>0&&o.pa.I(\'PE\'+2j)>-1){4X[0].1P=jj+2I(2j);5r[0]="1r";5A[0].1P=hu(2j)}O(5A[0],{\'Z\':C.5g*2.5,\'1B-8q\':\'2t\'})}if(aC!=1&&x[0]>1){f2[0].1y(bp,6u);f2[0].1y(bn,5N);f2[0].1y(6g,wB);f2[0].1y("9Y",aU)}F{O(f2[0],{"6M":\'6X\'})}if(C.sK==1){3g(f2[0])}if(L(z)){B zz=\'\';U(j=0;j<z.Q;j++){B y=j+1;B dY=0;B 7a=K;if(z[j]&&4d(z[j])!=\'\'){if(2j==\'5b\'){if(z[j]==2I("2A")){dY=1}if(o.2o=="1C"&&v.PF==1){B iz=5d(z[j]);if(iz&&iz<zz){dY=2}zz=5d(z[j])}}bU(\'f2\',y,dY);cC(f2[y],gA[y],4X[y],5A[y],1J[i],i);if(2j==\'5c\'){z[j]==1&&C.er!=1?z[j]=2I(\'gX\'):\'\'}if(1D(z[j])==\'4y\'){if(z[j].I("<<<")==0){z[j]=z[j].1O(\'<<<\',\'\');7a=H}if(z[j].I(\'8u\')>0){o[2j+\'r0\']=i}if(z[j].I("uZ")==0){B 1H=z[j];if(1H.I("8u")>0){4X[y].1P=2I(z[j].1i(1H.I("8u")+5))}F{4X[y].1P=2I(z[j].1i(7))}if(z[j]==\'PG\'){nO=f2[y];O(f2[y],{"2Q-1b":"4t 6I "+(C.wa==1?8k:"5m(100,100,100,0.7)")})}}F{4X[y].1P=z[j]}}F{4X[y].1P=z[j]}5r[y]=2j+j;if(d9==j||Fq==j){5A[y].1P=d9==j?hK:Fp;if(d9==j){lO(y)}}if(1D(z[j])==\'4y\'){if(z[j].I("uZ")==0){B t=z[j].1i(7);if(t.I("1r")>0){5A[y].1P="<2c C=\'"+(v[t]=="3Q"?\'2Q:4t 6I #kg;1c:b7;Z:b7;\':\'1c:e7;Z:e7;\')+";2v-1r:"+(v[t].I("#")==-1?\'#\':\'\')+v[t]+";2Q-6A:e7;\'></2c>"}F{if(L(v[z[j].1i(7)])){5A[y].1P=v[z[j].1i(7)]}}}if(2j=="3a"){if(L(j6[y])&&o.3a){5A[y].1P=o.3a.1l(j6[y],0.7,3t(C.5Z))}}if(2j=="1r"){if(L(6j[y])&&o.4p){5A[y].1P=hu(6j[y])}}if(2j==\'5b\'){if(z[j]==2I("2A")&&o.P.jh()){lO(y)}if(2g(v.bT)){B fq=v.bT.2k(",");U(B k=0;k<fq.Q;k++){if(z[j].I(fq[k])>-1){3g(f2[y])}}}}}B vg="";if(1D(z[j])==\'4y\'){if(z[j].I("uZ")==0){3V(f2[y],{\'PH\':i,\'EO\':z[j].1i(7)});vg="pC"}}if(!7a){f2[y].1y(bp,6u);f2[y].1y(bn,5N);if(vg=="pC"){f2[y].1y(6g,pC)}F{f2[y].1y(6g,wB)}f2[y].1y("9Y",aU);f2[y].1y("G9",ED)}F{O(f2[y],{"6M":"6X"})}}}}2z()}if(1J[i]==\'6O\'){o.V.iV();2j=-1}if(1J[i]==\'gS\'&&L(o.al)){o.al.6d();2j=-1}if(1J[i].I(\'W\')>-1){B id=1J[i].1i(8);if(L(o.1G[id])){B fl=o.1G[id][\'3e\'];if(L(fl)){if(1J[i].I(\'W\')>-1){if(L(i4)){2j=-1;J}}if(fl.I(\'3C:\')==0){if(id.I(\'x\'+du)!=0){o.2b=fl.1i(5);bF(id.1i(0,id.nJ(\'-\'))+\'-0\');J}if(!o.1v){o.2b=fl.1i(5)}if(!o.1t){o.V.2x()}3r(\'3C\',fl.1i(5));v.W.6P==0&&v.W.ea==1?8h():\'\';J}dx(i);vb(id);7D("CH");if(L(o.1G[id][\'7i\'])&&v.7i==1&&v.PM==1){7i(o.1G[id][\'7i\'])}F{ne(id);o.V.dV(fl,(v.W.hg==1?1:1E));v.W.6P==0&&v.W.ea==1?1w(8h,4z):\'\';nf=K;nF=K;n0(id);js("PN")}}F{if(L(o.1G[id][\'5a\'])){6a(id);if(nf){6n==-1?4Y(0,0):\'\'}F if(nF){6n==-1?4Y(2J(f.Q)-2,0):\'\'}}}}if(o.2M){o.2M.nR()}}if(1J[i]==\'5e\'){o.P.h5()}}}};G.JO=E(x){7N(o[x+\'r0\'])};E wj(x){if(x=="tR"){IA();J}if(x=="uh"){B z=2j+\'F1\';if(v[z]){U(B y in v[z]){if(v[z].2r(y)){wc(y,v[z][y])}}gq()}J}aG();U(B i=0;i<f2.Q;i++){if(f2[i]){f2[i].C.2i="1S"}}f2=[];bU(\'f2\',0);cC(f2[0],gA[0],4X[0],5A[0],0);O(f2[0],{"2Q-2N":"4t 6I "+(C.wa==1?8k:"5m(100,100,100,0.7)")});if(x.I("8u")>0){f2[0].1y(6g,tl);4X[0].1P=2I(x.1i(x.I("8u")+5))}F{f2[0].1y(6g,gq);4X[0].1P=(C.xE!=1?jj:\'\')+2I(x)}O(4X[0],{\'3X-3F\':C.jk*2m(v.8B,1)});f2[0].1y(bp,6u);f2[0].1y(bn,5N);f2[0].1y("9Y",aU);B 4l=[];B mE=K;if(x.I("3F")>0){4l=[\'50%\',\'75%\',\'100%\',\'125%\',\'wz%\',\'Ax%\',\'4z%\',\'PW%\',\'ef%\',\'iK%\']}if(x.I("5O")>0){4l=[\'0\',\'0.2\',\'0.3\',\'0.4\',\'0.5\',\'0.6\',\'0.7\',\'0.8\',\'0.9\',\'1\']}if(x.I("ky")>0){U(B i=-5;i<5.5;i+=0.5){4l.2K(2F.4r(i*100)/100)}}if(x.I("dG")>0){4l=[4z,iK,gM]}if(x.I("2N")>0){U(i=0;i<21;i++){4l[i]=i*10}}if(x.I("EZ")>0){U(i=0;i<24;i++){4l[i]=i}}if(x.I("EU")>0||x.I("ES")>0){U(i=0;i<60;i++){4l[i]=i}}if(x.I("9G")>0){mE=H;4l=[0,1]}if(x.I("4m")>0){mE=H;4l=[0,1]}if(x.I("1r")>0){4l=[\'3H\',\'EQ\',\'Q2\',\'Q4\',\'Q3\',\'Q1\',\'Q0\',\'PZ\',\'PY\',\'PX\',\'PV\',\'PT\',\'PS\',\'PQ\',\'PC\',\'PP\',\'PL\',\'3Q\'];B vx=v[x].1O("#","");if(4l.I(vx)==-1){4l[8]=vx}}U(y=1;y<=4l.Q;y++){bU(\'f2\',y,0);cC(f2[y],gA[y],4X[y],5A[y],y);O(5A[y],{\'2P-1a\':0});if(x.I("1r")>0||x.I("2N")>0||x.I("8u")>0||x.I("ky")>0){y%3!=0?O(f2[y],{\'ho\':\'1a\'}):\'\';O(f2[y],{\'Z\':\'33.3%\'});if(x.I("1r")>0){4l[y-1]=2m(v["PK"+(y-1)],4l[y-1]);4X[y].1P="<2c C=\'"+(4l[y-1]=="3Q"?\'2Q:4t 6I #kg;1c:Kb;Z:Kb;\':\'1c:fv;Z:fv;\')+";2v-1r:"+3t(4l[y-1])+";2Q-6A:fv;\'></2c>";O(f2[y],{\'2E-1c\':1})}F{4X[y].1P=4l[y-1]}}F{if(x.I("dG")>0){4X[y].1P=4l[y-1]}F{y%2!=0?O(f2[y],{\'ho\':\'1a\'}):\'\';O(f2[y],{\'Z\':\'50%\'});if(mE){4X[y].1P=2I(4l[y-1]+\'7K\')}F{4X[y].1P=4l[y-1]}}}5r[y]=x+\'=\'+4l[y-1];if((4l[y-1]==v[x]&&6R(v[x])!=" ")||v[x]==\'#\'+4l[y-1]){5A[y].1P=hK;lO(y)}f2[y].1y(bp,6u);f2[y].1y(bn,5N);if(x.I("8u")>0){f2[y].1y(6g,Kc)}F{f2[y].1y(6g,Kd)}f2[y].1y("9Y",aU)}2z()}E lO(x){f2[x].oh.bs(\'6L-\'+v.id+\'-eA-nE\');O(4X[x],{\'1r\':C.5Z});l5(gA[x])}E ne(id){if(L(o.1G[id][\'29\'])){v.29=o.1G[id][\'29\'];L(v.29)?o.P.ao(v.29):\'\'}if(L(o.1G[id][\'1N\'])){o.cX=o.1G[id][\'1N\']}v.W.Ke>0?i4=1w(Kg,v.W.Ke*2h):\'\';yz()}E n0(id){B t=o.1G[id][\'1N\'];if(L(t)){if(v.pg==1){if(o.V.nK(o.1G[id])){}F{v.1N=(v.wX==1&&L(o.qC)?o.qC+(v.wV==1?\'<br>\':\' \'):\'\')+t}o.V.aE(\'1N\')}}if(v.eW==1){if(L(o.1G[id][\'8l\'])){v.8l=o.1G[id][\'8l\']}F{v.8l=[]}o.S.jO()}B xv=[\'5C\',\'p6\',\'lD\',\'6O\',\'7d\',\'Y\',\'ko\',\'CB\',\'lv\',\'xO\',\'4b\',\'4n\',\'1m\',\'CL\',\'CS\',\'8i\',\'cz\',\'gd\',\'CO\',\'96\',\'kb\'];U(B i=0;i<xv.Q;i++){B iN=o.1G[id][xv[i]];if(L(iN)){o.yd[xv[i]]=iN;v[xv[i]]=iN;if(i==16){v.W.c5=iN}}F{i<4?v[xv[i]]=1E:\'\'}}U(B uv in o.1G[id]){if(uv.I("CU")==0){v[uv.1i(7)]=o.1G[id][uv]}}vb(id);B 9k=o.1G[id];if(L(9k[\'2n\'])){9k[\'1X\']=9k[\'2n\']}if(L(9k[\'1X\'])){o.V.fr(9k[\'1X\'])}if(L(9k[\'96\'])){o.S.rn()}o.V.km(o.1G[id]);if(o.hx){o.S.r7(o.hx)}if(L(9k[\'aP\'])){3r(\'aP\',9k[\'aP\'])}if(L(9k.1I)){o.V.3U(9k.1I)}}E vb(id){B x=o.1G[id][\'1v\'];if(L(x)){if(x=="3p"){if(2H.1X&&!o.1G[id][\'1X\']){o.1G[id][\'1X\']=2H.1X}if(o.P.18()>0){v.1v=o.2b=o.P.18()}F{2H.1v&&!o.2b?o.2b=2H.1v:v.1v=0}}F{v.1v=o.2b=x}}F{v.1v=0}}E Kg(){2D(i4);i4=26}E dx(x){if(6n==0&&!o.1v){O(5P[6n],{\'1r\':C.1r});O(am[6n],{\'7R\':C.59});8d[6n].1P=\'\';f[6n].oh.5C(\'6L-\'+v.id+\'-eA-pl\')}F{o.yM=x;if(6n>-1){jC(6n)}if(3q!=\'\'){if(!o.9L[3q]&&L(o.1G[3q])){o.yq+=2m(o.1G[3q].1m,0)}o.9L[3q]=H;5w=uK(5w,3q)}}if(1J[x]){B id=1J[x].1i(8);8d[x].1P=hK;f[x].oh.bs(\'6L-\'+v.id+\'-eA-pl\');O(5P[x],{\'1r\':C.5Z,\'1B-yX\':\'1S\',\'1A\':C.a});l5(am[x]);if(C.vR==1&&L(C.lZ)){O(am[x],{\'7R\':C.lZ})}6n=x;3q=id;o.3q=3q;v.4O=3q;o.ny=5P[x].1P;o.yM=3q;du=o.1G[id][\'j8\'];if(o.S){o.S.i5()}if(9C){9C.PR()}}}E 6a(id){B x=id==0?o.W:o.1G[id];o.yM=id;U(B i=0;i<f.Q;i++){if(f[i]){if(C.3A==1){X.3o(f[i])}F{6T.3o(f[i])}f[i]=26}}f=[];6n=-1;if(L(x[\'5a\'])){B y=7P.6o(x[\'5a\']).Q;bU(\'f\',y);1J[y]="Qw";cC(f[y],am[y],5P[y],8d[y],y);if(C.3A==1){O(f[y],{"Z":(C.oI==1?C.dl:"2A"),"1c":C.jm})}if(C.Ku==1){B xF="4t 6I "+5M(C.L3,2m(C.KU,1));if(C.3A==1){O(f[y],{"Qs":xF})}F{O(f[y],{"Qq":xF})}}B 1H=x.1N;if(C.xE!=1){1H=jj+1H}5P[y].1P=1H;O(5P[y],{\'3X-3F\':C.jk*2m(v.8B,1)});B p=x[\'j8\'];f[y].1y(bp,6u);f[y].1y(bn,5N);f[y].1y(6g,E(){Ic(p)});x=x[\'5a\']}B y=7P.6o(x).Q;5w=[];dN=[];if(9C&&C.3A!=1){9C.5C(6T);if(y>v.W.9C){9C.bs(C,6T)}}U(B i=0;i<y;i++){bU(\'f\',i);1J[i]="W"+x[i].id;if(!L(o.9L[x[i].id])&&!L(x[i].5a)){5w[x[i].id]=i;dN[x[i].id]=i}cC(f[i],am[i],5P[i],8d[i],i);if(C.3A==1){if(C.6N==0){O(5P[i],{\'Z\':C.dl-C.tK-C.tL});3g(8d[i])}O(f[i],{"Z":(C.oI==1?C.dl:"2A"),"1c":C.jm})}5P[i].1P=x[i].1N?x[i].1N:\'&fj;\';if(v.bR==1&&v.Bo==1&&x[i].id){if(o.KC){if(o.KC.I(x[i].id)>-1){x[i].dB=1}}}if(L(x[i].dB)){if(x[i].dB==1){o.9L[x[i].id]=H;jC(i)}}if(L(x[i].5a)){8d[i].1P=KD;O(8d[i],{"1r":C.1r})}f[i].1y(bp,6u);f[i].1y(bn,5N);f[i].1y(6g,aB);f[i].1y("9Y",aU);if(L(o.9L[x[i].id])){jC(i)}if(3q==x[i].id){dx(i)}if(du==x[i].id){O(5P[i],{\'1r\':C.5Z});O(8d[i],{\'1r\':C.5Z});l5(am[i])}}2z();4I=K;o.S?o.S.4w():\'\'}E l5(x){if(2g(C.KF)&&x){O(x,{"2v-8c":"3f-4R(5m(0, 0, 0, "+(1-C.KF*1)+") 0 0)"})}}E iA(x,y,z,x1,y1,x2,y2,x3,y3,x4,y4){B ww=(C.3A==1?\'KH\':\'100%\');B hh=(C.3A==1?\'100%\':\'KH\');O(x,{\'1q\':\'2B\',\'2i\':\'cU-4x\',\'Z\':ww,\'1c\':hh,\'1B-8q\':\'7Z\'});if(C.KI==1){O(x,{\'2v\':\'-oP-3f-4R(\'+y+\')\',\'2v\':\'-3J-3f-4R(\'+y+\')\',\'2v\':\'-ms-3f-4R(\'+y+\')\',\'2v\':\'-o-3f-4R(\'+y+\')\',\'2v\':\'3f-4R(\'+y+\')\',})}if(C.3A==1||o.1h.2e){O(x,{\'6M\':\'4D\'})}F{O(x,{\'4D-3i\':\'1S\'})}if(C.oL==1){O(x,{\'5W-Z\':C.hN+\'px!5U\'})}if(z=="1b"){O(x,{\'1b\':-1,\'1a\':0})}if(z=="2N"){O(x,{\'2N\':-1,\'1a\':0})}if(z=="1a"){O(x,{\'1b\':0,\'1a\':0})}if(z=="2t"){O(x,{\'1b\':0,\'2t\':0})}if(z=="2t"||z=="1a"){O(x,{\'1B-8q\':\'1a\',\'2P-1b\':1K.2U/2-10})}x.1P="<7Z><2c "+(C.KK==1?"Qj=\'G.C.7R=\\"#"+C.KN+"\\"\' Qg=\'"+(C.xX==1?"G.C.7R=\\"#"+C.xW:"G.C.2v=\\"1S")+"\\"\'":"")+" C=\'4D-3i:2A;6M:4D;Z:fv;1c:fv;2Q-6A:fv;"+(C.xX==1?"2v-1r:#"+C.xW+";":"")+(z=="1b"?"2S-1b:e7;":"")+(z=="2N"?"2S-1b:e7;":"")+(z=="2t"?"2S-1a:fQ;":"")+(z=="1a"?"2S-2t:fQ;":"")+"\'><2w Z=\'20\' 1c=\'20\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'><g><2E x1=\'"+x1+"\' y1=\'"+y1+"\' x2=\'"+x2+"\' y2=\'"+y2+"\' 4m=\'#"+C.lC+"\' 4m-Z=\'"+C.lz+"\' 4m-fs=\'4r\'/><2E x1=\'"+x3+"\' y1=\'"+y3+"\' x2=\'"+x4+"\' y2=\'"+y4+"\' 4m=\'#"+C.lC+"\' 4m-Z=\'"+C.lz+"\' 4m-fs=\'4r\'/></g></2w></2c></7Z>"}G.ar=E(){if(C.jq==1){ar()}};E Ix(){if(cK){ar()}}E ar(e){if(C.jq==1&&!hB){if(C.3A==1){B h=X.Qd;B m=1K.28+C.6U+C.6Z+20;B t=X.aY}F{B h=X.Jb;B m=1K.2U;B t=X.d6}if(h>m){if(t>0){if(!5T(5v)){1o(5v);B m1=1u 5x({"mc":5v,"1F":"8f","to":1,"18":0.3,"me":"5v"})}}F{if(5T(5v)){B m2=1u 5x({"mc":5v,"1F":"8f","to":0,"18":0.3,"me":"5v","1k":H})}if(e){e.bM<0?e.9z():\'\'}}if(t<h-m-10){if(!5T(5D)){1o(5D);B m3=1u 5x({"mc":5D,"1F":"8f","to":1,"18":0.3,"me":"5D"})}}F{if(5T(5D)){B m4=1u 5x({"mc":5D,"1F":"8f","to":0,"18":0.3,"me":"5D","1k":H})}if(e){e.bM>0?e.9z():\'\'}}}F{1k(5v);1k(5D)}}}E IB(){B x=X.d6+1K.2U-60;B m=1u 5x({"mc":X,"1F":"8V","to":x,"18":0.3,"me":"Kw","6z":"bP"});1w(ar,2h)}E IC(){B x=X.d6-1K.2U+60;B m=1u 5x({"mc":X,"1F":"8V","to":x,"18":0.3,"me":"Qc","6z":"bP"});1w(ar,2h)}E jv(1e){2D(o.fJ);1e.av()}E IG(){B x=X.aY+(1K.28+C.6U+C.6Z)-60;B m=1u 5x({"mc":X,"1F":"k6","to":x,"18":0.3,"me":"OV","6z":"bP"});1w(ar,2h)}E Ip(){B x=X.aY-(1K.28+C.6U+C.6Z)+60;B m=1u 5x({"mc":X,"1F":"k6","to":x,"18":0.3,"me":"L1","6z":"bP"});1w(ar,2h)}E Ic(x){if(x==\'\'){6a(0)}F{if(L(o.1G[x])){6a(x)}}2j=\'\'}E jC(x){8d[x].1P=\'\';O(5P[x],{\'1r\':C.I1});if(C.I9==1){O(5P[x],{\'1B-yX\':\'2E-OM\'})}if(C.s8>-1){O(5P[x],{\'1A\':C.s8})}f[x].oh.5C(\'6L-\'+v.id+\'-eA-pl\');O(am[x],{\'7R\':C.rW});if(C.rS>-1){O(am[x],{\'1A\':C.rS})}}E rQ(i){if(L(5r[i])){aG();if(7s("5b",i)==0){o.V.5X(5r[i].1i(7))}if(7s("7F",i)==0){o.V.eD(5r[i].1i(10))}if(7s("1X",i)==0){!o.3z?o.3z=1u kV():\'\';o.3z.9l(5r[i].1i(8))}if(7s("dU",i)==0&&v.7U==1){o.7U.z5(5r[i].1i(7))}if(7s("3G",i)==0){B 5o=5r[i].4M(0,-1);o[\'j4\'+5o]!=-1?o[\'j4\'+5o]=i-1:\'\';if(o[\'6w\'+5o]){B mi=5o.4M(-1);if(o[\'m\'+mi+\'42\'+\'2T\'][i-1]!=\'\'){B ap=o[\'m\'+mi+\'42\'+\'2T\'][i-1].2k(":");3r(ap[0],ap.Q>1?ap[1]:26)}if(L(1z[\'oc\'+mi])){v[\'nE\'+mi]=i-1;1z[\'oc\'+mi](v.id,o[\'6w\'+5o][i-1],i-1)}}7N(ba);8h()}if(7s("3a",i)==0){o.3a?o.3a.2T(j6[i]):\'\';8h()}if(7s("1r",i)==0){bQ();4Y(0,0,6j[i])}U(B p in o.5L){if(o.5L.2r(p)){if(7s(p,i)==0){o.P.Cs(p,i)}}}if(7s("8u",i)>0){if(4X[i].1P==2I(\'7a\')){7D(2j+\'0\');7N(ba);if(2j=="o0"){7D("Im")}dM()}F{if(2j=="qv"&&C.rJ==1){7D(\'rJ\',i);7N(ba);dM()}}}if(7s("5c",i)==0){o.V.9a(5r[i].1i(5));i1();1w(8h,4z)}}};G.i1=E(){i1()};G.K7=E(x){U(B i=0;i<1J.Q;i++){if(1J[i]==x){J H}}J K};E i1(){U(B i=0;i<1J.Q;i++){if(1J[i]=="5c"){7N(i);if(2j==\'5c\'){bQ();4Y(i,0)}}}}E bU(x,i,dY){if(L(2f(x))){2f(x)[i]=1Y("2c");if(i<2||x=="f"||2j!=\'5b\'||dY>0){if(C.3A==1){X.1U(2f(x)[i])}F{6T.1U(2f(x)[i])}}F{if(C.3A==1){X.tu(2f(x)[i],2f(x)[i-1])}F{6T.tu(2f(x)[i],2f(x)[dY==2?i-2:i-1])}}if(x==\'f\'){3V(2f(x)[i],{\'o3\':i})}if(x==\'f2\'){3V(2f(x)[i],{\'bc\':i})}2f(x+\'bg\')[i]=1Y("2c");B o2=1Y("2c");2f(x)[i].1U(o2);o2.1U(2f(x+\'bg\')[i]);fi(o2);2f(x+\'3E\')[i]=1Y("2c");2f(x)[i].1U(2f(x+\'3E\')[i]);ec(2f(x+\'3E\')[i]);fi(2f(x+\'3E\')[i]);2f(x+\'1N\')[i]=1Y("2c");2f(x)[i].1U(2f(x+\'1N\')[i]);2f(x+\'5H\')[i]=1Y("2c");2f(x)[i].1U(2f(x+\'5H\')[i]);if(i>0&&x=="f2"&&6e&&C.vv==0){3g(2f(x+\'5H\')[i])}}};E cC(x,9m,hz,uj,Pt,ii){O(x,{\'1q\':\'ha\',\'2t\':0,\'1b\':0,\'6M\':\'4D\',\'1c\':\'2A\',\'Z\':\'100%\',\'6D\':\'3d\',\'2i\':\'4x\',\'2E-1c\':\'1.Ps\'});if(6e){if(C.3A==1){O(x,{\'Z\':\'2A\'})}}if(C.u1&&C.3A==1){O(x,{\'Pr\':C.u1})}if(C.3A==1&&(!6e||ii>0||C.sK==1)){O(x,{\'2i\':\'cU-4x\',\'aD-8q\':\'1b\',\'bv-8T\':\'gX\'})}O(9m,{\'2v\':(C.Fn==1?"3f-4R(to 1a,"+3t(C.Pi)+", "+3t(C.59)+")":3t(C.59)),\'1A\':C.5O,\'9u\':\'1S\',\'5q\':\'1A 0.2s 6z-5k,2v .2s 6z-5k,6W .2s 6z-5k\'});ec(9m);ec(9m.4c);if(C.aa==1){O(9m.4c,{\'k9-6W\':\'aa(b7)\'})}if(C.Pd==1){x.C[C.3A==1?"2Q-2t":"2Q-2N"]="4t 6I "+5M(2m(C.Pc,\'3H\'),2m(C.RF,0.2))}O(hz,{\'1q\':\'ha\',\'2t\':0,\'1b\':0,\'ho\':(C.8q?C.8q:\'1a\'),\'1r\':C.1r,\'2P-1b\':C.Jc,\'2P-2t\':C.tL,\'2P-2N\':C.RL,\'2P-1a\':C.tK,\'9u\':\'1S\',\'1A\':C.a,\'5q\':\'1A 0.2s 3f,1r 0.2s 3f\',});O(uj,{\'1q\':\'ha\',\'2t\':0,\'1b\':0,\'ho\':(C.Jh?C.Jh:\'2t\'),\'2P-1b\':C.Jc,\'2P-2t\':C.tL,\'2P-1a\':C.tK,\'9u\':\'1S\',\'3X-3F\':C.5g*2m(v.8B,1),\'1A\':C.a,\'1r\':C.5Z,\'5q\':\'1A 0.2s 3f,1r 0.2s 3f\'});if(C.oL==1){O(x,{\'5W-Z\':C.hN+\'px!5U\'});O(hz,{\'5W-Z\':(C.hN-70)+\'px!5U\'})}F{if(C.3A==1){if(C.oI==1){O(x,{\'Z\':C.dl});O(hz,{\'Z\':C.dl-70})}}F{O(hz,{\'bv-8T\':\'e0\'});O(uj,{\'bv-8T\':\'e0\'})}}}E dM(){U(B i=1;i<f.Q;i++){if(L(f[i])){if(C.3A==1){f[i].C.2i="cU-4x"}F{f[i].C.2i="4x"}}}aG();bQ();2z();2j=\'\';ba=-1};E bQ(){U(B j=0;j<f2.Q;j++){if(f2[j]){if(C.3A==1){X.3o(f2[j])}F{6T.3o(f2[j])}f2[j]=26}}f2=[];2j=\'\'}E Jd(){J X.28};G.iX=E(){oA()};E oA(){if(is=="W"){if(C.3A==1||C.Ig==1){B x=o.2W-C.4P-C.4A;O(1K,{\'Z\':x});O(X,{\'Z\':x});6T?O(6T,{\'Z\':x}):\'\'}o.2M?o.2M.2z():\'\'}}E 2z(){if(!hB){if(6e){o.S?o.S.mK():\'\';B x=C.sK==1&&f.Q>1?f[1]:f[0]}if(is=="W"){oA();o.S?o.S.iX():\'\';B x=f[0];if(v.uM==1){mM()}}f.Q>1&&!x?(f[1]?x=f[1]:\'\'):\'\';f.Q>2&&!x?(f[2]?x=f[2]:\'\'):\'\';if(x){x.28==0&&f2.Q>0?x=f2[0]:\'\'}if(X.28-X.sn>0&&x&&C.3A!=1){if(L(5v)){O(5v,{"Z":6T.28})}if(L(5D)){O(5D,{"Z":6T.28})}C.o5=(X.28-x.28)-(X.sn-x.sn)}F{C.o5=0}}};E t6(){B x=0;B y=0;B z=\'\';U(B i=1;i<f.Q;i++){if(L(f[i])){if(f[i].C.5F!="3d"&&f[i].C.2i!="1S"){x++;y=i;z=1J[i]}}}J[x,y,z]}G.uW=E(){gp=H;G.1o();aC=2;gq()};E IM(x){gp=H;gq(x);if(gp&&nO){X.QE(0,nO.nA)}}E IA(x){gp=K;gq(x)}E gq(){dM();U(B i=0;i<1J.Q;i++){if(1J[i]=="1X"){4Y(i,aC)}}}E aG(){2D(tm);tm=1w(E(){o.l4=K},4f)}E tl(){B x=2j;dM();U(B i=0;i<1J.Q;i++){if(1J[i]==x){4Y(i,0)}}}G.tb=E(){J v.1f.6P==1&&v.1f.1p==1};E 8h(x){if((!6e&&v.W.Jy==1)||(6e&&v.1f.6P==1&&x!=2)){J}if(is==\'W\'&&v.W.2M==1&&v.W.QJ!=1){if(v.W.6P==1&&x==1){J}o.2M?o.2M.AL():\'\';cK=K}F{if((x!=1||(C.QI==1&&C.6P==1))&&!o.1h.tv){B m=1u 5x({"mc":1K,"1F":"8f","to":0,"18":0.1,"me":is,"6z":"CK"});jB=1w(E(){O(1K,{"5F":"3d","1A":0,"1b":-4f});cK=K},4z)}F{O(1K,{"5F":"3d","1A":0,"1b":-4f});cK=K}}if(is==\'W\'){if(v.W.Kq==1&&o.S){o.S.qX("1d","W",H)}}3K(n8)};G.c=E(){J 1K};G.co=E(){if(1K.RC(X)){J X}};G.s=E(19){if(19=="4A"||19=="4P"){B k2=19.1O("2S","9X");B k3=19.1O("2S","aO");if(2g(C[k3])&&o.ak){J o.2W*C[k3]/100}if(2g(C[k2])){J o.2W*C[k2]/100}}J C[19]};G.ss=E(19){J C};G.1o=E(){dM();2D(jB);cK=H;if(is==\'W\'&&v.W.2M==1){o.2M?o.2M.nQ():\'\'}F{O(1K,{"5F":"4h","1A":1,"5q":"1A 0.2s 3f"});B x=t6();if(x[0]==1){if(x[2]=="5b"||x[2]=="7F"||x[2]=="1X"||x[2]=="5c"||x[2]in o.5L||x[2].I("8u")>0){4Y(x[1],0)}}}if(o.S){if(is==\'W\'&&o.S.bN()){o.S.bm()}if(is==\'1f\'&&o.S.i6()&&!o.2M&&v.W.6P!=1&&v.g0!=1){o.S.K8()}}if(o.S){is==\'1f\'?o.S.mK():\'\';if(is==\'W\'){o.S.iX();if(v.W.Kq==1){o.S.qX("1d","W",K)}}}if(o.1h.6K){O(X,{\'8J-Z\':\'2A\'});if(C.3A!=1){O(6T,{\'8J-Z\':\'2A\'})}}fD=H;3K(mU);mU=7O(Kt,100)};E Kt(){3K(mU);fD=K}G.6d=E(i){4Y(i,1)};G.1k=E(x){8h(x)};G.Ie=E(){if(o.2M){o.2M.bj()}};G.5X=E(){U(B i=0;i<1J.Q;i++){if(1J[i]=="5b"){7N(i);if(o.2y.Q>1){1o(f[i])}if(2j==\'5b\'){bQ();4Y(i,aC)}}}};G.h5=E(){U(B i=0;i<1J.Q;i++){if(1J[i]=="5e"){7N(i)}}};G.iP=E(x){U(B i=0;i<1J.Q;i++){if(1J[i]==x){7N(i);if(o[\'6w\'+x]){if(o[\'6w\'+x].Q>1){1o(f[i])}}if(2j==x){bQ();4Y(i,aC)}}}};G.9l=E(){U(B i=0;i<1J.Q;i++){if(1J[i]=="1X"){7N(i);if(o.2V){if(o.2V.Q>0){B x=K;if(o.1W){U(B y=0;y<o.1W.Q;y++){if(o.1W[y]!=\'\'){x=H;1g}}}F{x=H}x?1o(f[i]):\'\'}}if(2j==\'1X\'){bQ();4Y(i,0)}}}};G.xa=E(x){o.W=x;6a(0);if(L(v.4O)){if(v.4O.I("x-")!=0){U(B y in o.1G){if(o.1G.2r(y)){if(o.1G[y].dT==v.4O){v.4O=y}}}}if(L(o.1G[v.4O])){h8(o.1G[v.4O]);B y=o.1G[v.4O][\'bW\'];dx(y);if(v.W.x8==1&&C.2M!=1){6a(0);1w(E(){2z()},3Z)}F{1w(E(){dw(y);2z()},3Z)}v.4O=1E}F{dx(0)}}F{dx(0)}if(C.2M==1){if(!L(o.2M)){o.2M=1u Rf()}}};G.bF=E(x){bF(x)};E bF(x){if(L(o.1G[x])){h8(o.1G[x]);4Y(o.1G[x][\'bW\'],0);dw(o.1G[x][\'bW\'])}};G.lV=E(x){if(L(o.1G[x])){h8(o.1G[x]);if(o.1G[x]["3e"]){o.2b=1E;dx(o.1G[x][\'bW\']);ne(x);o.V.dV(o.1G[x]["3e"],1);n0(x);dw(o.1G[x][\'bW\']);if(o.2M){o.2M.nR()}}F if(o.1G[x]["5a"]){6a(x)}}};E IN(x){if(L(o.1G[x])){du=\'\';6a(0);h8(o.1G[x]);ne(x);4Y(o.1G[x][\'bW\'],0);n0(x)}};G.bh=E(){nf=H;B x=2J(6n)+1;if(3q!=\'\'){o.9L[3q]=H;5w=uK(5w,3q)}if(v.5w==1){x=qM(5w);if(x==26){if(v.Re==1||v.W.c5==1){dN.Jf(E(a,b){J 2F.5I()-0.5});U(B x in dN){if(dN.2r(x)){5w[x]=dN[x]}}x=qM(5w);js("5B")}F{o.V.CJ()}}}F{if(3q!=\'\'){B y=7G().I(3q);if(y<7G().Q){B j;U(B i=y+1;i<7G().Q;i++){j=o.1G[7G()[i]];if(j.3e){if(j.3e.I("3C:")!=0&&j.5B!=1&&!j.5a){G.lV(j.id);x=-1;o.V.2x();js("5B");1g}}}}}}if(x>-1){o.2b=1E;4Y(x,0);dw(x)}};E dw(x){if(f[x]&&!hB){if(C.3A==1){B to=f[x].jc-20;B m=1u 5x({"mc":X,"1F":"k6","to":to,"18":0.3,"me":"L1","6z":"bP"})}F{B to=f[x].nA-1K.2U/2+20;B m=1u 5x({"mc":X,"1F":"8V","to":to,"18":0.3,"me":"Kw","6z":"bP"})}1w(ar,2h)}}E qM(4j){B 6o=7P.6o(4j);B x;U(B i=0;i<6o.Q;i++){x=4j[6o[6o.Q*2F.5I()<<0]];if(x){1g}}J x};G.5L=E(x){qZ(x)};E qZ(x){hn[x]>-1?7N(hn[x]):\'\';if(5A[0]){if(2j==\'1M\'){5A[0].1P=2F.4r(o.3B.x*100)+\'%\'}F{5A[0].1P=hu(2j)}}};E hu(x){if(x=="1M"){J 2F.4r(o.3B.x*100)+\'%\'}F{J 2F.4r(2m(o.9Z[x],o.5L[x])*100)+\'%\'}}G.bE=E(){J vO()};E vO(){if(v.5w==1){J 7P.6o(5w).Q>0}B x=K;if(o.1G){x=7G().I(3q)<7G().Q-1}J x};G.lT=E(){if(L(o.je)){2j=1E;IN(o.je)}};G.h0=E(){B x=6n>0;if(o.1G){B z=7G().I(3q);x=z>0;if(z==1){if(L(o.1G[7G()[0]].5a)){x=K}}}J x};G.gZ=E(){J L(o.1G)};G.ey=E(){nF=H;if(G.h0()){B x=2J(6n)-1;if(x<0){B y=7G().I(3q);if(y>0){B j;B z;U(B i=y-1;i>=0;i--){j=o.1G[7G()[i]];if(j){if(j.3e){z=j;if(j.3e.I("3C:")!=0&&j.5B!=1&&!j.5a){z=j;1g}}}}if(z){G.lV(z.id);o.V.2x()}}}F{o.2b=1E;4Y(x,0);dw(x)}js("Ly")}};G.lS=E(){if(6n>0){dw(6n)}};E 7s(x,i){J 5r[i].I(x)};E h8(x){if(x){if(x[\'tJ\']!=-1){h8(o.1G[x[\'j8\']]);6a(x[\'j8\'])}F{6a(0)}}};G.g=E(x){bJ(x){1j"Z":J Jd();1g;1j"1c":J 1K.2U;1g;1j"1b":J C.bi;1g;1j"GE":J X.Jb;1g;1j"GG":J C.eP;1g;1j"x":J 5d(1K.C.1a);1g;1j"y":J 5d(1K.C.1b);1g;1j"1A":J 1K.C.1A;1g;1j"1o":J cK;1g;1j"6d":J ba;1g;1j"19":J 19;1g;1j"bw":J 19+bw;1g;1j"4I":J 4I;1g;1j"W":J is=="W";1g;1j"dB":J o.9L[3q];1g;1j"6d?":J o.2M?o.2M.rB():cK;1j"vv":J hK;1g;1j"cs":J o.1G[o.cs]?o.1G[o.cs].1N:\'\';1j"cz":J v.cz?v.cz:\'\';1j"DI":J vO()?o.1G[7G()[7G().I(3q)+1]].1N:\'\'}};E 7G(){J 7P.6o(o.1G)};G.Kn=E(){3q=\'\';v.4O=\'\'};G.4I=E(){if(6e){B x=0;U(B i=1;i<15;i++){if(1J[i]=="5b"){B y=o.2y.Q;if(L(v.bT)){B z=v.bT.2k(",");U(B j=0;j<z.Q;j++){if(o.2y.I(z[j])>-1){y--}}}if(y>0){if(y>1||(y==1&&o.2y!=1&&C.IW==1)){x++}}}if(1J[i]=="5e"){if(o.5e){x++}}if(1J[i]=="6O"){if(o.2o==\'e5\'||v.6O){x++}}if(1J[i]=="7F"){if(o.7p.Q>1){x++}}if(1J[i]=="dU"&&v.7U==1){if(o.o4.Q>0){x++}}if(1J[i]=="1X"){if(L(o.1W)){U(B s=0;s<o.1W.Q;s++){if(o.1W[s]!=\'\'){x++;1g}}}if(x==1&&o.iY==1){x=0}if(v.lx==1&&v.uQ==1){x++}}if(1J[i]=="5c"){if(o.2o!="c4"){x++}}if(1J[i]in o.5L||1J[i]=="3a"||1J[i]=="gS"||1J[i]=="1r"){x++}if(1J[i]){if(1J[i].I("8u")>0){x++}if(1J[i].I("3G")>-1){x++}}if(v.1f[is+i+\'1k\']==1){x--}}J x<=0}F if(is=="W"){J f.Q==0}F{J 4I}};G.4s=E(){if(1K.4c==o.1Q){1K.3o(X);o.1Q.3o(1K);o.2M?o.2M.4s():\'\';1K=26;X=26;hB=H}}};B CI=E(Y,ht){B 6Y=K;if(Y.I(\'6Y\')==0){6Y=H;Y=Y.1i(5)}B nC=lr(Y);B 2u;B 3c;B hq=K;B 3W=K;B nj=K;B op=K;B 2A=H;B sz=[];B c6=1;B nq=K;B hU=0;B vd;B dy=0;B nP=0;B os=K;B nn=\'J6\'+v.id+(6Y?\'6Y\':\'\');jQ("#J6"+v.id+"{Z:100%!5U;1c:100%!5U;5W-Z:1S!5U;5W-1c:1S!5U}");B 1K=1Y(\'2c\');B nc=0;1K.7f(\'id\',nn);ht.1U(1K);o.5e=K;!6Y?o.V.i2():\'\';if(o.1h.2e){v.4C=1}if(v.I0!=1){B 8s=1Y(\'2c\');ht.1U(8s);O(8s,{1q:"2B",1b:0,1a:0,"2v-1r":"#qn",1c:"100%",Z:"100%","1A":0});8s.1y("FS",E(1e){1e.6G=H});if(o.1h.2e){8s.1y("g5",E(1e){1e.6G=H});8s.1y("2p",E(1e){1e.6G=H});8s.1y("g6",E(1e){1e.6G=H;fp(1e);if(v.dE==1&&v.Np!=1){1w(JF,100);1w(nm,2h)}})}F{8s.1y("sh",E(1e){B x=H;if(v.1V==1){if(L(v.7x)&&!nj){x=K}if(L(v.mH)&&aV()=="6v"&&18()>0){x=K}}if(x&&v.dE==1&&v.Jl!=1){3g(G);1w(nm,4f)}})}v.dE==1&&v.NU!=1?3g(8s):\'\'}E nm(){6p(8s)}E JF(){if(v.Jl!=1){3g(8s)}}if(v.4C==1&&v.3j==0){8W()}if(!1z[\'YT\']){1z.Oj=E(){nM();U(B i=0;i<1z.4W.Q;i++){if(1z.4W[i]){if(1z.4W[i].2T("id")!=v.id){if(1z.4W[i].2T(\'zj\')){1z.4W[i].2T(\'z3\')}}}}};B wQ=v7("4S.9J/Iq","4S.9J/Iq","Oa");if(wQ){wQ.nB=E(e){o.V.dL();if(v.zx!=1){2u=\'Dh O9 hH\';o.P.5E()}}}}F{nM()}E nM(){if(v.4C==1||6Y){!hq?hA():\'\'}F{o.V.dL()}}E hA(){if("YT"in 1z){if(L(YT.uU)&&!hq){1n("w0 gw");B w6=0;if(v.I0==1){w6=1}o.2b>0?dy=2J(o.2b):\'\';3c=1u YT.uU(nn,{1c:o.94,Z:o.8U,NZ:nC,ML:{MJ:1,MG:nn,MD:1,Mq:1,ea:1,kK:((v.uB==0||(v.zO!=1&&o.1h.7t))&&o.1h.2e?0:1),Mo:3,S:w6,MM:0,Nj:1,9r:0,3j:6Y||v.3j==1?1:0,8Q:0},3i:{\'Nh\':w4,\'Ne\':zh,\'5E\':5E,\'MY\':zf}});if(o.2b>0){o.2b=1E}2z();hq=H}F{1w(hA,3Z)}}F{1w(hA,3Z)}}B kM;E w4(){if(o.P){1n("w0 fX");3W=H;2D(vd);o.V.8E();if(6Y){if(o.1h.s5){o.V.53()}3c.mT();o.1V.MU()}F{if(v.3j==1&&o.1h.s5&&!o.d7){o.V.53();if(o.1h.2e){3K(kM);kM=7O(Dp,ef)}}if(v.4C==0){3c.mT()}F{o.V.dL()}nc=3c.sU();o.P.a7();if(c6!=1){9a(c6)}ch();2z();if(v.P4==1){2R{if(3c.rv()){if(L(3c.rv().1N)){v.1N=3c.rv().1N;o.V.aE(\'1N\')}}}2C(e){}}}}}E Dp(){B x=3c.zC();if(x==2||x==-1){o.S.3b();o.S.8E();3K(kM)}if(x==1){3K(kM)}}E zh(1e){if(v.Nd==1){1n(\'YT\',1e.22)}if(6Y){if(1e.22==YT.df.zP){o.1V.MN()}if(1e.22==YT.df.z9){}}F{if(1e.22==YT.df.z9){if(nP==1){nP=0;w4()}if(!o.1t){o.V.2x()}if(dy>0){3c.zA(dy,H);dy=0;o.2b=1E}nm();nj=H;3W=H;if(op){3c.sN()}F{o.P.ac();o.P.aR()}zS();if(L(v.4F)){U(B i=0;i<o.2y.Q;i++){if(v.4F==o.2y[i]){5X(i)}}v.4F=26}F{if(L(o.4F)){U(B i=0;i<o.2y.Q;i++){if(o.4F==o.2y[i]){5X(i)}}o.4F=26}}nq=K}if(1e.22==-1&&nq&&o.1t){1n("w0 MI")}if(1e.22==YT.df.MK){}if(1e.22==YT.df.zP){8g()}if(1e.22==YT.df.O1){if(!o.1t){}if(o.1t){nq=H;8W()}}if(1e.22==YT.df.NX){}}}E 5E(1e){if(6Y){o.1V.Oc()}F{if(1e.22==2){2u="J5 4S id"}if(1e.22==5){2u="ys 4I"}if(1e.22==101||1e.22==wz||1e.22==100){2u="G h3 is Oo"}if(v.Ol==1){L(v.A4)?2u=v.A4:\'\'}if(v.zx!=1){o.P.5E()}F{1k(o.29)}}}E 8g(){v.1v>0?dy=v.1v:\'\';o.P.8g();o.P.a7()}E ge(){if(!o.Jp&&o.1t){o.V.3b()}}E aR(){o.P.aR()}E ch(){o.P.ch();o.V.xY()}E a7(){o.P.a7()}E ek(){o.P.ek()}E 8W(){if(o.P){o.P.8W()}F{vd=1w(8W,100)}}E zf(1e){yx(1e.22)}E zS(){if(!os){B x=3c.Nw()+\'\';if(x!=\'\'&&x!=1E){o.2y=x.2k(\',\');o.2y=o.2y.BJ();if(v.sT==0){B y=o.2y.I(\'2A\');if(y>-1){o.2y.ub(y,1)}}U(B i=0;i<o.2y.Q;i++){o.2y[i]=iJ(o.2y[i])}os=H;yx(3c.Mg())}}}E yx(x){o.3h=o.2y.I(iJ(x+\'\'));o.S.vS(o.3h)}G.3F=E(){J{"Z":0,"1c":0}};G.3v=E(x){nC=lr(x);if(o.2b>0){dy=2J(o.2b)}bF(nC)};E aV(){B 6V=-1;if(3W){6V=3c.zC()}B x=\'\';if(6V==-1){x="6v"}if(6V==1||6V==3){hU=0;x="8a";o.P.aR()}if(6V==2){x="6v";if(o.1t){hU++;if(hU==2){o.V.3b();hU=0}}}if(6V==5){x="6v"}if(6V==0){x="7l"}J x}E 2z(){2R{if(L(3c)){3c.LL(o.2W,o.4E)}}2C(e){1n(e)}}E iJ(x){B y=x;if(x=="LO"){y="wC"}if(x=="ak"){y="lL"}if(x=="Lv"){y="m5"}if(x=="Lw"){y="lY"}if(x=="LQ"){y="lU"}if(x=="Lu"){y="lR"}if(v.zM==1){y=2I(y)}if(x=="2A"){y=2I("2A")}sz[y]=x;J y}E 18(){B x=3W?3c.Ls():0;if(x>0&&v.j9>0){v.4n=x-v.j9;v.j9=-1}J x};E 9a(x){2R{3c?3c.Lj(x):\'\';c6=x}2C(e){}};G.la=E(){nM()};G.2x=E(){if(3W){3c.mT()}F{if(!hq){hA()}F{}}};G.3b=E(){if(3W){3c.sN()}};G.eE=E(){if(3W){aV()==\'8a\'?3c.sN():3c.mT()}};G.3P=E(x){if(3W){3c.zA(x,H);js("3C",x)}};G.aj=E(){J K};G.53=E(){3W?3c.5i():\'\'};G.6l=E(){3W?3c.Rk():\'\'};G.3U=E(x){3W?3c.zc(x*100):\'\'};G.mY=E(){J aV()==\'8a\'};G.5Q=E(){J K};G.sF=E(x){5X(x)};E 5X(x){if(3W){if(L(o.2y[x])){B y=sz[o.2y[x]];2A=y==\'2A\';B z=18();3c.Rn(y)}}}G.gg=E(x){9a(x)};G.3W=E(){J 3W};G.7e=E(){J aV()};G.18=E(){J 18()};G.1m=E(){B x=3W?3c.sU():0;if(x!=nc){nc=x;o.P.a7()}if(L(v.4b)){if(7n([v.4b],\'-\')){x=x+v.4b*1}F{x=v.4b}}J x};G.ag=E(){B x=0;if(3W){x=3c.QR()*3c.sU()}J x};G.4N=E(){2z()};G.hX=E(){J 2u};G.2A=E(){J v.sT==1?2A:K};G.BG=E(x){bF(x)};E bF(x){Y=x;if(3c){nP=1;3c.QV(x,0)}}G.mN=E(){if(o.1h.2e&&o.1h.cr){G.2x();op=H}F{if(aV()=="8a"){G.3b()}}};G.c9=E(){op=K};G.yP=E(){J H};G.4s=E(){3W?3c.9Q():\'\';3W=K;os=K;2R{if(1K){ht.3o(1K)}ht.3o(8s)}2C(e){}}};B kV=E(){B 2n=[];B bo=[];B 4I=H;B 7b;B 9j=-1;B uT;B an;B p1=[];B pF;B i8=[];G.1v=E(x){if(!x&&an){oo(an);an=1E}F{x?oo(x):\'\'}};G.xB=E(x){oo(x)};G.A7=E(){i8=[]};E oo(x){if(L(x)){if(x.I("#"+v.bB)==0&&x.I(v.dh)>0){o[o.fd[1]](x,BV)}F{b4(x)}}}E BV(x){if(x){o.1W=x;b4(x)}}E b4(x){!x?x=\'\':\'\';if(x!=\'11\'){B 1v=0;B rX=H;B j2=\'\';o.1W=x.2k(",");o.2V=[];o.3l=-1;if(o.5f&&v.vF==1){if(3S.6H("vH")!=26){j2=3S.6H("vH")}}F{if(o.nr){j2=o.nr}}U(B i=0;i<o.1W.Q;i++){if(o.1W[i].I("#0")==0){o.1W[i]=cD(o.1W[i])}if(o.1W[i].I("#"+v.a3)==0){o.1W[i]=o[o.fd[0]](o.1W[i])}if(o.1W[i].I("[")==0&&o.1W[i].I("]")>1){o.2V[i]=o.1W[i].1i(o.1W[i].I("[")+1,o.1W[i].I("]")-1);o.1W[i]=o.1W[i].1i(o.1W[i].I("]")+1);rX=K}F{o.2V[i]=o.1W[i].1i(o.1W[i].nJ("/")+1);o.2V[i]=o.2V[i].1i(0,o.2V[i].nJ("."))}if(o.1W[i].I("#0")==0){o.1W[i]=cD(o.1W[i])}if(o.1W[i].I("#"+v.a3)==0){o.1W[i]=o[o.fd[0]](o.1W[i])}}if(o.2V.Q>1&&v.pJ==1){o.2V.2K(oO(\'Pj\',(v.Pu==1&&L(v.D3)?v.D3:2I(\'C7\'))));o.1W.2K("9N")}if(o.2V.Q>0&&v.8L==1){if(v.yA==1){7b=0;1v++;o.2V.iL(oO(\'D6\',2I(\'7a\')));o.1W.iL("")}F{o.2V.2K(oO(\'D6\',2I(\'7a\')));o.1W.2K("");7b=o.2V.Q-1}}if(L(v.Dd)){U(B i=0;i<o.1W.Q;i++){if(v.Dd==o.2V[i]){1v=i;o.3l=i;v.gN=1}}}if(j2!=\'\'){U(B i=0;i<o.1W.Q;i++){if(j2==o.2V[i]){1v=i;o.3l=i}}}if(v.8L==1&&v.gN==0){o.3l=7b}L(o.S)?o.S.b0():\'\';if(v.gN==1){o.3l=1v;if(o.1v){if(v.pJ==1&&o.1W[1v]=="9N"){v2(o.3l)}F{hY(o.3l)}}F{an=x;o.4U=o.1W[1v]!=\'7a\'&&1v!=7b;1w(io,3Z)}}F{if(rX&&o.1W.Q<3){hY(7b==0?1:0)}v.8L!=1?o.3l=-1:\'\'}}F{4s()}};E Dg(x){if(x.I(\'js:\')==0){2R{x=2f(x.1i(3))}2C(e){8x.1n(e.a2)}}J x?x:\'\'};G.sV=E(x){jr(x,\'1C\')};E hY(x){if(L(o.1W[x])){o.1W[x]=Dg(o.1W[x]);if(o.1W[x]){if(o.1W[x].I(".")>-1){o.ls=o.1W[x].2k(" or ");o.fG=0;jr(x)}F{if(o.1W[x].I(\'bo\')==0){if(bo[o.1W[x].1i(4)]){y7(o.2V[x],bo[o.1W[x].1i(4)])}}if(o.1W[x].I(\'1C\')==0){o.P.gh(x,"Js");o.4U=H;o.3l=x;o.S.b0()}}}}}E v2(x){o.4U=H;io()}E jr(x,y){B Y=y==\'1C\'?x:4d(o.ls[o.fG]);B ko=Y;B fx;if(p1[Y]){if(o.1W[x]!=\'9N\'){o.4U=H;io()}}F{if(Y.I(\'cH\')>0&&Y.I(\'cH\')<4){fx=Y.1i(0,Y.I(\'cH\'));ko=Y.1i(Y.I(\'cH\')+3)}B 4L=gr(ko);9j=x;o.iY=1;4L.as=E(){o.iY=0;if(G.gY==4&&G.7e==4z){o.4U=H;y7(Y,G.dJ,x,y)}F{if(o.fG+1<o.ls.Q){o.fG++;jr(9j)}F{mG("f5")}}};4L.nB=E(e){o.iY=0;if(o.fG+1<o.ls.Q){o.fG++;jr(9j)}F{mG("f5")}};4L.dW()}};E mG(x){1n("1X gI m9 or Ao Ap");if(o.2V&&o.1W){if(o.2V[o.3l]){if(o.2V[o.3l].I(2I("f5"))==-1){o.2V[o.3l]=o.2V[o.3l]+\' (\'+2I(x)+\')\'}}if(v.Qe==1&&9j>-1){o.1W[9j]=\'\';o.2V[9j]=\'\'}}o.3l=-1;o.4U=K;if(o.Qf){o.S.b0();o.S.4w()}F{1w(E(){if(o.S){o.S.b0();o.S.4w()}},100)}if(L(o.1X)){o.1Q.3o(o.1X);o.1X=26}}E y7(Y,x,y,z){B fx;if(x.I("#"+v.a3)==0){x=o[o.fd[0]](x)}if(x.I("#"+v.bB)==0&&x.I(v.dh)>0){x=o[o.fd[1]](x)}if(Y.I(\'cH\')>0&&Y.I(\'cH\')<4){fx=Y.1i(0,Y.I(\'cH\'))}if(Y.I(\'.ia\')>-1||Y.I(\'.yv\')>-1||Y.I(\'.mD\')>-1||Y.I(\'.xz\')>-1){B l=fx?fx:o.3l;!o.1W?o.1W=[]:\'\';if(o.1W[l]=="9N"){l=y}if(z!=\'1C\'||!2n[l]){2n[l]=7P();2n[l][0]=[];2n[l][1]=[]}B 3x=aq();3x=x.2k(/\\r|\\n/);B 9p=1;B t1=0;B t2=0;B fR=(L(v.CA)?v.CA:0);if(Y.I(\'ky=\')>0){fR=Y.1i(Y.I(\'ky=\')+6)*1}U(B i=0;i<3x.Q;i++){if(Y.I(\'.ia\')>-1||Y.I(\'.xz\')>-1){if(3x[i].I(\'-->\')>-1&&3x[i].I(\':\')>-1){if(z==\'1C\'){if(i8.I(3x[i])>-1){1g}i8.2K(3x[i])}t1=ik(3x[i].1i(0,3x[i].I(\'-->\')))*1+fR;t1==0?t1=1:\'\';t2=ik(3x[i].1i(3x[i].I(\'-->\')+4,12))*1+fR;L(2n[l][0][t1])?\'\':2n[l][0][t1]=\'\';U(B j=t1;j<t2;j++){2n[l][1][j]=t1}9p++}F{3x[i]=4d(3x[i]);if(3x[i]!=\'\'&&3x[i].Q>0&&3x[i]!=9p&&3x[i]!=\'Qr\'){if(2g(2n[l][0][t1])){2n[l][0][t1]=2n[l][0][t1]+\'<br>\'+3x[i]}F{2n[l][0][t1]=3x[i]}}}}if(Y.I(\'.yv\')>-1||Y.I(\'.mD\')>-1){if(3x[i].I(\'Qt:\')>-1){t1=ik(3x[i].1i((Y.I(\'.mD\')>-1?3x[i].I(\'=0\')+3:12),12))*1+fR;t2=ik(3x[i].1i((Y.I(\'.mD\')>-1?3x[i].I(\'=0\')+14:23),10))*1+fR;B p=\'\';if(3x[i].I(\'0,,\')>0){p=3x[i].1i(3x[i].I(\'0,,\')+3)}F{if(3x[i].I(\'Aw,\')>0){p=3x[i].1i(3x[i].I(\'Aw,\')+6)}if(3x[i].I(\')}\')>0){p=3x[i].1i(3x[i].I(\')}\')+2)}}if(p!=\'\'){if(2n[l][0][t1]!=1E){2n[l][0][t1]+=\'<br>\'+p}F{2n[l][0][t1]=p}2n[l][0][t1]=2n[l][0][t1].1O(/{.*?}/,\'\');2n[l][0][t1]=2n[l][0][t1].1O(/\\\\\\\\N/,\'<br>\');2n[l][0][t1]=2n[l][0][t1].1O(/\\\\N/,\'<br>\');U(B j=t1;j<t2;j++){2n[l][1][j]=t1}}}}}p1[Y]=H;if(o.1W[y]!=\'9N\'){z!=\'1C\'?io():\'\'}}F{if(x!=\'\'){if(x.I(\'[\')==0){b4(x)}F{mG("2u")}}F{4s();o.S.4w()}}}E io(){o.S.b0();o.V.kG();o.S.4w()}E ik(ia){B 1H=ia.2k(\':\');B 5k=0;1H.Q==2?1H.iL("cL"):\'\';1H[0]!=\'cL\'?5k+=1H[0]*xQ:\'\';1H[1]!=\'cL\'?5k+=1H[1]*60:\'\';5k+=1H[2].1i(0,2)*1;5k=5k*10+1H[2].1i(3,1)*1;J 5k};E 9l(x){if(L(o.3l)){if(o.3l!=x){i8=[];if(x==-1||(v.8L==1&&x==7b)){ly()}F{v.eq=0;o.3l=x;o.4U=H;v.gN=1;wM(x);js("1X",o.2V[x]);o.S.b0()}}F{if(v.8L!=1){ly()}}}}E w8(){if(L(o.2V[o.3l])){if(o.5f&&v.vF==1){3S.9o("vH",o.2V[o.3l])}F{v.PI!=1?o.nr=o.2V[o.3l]:\'\'}}}E wM(x){if(L(o.1W[x])){1n("fr",x);o.3l=x;w8();if(o.2o=="1C"&&o.a0==H){o.P.gh(x,"1C")}F{if(o.2o=="3N"&&o.wg==H){o.P.gh(x,"3N")}F{if(o.1W[x]=="9N"){v2(o.3l)}F{hY(o.3l)}}}}};G.va=E(){if(o.gB){B x=o.gB.43;if(x[0]){B y=1u lh();y.as=E(e){B z=e.4k.kd;bo.2K(z);o.3l=-1;B z=x[0].6J;if(z.Q>40){z=x[0].6J.1i(0,15)+\'...\'+x[0].6J.1i(-15)}if(v.8L==1&&v.yA==1){o.1W.2K(\'bo\'+(bo.Q-1));o.2V.2K(z+\'\');9l(o.1W.Q-1)}F{o.1W.iL(\'bo\'+(bo.Q-1));o.2V.iL(z+\'\');v.8L==1?7b++:\'\';9l(0)}o.gB.5H=""};y.PO(x[0])}F{o.gB.2p()}}};G.9l=E(x){9l(x)};G.7b=E(){J 7b};G.PU=E(x){7b=x};G.1o=E(x){nQ(x)};G.C=E(){qF()};G.5C=E(){4s()};G.7a=E(){ly()};E ly(){js("1X","7a");o.4U?o.zi=o.3l:\'\';o.3l=v.8L==1?7b:-1;v.gN=0;o.4U=K;o.S.b0();w8();o.wg?wM(o.3l):\'\';L(o.1X)?o.1Q.3o(o.1X):\'\';o.1X=26}E nQ(18){if(o.9i){J}B t=2J(18*10);if(v.eq){18=18-v.eq*1}if(o.4U&&L(o.1W)){if(2n){B x=o.3l;B t=2J(18*10);if(v.vu==1&&!o.1t){J}if(o.1W[x]=="9N"){if(!pF){U(B i=0;i<o.1W.Q;i++){1w(hY,i*3Z,i)}if(!2n[x]){2n[x]=7P();2n[x][0]=aq();2n[x][1]=aq()}pF=H}F{if(2n[x][1][t]){}F{U(B i=0;i<o.1W.Q;i++){if(2n[i]){if(L(2n[i][1])){if(L(2n[i][1][t])){if(!2n[x][0][t]){2n[x][0][t]=\'\'}2n[x][0][t]+=(2n[x][0][t]!=\'\'?\'<br>[pz]\':\'\')+2n[i][0][2n[i][1][t]]+(2n[x][0][t]!=\'\'?\'[/pz]\':\'\')}}}}if(L(2n[x][0])){if(L(2n[x][0][t])){2n[x][1][t]=t}}}}}if(L(2n[x])){if(L(2n[x][1])){if(L(2n[x][1][t])){B y=\'\';y=2n[x][0][2n[x][1][t]];if(!L(o.1X)){o.1X=1Y(\'2c\');3V(o.1X,{id:\'jg\'+v.id+\'42\'+\'1X\'});o.1Q.1U(o.1X);qF();js("ut",o.2V[x])}if(4I){6p(o.1X)}Cf();if(v.Cg==1){y=PJ(y)}if(v.pJ==1){y=y.1O(/\\[pz\\]/gm,\'<7u C="1r:\'+3t(v.ku)+\'">\');y=y.1O(/\\[\\/pz\\]/gm,\'</7u>\')}if(y.I(\'<c.\')>-1){y=y.1O(/\\<c./gm,\'<7u C=1r:\');y=y.1O(/\\<\\/c\\>/gm,\'</7u>\')}if(v.8O){if(v.8O.2n==1&&uT!=y){js("2n",y);uT=y}}o.1X.1P=\'<7u C="\'+(v.Aq==1?\'2v-1r:\'+5M(v.nT,v.nU)+\';\':\'\')+\'-3J-7m-yX-1g: QA;1r:\'+3t(v.kr)+\';2P:\'+v.yh+\'px \'+v.yh*2+\'px;2Q-6A:\'+v.CT+\'px;2S:0 0;2E-1c:\'+(v.CE?v.CE:1.8)+\';3X-dG:\'+v.nY+\'">\'+4d(y)+\'</7u>\';O(o.1X,{"3X-3F":((2J(v.oE)+((2J(v.kq)-100)*2J(v.oE)/100))+"px")});if(v.D4==1){if(o.1Z){O(o.1X,{"3X-3F":((v.oC+((2J(v.kq)-100)*v.oC/100))+"px")})}}4I=K}F{if(!4I&&L(o.1X)){qB()}}}}F{qB()}}}}E qB(){if(!4I){o.1X?o.1X.1P=\'\':\'\';4I=H;3g(o.1X)}}E qF(){if(o.1X){O(o.1X,{"1q":"2B","Z":"100%","2P-1a":"10%","2P-2t":"10%","1a":0,"1r":v.kr,"1B-8q":"7Z","7m-jN":"2Q-7m"});if(v.Qm==1&&L(v.qY)){v.qY!=\'\'?O(o.1X,{"3X-eG":v.qY}):\'\'}if(v.uc==1){O(o.1X,{"1B-9G":"-4t -4t 0 #f8,4t -4t 0 #f8,-4t  4t 0 #f8,4t  4t 0 #f8"})}F{if(v.nX==1){O(o.1X,{"1B-9G":"4t 4t pH Ql"})}F{O(o.1X,{"1B-9G":"1S"})}}if(v.Qk==1){tg(o.1X,\'o.pY\')}F{v.Cg!=1?fi(o.1X):\'\'}}}E Cf(){if(!o.pY){if((o.S.n7()||v.dg>v.1p.h)&&v.Qi==1){O(o.1X,{"1q":"2B","1b":"2A","1a":0,"2N":v.dg*1})}F{O(o.1X,{"1q":"2B","1a":0,"2N":(v.dg*1+v.1p.h*1)})}}}E 4s(){o.3l=-1;o.4U=K;o.pB=K;v.1X=26;v.lD=26;o.2n=26;o.1W=26;pF=K;p1=[];2n=[];if(L(o.S)){o.S.b0()}o.2V=[];if(L(o.1X)){o.1Q.3o(o.1X);o.1X=26}o.3l=26;o.4U=K}};B EJ=E(X,bg,C){B 1l=1Y("2c");B cu;X.1U(1l);O(1l,{"1q":"2B","1b":(-bg.2U/2)-1,"2v-1r":3t(2m(C.Qb,"#PA")),"2Q-OZ":1,"2i":"1S","9u":"1S"});if(C.p8==1&&C.zE){cu=C.zE.2k(",");O(1l,{"3X-3F":8,"1r":"#eg","2P":"pH pH 0 pH","2E-1c":"1"})}F{C.p8=0;O(1l,{"1c":9,"Z":13,"2v-8c":"Y(22:8c/2w+OH;gU,OG=)"})}G.f3=E(){B y=0;B x=o.P.mt();x=x.1O(2I("2A")+\' \',\'\');if(x){if(C.p8!=1){if(x==\'HD\'||x.I(\' HD\')>0||x.I(\'hd\')==0||x.I(\'Hd\')==0){x=\'An\'}}B x0=x;if(x.I(\' \')>0){x0=x.1i(0,x.I(\' \'))}y=2J(x0)}B t=\'-1\';B z;if(C.p8==1){if(nL(y)){y=x}t=\'\';U(B i=0;i<cu.Q;i++){B pU=cu[i].2k(":");if(pU.Q==2){if(4d(pU[0])==y){t=4d(pU[1])}}}if(t==\'\'){if(y>pf){z=H;1l.1P="HD"}}F{z=H;1l.1P=t}}F{if(y>pf){z=H}}if(z){6p(1l);if(bg.28-1l.28>0){O(1l,{"1a":(bg.28-1l.28)/2-2})}}F{3g(1l)}}};B 5x=E(x){B eX;B OC;B 2X;B 4H;B 4o;B pL;B eI=0;B c6;B ud=K;B qR;if(x.me!=1E&&x.mc!=1E&&x.1F!=1E&&x.to!=1E){if(x.18==26){if(x.1F.I("fF")>-1){x.to==0?x.18=0.5:x.18=0.2}F{x.18=0.20}}eX=Dl(x.6z);if(x.1F.I("1M")==-1){if(L(o.7v[x.me])){o.7v[x.me].qQ()}o.7v[x.me]=G}if(x.1o==1){x.mc.1R("2i",H)}2X=x.1F.2k(\'|\');4o=6R(x.to).2k(\'|\');4H=1u aq();U(B i=0;i<2X.Q;i++){if(!4o[i]){4o[i]=4o[0]}if(2X[i]=="fF"){4H[i]=x.mc.g("1A")}if(2X[i]=="8f"){4H[i]=x.mc.C.1A}if(2X[i]=="y"){4H[i]=x.mc.g("y")}if(2X[i]=="x"){4H[i]=x.mc.g("x")}if(2X[i]=="1a"){4H[i]=2J(x.mc.C.1a)}if(2X[i]=="1b"){4H[i]=2J(x.mc.C.1b)}if(2X[i]=="1M"){4H[i]=x.mc.g("3n")}if(2X[i]=="8V"){4H[i]=x.mc.d6}if(2X[i]=="k6"){4H[i]=x.mc.aY}if(2X[i]=="3u"){4H[i]=x.mc.g("3u")}if(2X[i]=="3n"){4H[i]=x.mc.g("3n")}if(2X[i]=="Z"){4H[i]=x.mc.g("Z")}if(2X[i]=="BP"){4H[i]=x.mc.28;4o[i]=2F.8H(4o[i]);x.me=="OA"?1n("Z",x.me,4H[i],4o[i],x.mc.28):\'\'}if(2X[i]=="1c"){4H[i]=x.mc.g("1c")}if(2X[i]=="BS"){4H[i]=x.mc.2U}4o[i]=Co(4o[i]);4H[i]=Co(4H[i])}c6=x.18*2h/eX.Q;pL=eX.Q;if(2X.Q==1&&4H[0]==4o[0]){9F()}F{1w(p0,2F.4r(c6))}}E p0(){U(B i=0;i<2X.Q;i++){B 1H=4H[i]+(4o[i]-4H[i])*(eX[eI]?eX[eI]:0);qT(2X[i],1H);if(2X[i]=="y"){x.mc.1R("1b",1H)}if(2X[i]=="x"){x.mc.1R("1a",1H)}if(2X[i]=="1a"){x.mc.C.1a=1H+"px"}if(2X[i]=="1b"){x.mc.C.1b=1H+"px"}if(2X[i]=="1M"){x.mc.1R("1M",1H)}if(2X[i]=="3u"){x.mc.1R("3u",1H)}if(2X[i]=="3n"){x.mc.1R("3n",1H)}if(2X[i]=="8V"){x.mc.d6=1H}if(2X[i]=="k6"){x.mc.aY=1H}if(2X[i]=="Z"){x.mc.1R("Z",1H)}if(2X[i]=="BP"){O(x.mc,{"Z":1H})}if(2X[i]=="1c"){x.mc.1R("1c",1H)}if(2X[i]=="BS"){O(x.mc,{"1c":1H})}}eI++;if(!ud){if(eI==pL){9F()}F{qR=1w(p0,2F.4r(c6))}}}E 9F(){ud=H;if(x.1k){if(2X[0]=="8f"||2X[0]=="1a"){1k(x.mc)}F{x.mc.1R("2i",K)}}if(x.1F.I("1M")==-1){o.7v[x.me]=26;4n o.7v[x.me]}U(B i=0;i<2X.Q;i++){qT(2X[i],4o[i])}2D(qR)};E qT(y,z){if(y=="fF"){x.mc.1R("1A",z)}if(y=="8f"){x.mc.C.1A=z}}G.qQ=E(){9F()};G.BD=E(){eI=pL-1;p0();9F()};G.XY=E(x0,x1,y0,y1){B e=K;U(B i=0;i<2X.Q;i++){if(2X[i]==\'x\'&&x0!=x1){e=H}if(2X[i]==\'y\'&&y0!=y1){e=H}}e?9F():\'\'};E Dl(CG){bJ(CG){1j"CK":J[0,0.Po,0.Pn,1.Pm,1.Pk,1.Ph,1.102,0.Pg,0.Pf,0.87,0.P8,0.P7,1.S4,1.RT,1.RS,1.RR,0.RJ,0.RI,0.SE,0.SD,1.SA,1.BF,1.Sz,1.BF,1.Sy,0.kg,0.mh,0.mh,0.mh,0.mh,1];1g;1j"bP":J[0,0.Ss,0.Sq,0.Sp,0.So,0.Sn,0.Sm,0.Sl,0.Sg,0.Sf,0.Sd,0.Sb,0.RE,0.RD,0.R6,0.R5,0.QZ,0.QW,0.AS,0.95,0.QU,0.QS,0.QP,0.QO,0.99,0.QN,0.QM,0.kg,1];1g;6X:J[0,0.Ax,0.32,0.44,0.52,0.6,0.67,0.73,0.QF,0.82,0.85,0.QT,0.R8,0.AS,0.95,0.97,0.RB,0.RA,1];1g}}};B HB=E(){B N=7H.Rz,ua=7H.Ry,yS;B M=ua.yU(/(md|ke|6K|AP|AM)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);B M=ua.yU(/(md|ke|6K|AP|AM|Rv|nD)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);if(M&&(yS=ua.yU(/8r\\/([\\.\\d]+)/i))!=26)M[2]=yS[1];B og=7H.AE;G.cS=M?M[1]:N;G.8r=M?M[2]:7H.Ra;G.eu=7H.AE>1;G.9O=7H.If;G.md=G.cS=="Rl";G.ra=G.cS=="BK 9.0";G.ie=G.cS=="BK"||G.cS=="Rc"||G.cS=="Rb";G.nD=ua.cZ(/(nD)\\/?\\s*/i)>-1;G.ff=G.cS=="Oh";G.6K=G.cS=="Lg";G.ke=1z.ke;G.jf=ua.cZ("Lq NT")>-1;G.4i=(ua.cZ(/(7t|kc|Lc)\\/?\\s*/i)>-1)||(7H.Lr===\'LV\'&&og>1);G.tv=v.CY!=1&&ua.cZ(/(TV|LW|LY|LZ|M0|M6|Md|LR)\\/?\\s*/i)>-1;G.lg=v.CY!=1&&ua.cZ(/(LG)\\/?\\s*/i)>-1;G.7t=ua.cZ(/(7t)\\/?\\s*/i)>-1;G.kc=G.4i&&!G.7t;G.3J=\'LC\'in 1T.pM.C;if(ua.cZ(/(cr)\\/?\\s*/i)>-1){og>0?G.cr=H:G.tv=H;if(LD(\'(4D:LH)\').LN){G.tv=H}}G.2e=(2H.2e==1||G.4i||G.cr||(ua.cZ(/(LP|LK|md lJ)\\/?\\s*/i)>-1))&&!G.tv&&2H.LJ!=1;G.s5=G.6K||G.ke;G.1Z=K;if(G.4i){G.LI=3Y(ua.1i(ua.I(\'OS \')+3,4).1O(\'42\',\'.\'));if(G.kc&&(!\'F0\'in 1z||og<2)){G.2e=G.4i=K;G.tv=H}}G.g1=!G.2e;G.vn=G.2e||G.eu;G.GM=G.2e||G.tv;G.LA=G.3J&&G.g1;if(o.1Q.wI||o.1Q.wE||o.1Q.wK||o.1Q.wL||o.1Q.wN){G.1Z=H}};E bD(4j,7r){U(B s in 7r){if(1D(7r[s])==\'3D\'){if(s=="3i"||s=="3e"){4j[s]=7r[s]}F{U(B s2 in 7r[s]){if(1D(4j[s])!=\'3D\'){4j[s]={}}if(1D(7r[s][s2])==\'3D\'){U(B s3 in 7r[s][s2]){if(1D(4j[s][s2])!=\'3D\'){4j[s][s2]={}}if(1D(7r[s][s2][s3])==\'3D\'){U(B s4 in 7r[s][s2][s3]){if(1D(4j[s][s2][s3])!=\'3D\'){4j[s][s2][s3]={}}4j[s][s2][s3][s4]=7r[s][s2][s3][s4];if(s3==\'2P\'||s3==\'2S\'){4j[s][s2][s3][s4]=2J(4j[s][s2][s3][s4])}}}F{4j[s][s2][s3]=7r[s][s2][s3];if(s2==\'2P\'||s2==\'2S\'){4j[s][s2][s3]=2J(4j[s][s2][s3])}}}}F{4j[s][s2]=7r[s][s2];if(s==\'2P\'||s==\'2S\'){4j[s][s2]=2J(4j[s][s2])}}}}}F{if(s.I("Lz")>0&&4d(7r[s])===""){}F{4j[s]=rl(s,7r[s])}}}J 4j};B rl=E(19,5H){if(1D(5H)==\'4y\'){5H=4d(5H);if(19.I("1r")>-1&&5H!=-1){5H=3t(5H)}}J 5H};E G2(){2R{B 5f=1z[\'3S\'],x=\'Lx\';5f.9o(x,x);5f.rK(x);J H}2C(e){J K}};E yl(bw){if(bw){if(L(o.7v[bw])){o.7v[bw].qQ()}}};B 2I=E(x){B y=x;if(y){y=x.6t(0).D8()+x.4M(1);if(y.I("42")>-1){y=y.1O(/42/ig," ")}}B en={"of":"of","hv":"hv","Mb":"Ca on Cy","M9":"Ca 2u on Cy","C7":"Lt at M5","8A":"ou","M3":"No","qv":"M2","o0":"LX","gS":"xu 3e","LU":"LS","dg":"L5 2S","nY":"L4 dG","nX":"Le","nU":"aA 1A","nT":"aA 1r","kq":"tM 3F","kr":"tM 1r","ku":"tM 1r 2","eq":"46 ky","tR":"bj 2H","uh":"Lp","e9":"Ll","Li":"Lf to Ld","wC":"L6","lL":"L7","m5":"Me","lY":"BQ","BC":"BQ","lU":"HD","lR":"Nm HD","NS":"NR HD","vz":"NQ HD","vX":"NP HD 4K","NL":"Ad","NJ":"Go to NH NG\'s NF","7F":"NC","5u":"NB","1Z":"NA 1Z","IR":"AJ 1Z"};if(L(en[x])){y=en[x]}if(v.Cn==1){if(o[\'oF\'+o.1h.9O]){v.9O=o.1h.9O;v.Cn=0}}if(L(o[\'oF\'+v.9O])){if(L(o[\'oF\'+v.9O][x])){y=o[\'oF\'+v.9O][x]}}if(v.tB){if(v.tB[x]){y=v.tB[x]}}J y};B 9E=E(x,y,z){if(!L(o.kE[y])&&v.rA!=1){B t=o.cX?o.cX:(v.1N?v.1N:\'\');L(v.8i)?t=v.8i:\'\';if(v.Cr[x]==1&&v.Aa==1&&L(v.sI)){if(L(1z["Cq"+v.sI])){1z["Cq"+v.sI].Nv(\'mX\'+x,{1N:t});1n("Cm",\'mX\'+x)}F{1n("Cm Nt 2u")}}if(v.Cb[x]==1){if(v.ga==1){B k4;if(1z.zn){k4={\'Ns\':\'Nq\',\'NV\':t};if(v.jW){if(1D(v.jW)=="3D"){U(B g in v.jW){if(v.jW.2r(g)){k4[g]=v.jW[g]}}}}v.Oe==1?1n(\'ga\',\'mX\'+x,k4):\'\';zn(\'1e\',\'mX\'+x,k4)}}}}z?o.kE[y]=H:\'\'};B lr=E(Y){B x=\'\';Y=Y.1O("v=","{=");if(Y){if(Y.I(\'lp.be/\')>-1){x=Y.1i(Y.I(".be/")+4);x.1O("/","")}F{x=Y.2k(/(lp.be\\/|v\\/|xO\\/|Or\\?|4S.Os\\/GX\\/[^#]*#([^\\/]*?\\/)*)\\??{?=?([^#\\&\\?]*)/)[3]}if(x!=\'\'){if(x.I("?t=")>0){v.1v=x.1i(x.I("?t=")+3);B h=0;B m=0;B s=0;if(v.1v.I("h")>0){h=v.1v.1i(0,v.1v.I("h"));v.1v=v.1v.1i(v.1v.I("h")+1)}if(v.1v.I("m")>0){m=v.1v.1i(0,v.1v.I("m"));v.1v=v.1v.1i(v.1v.I("m")+1)}if(v.1v.I("s")>0){s=v.1v.1i(0,v.1v.I("s"));v.1v=v.1v.1i(v.1v.I("s")+1)}if(h>0||m>0||s>0){v.1v=h*xQ+m*60+s*1}}if(x.I("?")>0){x=x.1i(0,x.I("?"))}}}J x};B js=E(x,y,li,ev){if(x=="8G"){o.8G=H}if(ev==1){U(B yi in y){if(y.2r(yi)){if(1D(y[yi])=="3D"){y[yi]=\'\'}}}}if(v.nl==1&&o.8G){if(v.Ot==1||li==1){s6(x,y)}F{if(y!=1E){if(1D(y)==\'3D\'){2R{y=5n.rk(y)}2C(e){}}F{if(1D(y)==\'4y\'){y=y.1O(/\'/ig,\'′\')}}}if(1D(v.3i)==\'4y\'){if(v.3i.I("{")==0){2R{v.3i=v.3i.1O(/\\\'/ig,\'"\');v.3i=5n.7g(v.3i)}2C(e){8x.1n(e)}}}if(1D(v.3i)==\'3D\'){if(L(v.3i[x])||L(v.3i[\'sL\'])){B z=x;if(!L(v.3i[x])&&L(v.3i[\'sL\'])){z=\'sL\'}if(x.I("6b")==0){if(L(v.3i[\'1V\'])){z=\'1V\'}}2R{if(y!==1E){2f(v.3i[z]+"(\'"+x+"\',\'"+v.id+"\',\'"+y+"\')")}F{2f(v.3i[z]+"(\'"+x+"\',\'"+v.id+"\')")}}2C(e){1n("3i",e,x)}}}F{if(v.3i==\'\'){v.3i="z7"}2R{if(y!==1E){2f(v.3i+"(\'"+x+"\',\'"+v.id+"\',\'"+y+"\')")}F{2f(v.3i+"(\'"+x+"\',\'"+v.id+"\')")}}2C(e){1n("3i",e,x,y)}}}}if(o.8G&&v.Df==1){if(o.zW){2R{o.zW.k7.l7({1e:x,8R:y},"*")}2C(e){}}}if(v.Hi==1&&li!==1){if(x&&2g(v.A3)){B pm=v.A3.1O(/\\s+/ig,\'\').2k(\',\');if(pm.I(x)==-1){J}}B zv={1e:x,18:o.P?(x=="3C"?o.Ai:o.P.18()):0};if(y!=1E){zv["22"]=y}if(x=="1m"||x=="18"){zv["1m"]=o.P.1m()}if(x=="1I"||x=="9B"){zv["1I"]=v.1I}if(x=="1u"){zv["id"]=3r("zd")}2R{1z.a8.l7(zv,\'*\')}2C(e){};B z=x;x=="8G"||x=="1v"||x=="4b"?z=x+"ed":\'\';x=="1t"?z="O4":\'\';x=="3L"?z="6v":\'\';x=="5i"?z="3m":\'\';x=="9B"?z="O3":\'\';x=="3C"?z="O2":\'\';x=="O0"?z="NY":\'\';zv["1e"]=z;if(z!=\'\'&&z!=x){zv=5n.7g(5n.rk(zv));2R{1z.a8.l7(zv,\'*\')}2C(e){}}}};B s6=E(x,y){B ev=1T.Nl(\'7o\');if(y!==1E){ev.8R=y}ev.MO(x,H,H);o.1K.Nk(ev)};G.2T=E(x,y,R){v.MH==1?1n(\'2T\',x,y):\'\';J 3r(x,y,R)};E 3r(x,y,R){if(L(o.V)&&1D(x)==\'4y\'){if(o.iW==1){J}if(R){if(1D(R)==\'4y\'){if(R.I("id:")==0){R=o.S.xZ(R.1i(3),"4J");if(R){if(x=="mI"&&y=="MF"){R.Fu()}}}}}if(x=="1t"||x=="3e"){if(L(y)){B bf=K;if(1D(y)==\'4y\'){y=y.1O(/(\\r\\n|\\n|\\r)/gm,"");B 2b=-1;if(y.I("[3C:")>-1&&y.nJ("]")==y.Q-1){2b=y.1i(y.I("[3C:")+6,y.Q-1);2b=2b.1i(0,2b.Q-1);if(2b=="18"){2b=o.P.18()}F{2b=2J(2b)}y=y.1i(0,y.I("[3C:"));if(y==\'\'){if(o.P.1m()>0){o.V.3P(2b);o.V.2x();J}F{o.2b=2b;o.V.2x();J}}F{o.2b=2b}}if(y.I("[zY]")>-1){bf=H;y=y.1O(\'[zY]\',\'\')}if(y.I("#"+v.a3)==0){y=o[o.fd[0]](y)}if(y.I("#"+v.bB)==0&&y.I(v.dh)>0){o[o.fd[1]](y,zK,x);J}if(y.I("#0")==0){y=cD(y)}if(v.c7==1){y=c7(y)}if(y.I(".8Z")==y.Q-4){B 4L=gr(y);4L.as=E(){if(G.gY==4&&G.7e==4z){2R{3r(\'1t\',5n.7g(G.dJ))}2C(e){}}};4L.dW();J}if(y.I("id:")==0&&L(o.1G)){B z=zp(y);if(L(o.1G[z])){o.S.Km(z);2b>-1?o.2b=2b:\'\';J H}F{J K}}if(y.I("MB:")==0){B z=y.1i(10);if(o.2o=="4S"){o.P.BH(z);J H}F{y=\'//lp.be/\'+z}}}if(x=="1t"){o.S.Ko();o.V.dV(y,1E,1E,(bf?1:0))}if(x=="3e"){o.lj=H;v.3j=0;o.V.dV(y,1,1E,(bf?1:0));o.S.41(0,0);o.1v=K}}F{if(x=="1t"){o.V.2x()}if(x=="3e"){1D zV==\'E\'?zV():\'\'}}}if(x=="da"){y?o.P.BE(y):\'\'}if(x=="4C"){if(L(y)){o.lj=H;o.V.dV(y,1,1)}F{o.P.us()}}if(x=="3L"){if(o.1t){o.V.3b();o.V.kG()}if(L(y)){if(y==1){2R{if(o.1V){o.1V.3L()}if(o.bZ){o.bZ.3L()}}2C(e){}}}}if(x=="dU"&&L(y)){o.1v&&o.7U?o.7U.z5(y):\'\'}if(x.I("My")==0){if(o.1V){o.1V.Mw(x.1i(6),y)}}if(x=="5o"){J o.d7}if(x=="9S"){o.9S.mg();o.9S=1u sC();if(L(y)){o.9S.8Z(y)}F{if(v.Bd==1){o.9S.8Z(v.A8)}F{o.9S.8Z("Mv a2")}if(v.Bj==1&&L(v.Bi)){o.d8=1u Bg()}}}if(x=="7I"){!o.1v?o.S.uS():\'\';o.S.9t();o.S.JU("qa")}if(x=="f3"){o.1t?o.V.3b():o.V.2x()}if(x=="2G"){v.4C=0;v.3j=0;o.P.tT();o.V.bG()}if(x=="6B"){o.18=o.P.18();o.V.gR()}if(x=="6O"){if(v.8O){if(v.8O.on==1&&v.8O.Mu==1){o.V.iV()}}}if(x=="s7"&&L(y)){if(o.51){o.51.2T(y)}}if(x=="3a"){o.S.I7()}if(x=="Mt"&&L(y)){if(v.1V==1){if(y.I(\'js:\')==0){v.6F=y;v.hF=H;o.V.yJ("6F")}F{if(o.p!=\'\'){B sv=5n.7g(gJ(o.p));U(B l in sv){if(sv.2r(l)){if(L(sv[l].id)){if(y==sv[l].id){v.6F=\'Ms\'+(L(sv[l][\'xP\'])?\'xP\'+sv[l][\'xP\']:\'\')+y+\'42\'+sv[l].7x;v.hF=H;o.V.yJ("6F")}}}}}}}}if(x=="Mp"){1D zH=="E"?zH(y):\'\'}if(x=="A6"&&y){v.A6=y;o.3p?o.3p.Mk():\'\'}if(x=="5i"){o.V.53()}if(x=="5c"){if(L(y)){o.V.9a(y)}F{J o.5S[o.a4]}}if(x=="dB"){if(v.8O&&o.aX){if(v.8O.aX==1){J 2F.4r((o.aX.6W(Mj).Q-1)/2F.4r(o.P.1m())*100)}}}if(x=="hm"){J o.5S}if(x=="9B"){o.V.6l()}if(x=="lD"){if(L(y)){v[x]=y;o.V.jM()}}if(x=="cO"){J o.2y}if(x=="AT"){J o.ab?H:K}if(x=="5u"){J o.P?o.P.5Q():K}if(x=="ut"){J v.8L==1?(v.yA==1?o.2V.4M(1):o.2V.4M(0,-1)):o.2V}if(x=="JN"){o.4U?o.3z.7a():o.3z.9l(2m(o.zi,(o.3z.7b()==0?1:0)))}if(x=="e5"){J o.9i}if(x.I("1X:")==0&&y){v[x.1O(\'1N:\',\'42\')]=y;o.V.kG()}if(x=="Nf"){J o.j5}if(x=="aW"){J o.7p}if(x=="1I"||x=="zc"){if(L(y)){if(1D y=="4y"){if(y.I("+")==0){y=v.1I+3Y(y.1i(1))}F{if(y.I("-")==0){y=v.1I-3Y(y.1i(1))}}}if(y>=0&&y<=1){o.V.3U(y)}}J o.3m?0:v.1I}if(x=="3m"){J L(o.3m)?o.3m:K}if(x=="Nb"){o.S?o.S.Ka(y):\'\'}if(x=="aP"){1D zT==\'E\'?zT(y):\'\'}if(x=="lv"){J v.lv}if(x=="4N"){o.S.4N(H)}if(x=="N9"){o.S.mK()}if(x=="I2"){cP()}if(x=="2u"){o.P.5E(x)}if(x=="3C"){if(L(y)){if(1D y=="4y"){if(y.I("%")>-1){y=2J(y.1i(0,y.I("%")));y=o.P.1m()*y/100}F{B ns=o.P.18();if(o.3p&&!o.1v){if(!o.3p.oN){B f=o.3p.aM();if(f.t&&f.d){ns=f.t;o.3p.oN=H}}}if(y.I("+")==0){y=ns+3Y(y.1i(1))}F{if(y.I("-")==0){y=ns-3Y(y.1i(1))}}}}y=y*1;y<0?y=0:\'\';if(o.P.1m()>0){y>o.P.1m()?y=0:\'\'}if(!L(o.1V)&&!L(o.5K)&&o.P.1m()>0){o.2b=1E;o.V.3P(y,H);o.V.yg()}F{o.2b=y}}}if(x=="N4"){8x.1n(y);y?v.1L.3C=y:\'\'}if(x=="1Z"){!o.1Z?o.V.9M():\'\'}if(x=="wP"){o.1Z?o.V.8C():\'\'}if(x=="N3"){J o.1Z}if(x=="3F"){J o.2W+\'/\'+o.4E}if(x=="N0"){J o.P?o.P.3F():1E}if(x=="MZ"){if(L(o.g4)){o.g4.Do()}}if(x=="KB"||x=="MX"){if(L(o.g4)){o.g4.Un()}}if(x=="18"||x=="zy"){B iq=o.P?o.P.18():0;if(o.3p&&v.bR==1&&!o.1v&&iq==0){B f=o.3p.aM();if(f.t){iq=f.t}}J x=="zy"?f1(iq):iq}if(x=="SH"){if(o.cs){3r("1t","id:"+o.cs)}if(o.HY){3r("3C",o.HY);3r("1t")}}if(x=="1m"){J o.P?o.P.1m():0}if(x=="8p"){J o.P?o.P.ag():0}if(x=="8l"){if(y){v.8l=y;o.S.jO()}}if(x=="5b"){if(L(y)){if(R){v.hd=bx(v.hd,y,R);if(o.2y.Q==2){o.V.5X(v.hd)}}F{o.V.5X(y)}}F{J o.P?uY(o.P.mt()):0}}if(x=="7F"){if(L(y)){if(y==\'zB\'){J o.6S*1}if(R){v.wt=bx(v.wt,y,R);if(o.7p.Q==2){o.V.eD(v.wt)}}F{o.V.eD(y)}}F{J o.P?o.P.xK():0}}if(x=="zj"){J o.2o=="4S"}if(x=="sg"){if(o.6S>0){o.lq=o.6S}o.V.dV(o.43[o.lf])}if(x=="8a"){J o.1t}if(x=="nj"){J o.1v}if(x=="1h"){J o.1h[y]}if(x=="z3"){o.iW!=1?o.P.wO():\'\'}if(x=="id"){J v.id}if(x=="1n"){v.1n=y}if(x=="nl"){v.nl=y}if(x=="2a"){o.P.BY()}if(x=="Vg"){o.P.C1();if(R){o.x6=bx(o.x6,y,R)}}if(x=="5e"){o.P.h5()}if(x=="10x"){if(1D(zI)==\'E\'){zI(x,y)}}if(x=="9b"){o.P.e6()}if(x=="2H"&&v.rA!=1){8x.1n(2H)}if(x=="10y"&&o.3I){o.3I.8G()}if(x=="10z"&&o.3I){o.3I.5C()}if(x=="1X"){if(L(y)){if(y==\'zB\'){J o.3l*1}if(y==\'0/1\'){if(o.4U){o.wA=o.3l;y=-1}F{y=o.wA?o.wA:0}}if(y.6i().Q<3&&o.3z){o.3z.9l(y*1)}F{v.1X=y;o.V.fr(y)}}F{J o.2V?o.2V[o.3l]:\'\'}}if(x=="+1X"&&v.1X){if(L(y)){v.1X+=\',\'+y;o.V.fr(v.1X)}}if(x=="c0"){if(L(o.c0)){if(L(y)){o.c0.2T(y)}F{J o.c0.10A()}}}if(x=="qO"){if(o.zG){J o.zG}F{J K}}if(x=="8X"){J o.P.8X()}if(x=="7m"){if(o.cI){o.cI.4c?o.cI.4c.3o(o.cI):\'\'}o.cI=1Y("2c");o.cI.id=y;o.cI.C.4T=10B;o.1Q.1U(o.cI)}if(x=="Ik"){if(o.4p){B 5p=1Y("5p");B 3F=o.P.3F();5p.Z=3F.Z>0?3F.Z:o.aH;5p.1c=3F.1c>0?3F.1c:o.dq;O(5p,{"1q":"2B","1b":-5p.1c,"1a":-5p.Z,"2i":"1S"});1T.aL.1U(5p);B 8N=5p.zU(\'2d\');8N.vD(o.P.aj(),0,0,5p.Z,5p.1c);B 5b=2;B kH=1T.1Y("5p");kH.Z=5p.Z*5b;kH.1c=5p.1c*5b;B kF=kH.zU("2d");kF.vD(o.P.aj(),0,0,5p.Z*5b,5p.1c*5b);if(v.10C==1&&L(v.uX)){!L(v.kU)?v.kU=20:\'\';!L(v.v3)?v.v3="3H":\'\';kF.3X=v.kU+"px 10w, 10D";kF.10F=3t(v.v3);kF.10G((v.uX=="kI"?o.kI:v.uX),v.kU,5p.1c*5b-v.kU-5)}8N.vD(kH,0,0,5p.Z,5p.1c);B 3E;2R{3E=5p.10H("8c/10I")}2C(e){8x.1n(e.a2);J K}J 3E}F{J K}}if(x=="3N"){J o.2o==x?o.P.oz():1E}if(x=="1C"){J o.2o==x?o.P.oy():1E}if(x=="29"){if(!o.1t||v.g7===0){o.P.ao(y);J H}F{J K}}if(x=="GF"){if(L(y)){y==\'1/0\'?y=1-2m(v.oB,0):\'\';v.oB=y;o.P.hO()}F{J 2m(v.oB,0)}}if(x=="1M"){if(L(y)){if(y==0){o.P.hO()}F{o.P.1M(y)}}F{J[o.3B.x,o.3B.y,o.3O.C.1a,o.3O.C.1b]}}if(x=="1N"){if(L(y)){L(y)?v.1N=y:\'\';o.V.aE(\'1N\');J H}F{J v.1N}}if(x=="10J"){o.V.AX()}if(x=="2K"){if(y){!o.jF?o.jF=[]:\'\';if(1D(y)==\'3D\'){y=o.jF.ah(y);x="W"}}}if(x=="W"){if(y){if(1D(y)==\'3D\'){2R{o.V.6a(y);J H}2C(e){J K}}F{if(y.I(".8Z")==y.Q-4||y.I(".8Z?")>0){B 4L=gr(y);4L.as=E(){if(G.gY==4&&G.7e==4z){2R{3r(\'W\',5n.7g(G.dJ))}2C(e){}}};4L.dW();J H}F{if(y==\'\'){o.V.6a([])}F{if(y==\'dB\'&&o.j5>0){B 1H=2F.4r(((o.yq+(!o.S.bV("dB")?o.P.18():0))/o.j5)*100);if(1H<o.yW||1H>100){J o.yW}F{o.yW=1H;J 1H}}}}}}}if(x=="5B"){o.S?o.S.bh():\'\'}if(x=="e9"){o.S?o.S.ey():\'\'}if(x=="6k"){o.S?o.S.kf(y):\'\'}if(x=="6k?"){J o.9H?[o.10K,o.10E]:0}if(x=="gb"){o.P?o.P.gb():\'\'}if(x=="py"){if(L(y)&&L(o.1G)){!o.1t?v.3j=0:\'\';U(B j in o.1G){if(o.1G.2r(j)){if(o.1G[j].dT==y){y=j}}}if(L(o.1G[y])){o.S.Kj(y);J H}F{J K}}}if(x=="10u"){B 1H=[];if(L(o.1G)){U(B j in o.1G){if(o.1G[j].5a&&o.1G[j].tJ==-1){1H.2K({1N:o.1G[j].1N,id:o.1G[j].id})}}}J 1H}if(x=="zd"){if(o.3q){J o.1G[o.3q].dT?o.1G[o.3q].dT:o.3q}}if(x=="10m"){if(o.1G){J 7P.6o(o.1G).Q}F{J-1}}if(x=="ny"){if(L(o.ny)){J o.ny}}if(x=="10t"){o.S.i7(y)}if(x=="10f"){o.P.i0()}if(x=="1p"){if(y=="on"){v.1p.1k=0}F if(y=="7a"){v.1p.1k=1;o.S.gF()}F{o.S.iG()}}if(x=="nE"){o.S.9g()}if(x=="10g"||x=="10h"||x=="10i"){if(L(y)){o[\'10j\'+x.4M(-1)]=v[x]=y*1;o.S.iv(\'3G\'+x.4M(-1))}F{J v[x]}}if(x=="5Y"){o[x]=H}if(x=="10k"){if(o.1V){J H}F{J K}}if(x=="10e"){if(o.1V){J z2()}F{J K}}if(x=="10l"){if(o.1V){J o.1V.3L()}F{J K}}if(x=="SG"){if(o.1V){J o.1V.AU()}F{J K}}if(x=="10n"){if(o.1V){o.1V.10o()}F{J K}}if(x=="10p"){if(o.1V){o.1V.5i()}F{J K}}if(x=="6h"){if(R){v.6h=bx(v.6h,y,R);o.P.6h()}F{J v.6h}}if(x=="8Q"){if(L(R)){v.8Q=bx(v.8Q,y,R)}F{if(L(y)){y==\'0/1\'?y=1-v.8Q:\'\';v.8Q=y}F{J v.8Q}}}if(x=="5w"){if(L(R)){v.5w=bx(v.5w,y,R)}F{if(L(y)){v.5w=y}F{J v.5w}}}if(x=="kb"||x=="oi"){B z="c5";x=="oi"?z="oj":"";if(L(R)){v.W[z]=bx(v.W[z],y,R)}F{if(L(y)){y==\'0/1\'?y=1-v.W[z]:\'\';v.W[z]=y}}J v.W[z]}if(x=="hd"){if(o.2y.Q==2){v.hd=o.2y[o.3h];v.hd=bx(v.hd,y,R);if(o.2y[0]==v.hd){o.V.5X(0)}F{o.V.5X(1)}}}if(x=="v"&&y){if(y.I(\'3e\')==0||y.I(\'bk\')==0){J}J v[y]}if(x.I("dR:")==0){B xx=x.1i(7);if(1D(y)==\'3D\'&&1D(v[xx])==\'3D\'){U(B yy in y){if(y.2r(yy)){v[xx][yy]=y[yy]}}}F{if(x.I(\'Hg\')==-1){v[xx]=y}}o.V.Ae();J H}if(x.I("1B:")==0){o.S.I6(x.1i(5),y)}if(v.HN==1&&x.I("1r")==0&&y){jQ(\'54, 54 > *{--6L\'+x+\':\'+5M(y,v[y.1O("1r","6j")+\'a\'])+\'}\')}if(x=="10q"){J o.P?o.P.cm():\'\'}if(x=="10r"){J o.8r+\' \'+o.jI}if(x=="jI"){J o.jI}if(x=="wD"){J o.wD}if(x=="A0"){J o.A0}if(x=="5F"){J o.5F}if(x=="10s"){J o.1V?o.zD:1E}if(x=="9Q"){o.V.oa();v.1L.on=0;if(v.uz==1){U(B i=0;i<4W.Q;i++){if(4W[i]){if(4W[i].2T("id")==v.id){4W[i]=26}}}}U(B w in 1z){if(1z[w]==o.G){1z[w]=26}}if(1z.eo==v.id){1z.eo=\'\'}if(o.3I){o.3I.5C()}o.iW=1;o.1K.1P=\'\';o.G=26}}F{J K}};E zK(x,y){if(x&&y){3r(y,x)}}E bx(x,y,R){B z=4d(y)+\'\';if(y){if(y.I("/")>0){B y2=y.2k("/");if(y2.Q==2){if(x==4d(y2[0])){z=4d(y2[1]);if(R){R.cF(1)}}F{z=4d(y2[0]);if(R){R.cF(0)}}}}}J z}E gr(x){B 4L=1u C9();4L.6d(\'BX\',x,H);J 4L}E zp(y){B z=y.1i(3);if(o.1G){U(B j in o.1G){if(o.1G.2r(j)){if(o.1G[j].dT==z){z=j}}}}J z}E z2(){B x;if(o.1V){if(o.1V.eA()){x=o.1V}}if(!x&&o.5K){x=o.5K}if(x){B y={is:o.3T,1h:x.8R("10L"),8r:x.8R("8r"),10v:x.8R("C6"),Y:o.CM+(x.8R("zZ")?x.8R("10M")+x.8R("zZ"):\'\'),1F:x.8R("11f"),1m:x.8R("bX"),3e:x.8R("3e"),18:(o.P?o.P.18():\'\'),1I:x.11h(),id:o.zD};if(o.3T=="6F"){y.11i=o.11j}J y}}E yz(){if(\'fP\'in 7H){7H.fP.7J=1u 11k({1N:Cj(2m(o.cX,v.1N)),11l:[{3v:2m(v.29,\'\')}]});if(!o.zN){7H.fP.nz(\'1t\',E(){3r("1t")});7H.fP.nz(\'3L\',E(){3r("3L")});if(o.S.gZ()){7H.fP.nz(\'11m\',E(){3r("e9")});7H.fP.nz(\'11g\',E(){3r("5B")})}o.zN=H}}}B 1Y=E(x){B y=x;x==\'2c\'||x==\'xt\'?y=\'54\':\'\';B z=1T.1Y(y);if(x==\'xt\'){O(z,{"6M":"4D","2i":"4x"})}J z};B 1n=E(a,b,c,d,e,f,g){if(v.1n==1||v.uE==1){B x=a+(b!=1E?" "+b:"")+(c!=1E?" "+c:"")+(d!=1E?" "+d:"")+(e!=1E?" "+e:"")+(f!=1E?" "+f:"")+(g!=1E?" "+g:"");8x.1n("ze"+(v.wJ==1?"2":"")+": "+x);if(v.uE==1&&L(1T.8z("A2"))){1T.8z("A2").1P+=x+\'<br/>\'}}};B H0=E(){if(v.wZ==1&&L(v.dI)&&v.dI!=\'\'){B x=1T.1Y(\'ez\');x.9r=\'11n\';v.dI.I(\':\')>0&&v.dI.I(\':l6\')==-1?v.dI=v.dI.1O(/:/ig,\':l6@\'):\'\';x.9f=\'ju://wZ.11p.9J/11q?eG=\'+v.dI.1O(/,/ig,"&eG=").1O(/ /ig,"+");1T.11r.1U(x)+\'&2i=11s\'}};B DJ=E(2c,6j){B x=["rq","fb","q4","jn","dv","11t"];U(B y=0;y<x.Q;y++){B z=2c.xR("2w "+x[y]);if(z.Q>0){U(B y2=0;y2<z.Q;y2++){z[y2].C.6c=6j}}}};B n9=E(){if(v.8O){if(v.8O.11u==1){js("2p")}}};B 46=E(18){18<0?18=0:\'\';B Cc=o.P.1m>=gM?H:K;B BL=o.P.1m>=xQ?H:K;B 6C=2F.8H(18/60);B 7E=2F.8H(18-6C*60);B 8n=2F.8H(6C/60);B k0=2F.8H(8n/24);6C=6C-8n*60;if(k0>0){8n=8n-k0*24}if(v.ln==1&&o.P.5Q()){B d=1u 7A();J 6R(1u 7A(d.9W()+18*2h).Ce())}F{J 6R((k0>0?k0+\':\':\'\')+(8n>0||BL?8n+\':\':\'\')+((8n>0||Cc)&&6C<10?\'0\':\'\')+6C+\':\'+(7E<10?\'0\':\'\')+7E)}};B f1=E(x){B 7E=2F.8H(x);B 6C=2F.8H(7E/60);B 8n=2F.8H(6C/60);6C=2F.8H(6C%60);7E=2F.8H(7E%60);8n>0&&6C<10?6C="0"+6C:"";7E=7E>=0?((7E>=10)?7E:"0"+7E):"cL";B 5k=(8n>0?8n+":":"")+(6C>=0?6C:"0")+":"+7E;if(v.ln==1&&o.P.5Q()){B d=1u 7A();J 6R(1u 7A(d.9W()+x*2h).Ce())}F{J 5k}};B Ht=E(){J Hu((1z.8v!=1z.a8.8v)?1T.lw:1T.8v.9f)};B uY=E(x){if(x){x=x.6i();B tn=x.I(" <7u C=\'1A");if(tn>-1){x=x.1i(0,tn)}}J x};B v7=E(x,y,z){B t;if(!Cl(x)&&y){t=1T.1Y(\'nI\');y=="11v"?y=x:\'\';t.3v=y.I(\'//\')==-1?\'ju://\'+y:y;t.11o=1;if(z){t.6J=z}B s=1T.bA(\'nI\')[0];if(!s){s=1T.bA(\'ez\')[0]}s?s.4c.tu(t,s):\'\'}J t};B Cj=E(x){if(x){if(1D(x)==\'4y\'){x=x.1O(/<[^>]*>?/gm,\'\')}}J x};B Cl=E(y){B x=K;B mF=1T.bA(\'nI\');U(B i=0;i<mF.Q;i++){if(mF[i].3v.I(y)>-1){x=H}}J x};B 5M=E(x,y,z){if(x){if(x.I(\'1r\')>-1||x.I(\'B\')>-1){if(L(y)&&L(z)){z.C.1A=y}J 3t(x)}F{x=x.1O(\'#\',\'\');B r=2J(x.Q==3?x.4M(0,1).h9(2):x.4M(0,2),16);B g=2J(x.Q==3?x.4M(1,2).h9(2):x.4M(2,4),16);B b=2J(x.Q==3?x.4M(2,3).h9(2):x.4M(4,6),16);if(L(y)){J\'5m(\'+r+\', \'+g+\', \'+b+\', \'+y+\')\'}F{J\'Dm(\'+r+\', \'+g+\', \'+b+\')\'}}}};B 8b=E(y){B x=y;if(v.zm&&v.zm!=1){x=y/v.zm}if(v.sB&&v.sB!=1&&!o.1Z){x=y/v.sB}J x};B O=E(e,o){if(L(e)){U(B 19 in o){if(o.2r(19)){if(o[19]!=\'11e\'&&o[19]!=1E){if(1D o[19]==\'10W\'&&19!=\'3X-dG\'&&19!=\'1A\'&&19!=\'4T\'){o[19]+=\'px\'}if(19.I("11d")>-1&&19.I("GV")==-1){o[19]=3t(o[19])}if(19=="2Y"||19.I("k9")>-1){e.C[\'-ms-\'+19]=o[19];e.C[\'-oP-\'+19]=o[19];e.C[\'-3J-\'+19]=o[19];e.C[\'-o-\'+19]=o[19]}if(19=="vT"){if(o[19].I(" ")>-1){o[19]=\'"\'+o[19]+\'"\'}}if(19=="7m-jN"){e.C.10P(19,o[19],\'5U\')}F{e.C[19]=o[19]}}}}}};B vr=E(x,6j,b1,b2){6j=3t(6j);B y=2m(b1,1)*1;B z=2m(b2,1)*1;O(x,{"2v":"10Q-3f-4R(-10R,"+6j+","+6j+" "+y+"px,5m(0,0,0,0),"+y+"px,5m(0,0,0,0) "+(y+z)+"px)"})};B 3t=E(c){if(c){c.I("1r")==0?c=\'B(--6L\'+c+\')\':\'\';J c.1i(0,1)!=\'#\'&&c.I("B")==-1&&c.I("Dm")==-1?c="#"+c:c}F{J\'#eg\'}};B Ev=E(x,1r,y){!1r?1r=\'#eg\':\'\';1r=3t(1r);B r=5I(p9,10S);x=x.1O(/\\(CW\\)/g,r);x=x.1O(/\\(1r\\)/g,1r);x=x.1O(/\\(iT\\)/g,1+(v.10T.1M-1)/2);B Cw=x.1i(0,x.I(\'|||\'));B uC=x.1i(x.I(\'|||\')+3);B aw=\'\';if(o.1h.3J){aw=uC.1O(/5V:/g,"-3J-5V:");aw=aw.1O(/5V-/g,"-3J-5V-");aw=aw.1O(/@Cv/g,"@-3J-Cv");aw=aw.1O(/2Y/g,"-3J-2Y")}y?y.1P=Cw:\'\';jQ(aw+uC)};B 7n=E(x,y,f){B z=K;if(x){U(B i=0;i<x.Q;i++){if(x[i]){if(f){if(3Y(y)==3Y(x[i])){z=i;1g}}F{if(6R(x[i]).I(y)>-1){z=H}}}}}J z};B gL=E(x,y){B z=K;if(x&&y){U(B i=0;i<y.Q;i++){if(6R(x).I(y[i])>-1){z=H}}}J z};B jQ=E(x){if(o.O){if(o.O.Cx){o.O.Cx.10U=x}F{o.O.1U(1T.Ge(x))}}};B ec=E(x){O(x,{"1q":"2B","1b":0,"1a":0,"Z":"100%","1c":"100%"})};B fi=E(x){O(x,{"9u":"1S"})};B 4L=E(y,z){B x=1u C9();x.6d(\'BX\',y,H);x.as=z;x.dW()};B 10O=E(x){if(x){U(B i=0;i<5;i++){if(x.10V=="10X"){1g}F{if(x.C8){x=x.C8}}}}J x};B gO=E(z){B gO=1T.1Y("3E");if(o.oM.I(z)>-1){o.oM.2K(z);if(z.I("?")>0){z=z+\'&\'+2F.5I()}F{z=z+\'?\'+2F.5I()}}F{o.oM.2K(z)}gO.7f(\'3v\',z);gO.7f(\'1c\',\'4t\');gO.7f(\'Z\',\'4t\')};B 3V=E(e,o){U(B 19 in o){if(o.2r(19)){e.7f(19,o[19])}}};B 9Q=E(e){if(e){2R{e.4c.3o(e);e=26}2C(e){}}};B 5I=E(8J,5W){J 2F.8H(10Y.Q>1?(5W-8J+1)*2F.5I()+8J:(8J+1)*2F.5I())};B od=E(){J 2F.5I().6i(36).10Z(2,12)};B uK=E(x,y){x=7P.6o(x).11a(E(4j,19){if(19!=y){4j[19]=x[19]}J 4j},{});J x};B 4d=E(x){if(1D x=="4y"){J x.1O(/^\\s+|\\s+$/gm,\'\')}F{J x}};B 6k=E(x,y,z){B r=K;if(x){if(x.I(y)>-1){B r=x.1i(x.I(y)+y.Q);if(z){if(r.I(z)>-1){r=r.1i(0,r.I(z))}}}}J r};B 11b=E(x,n){if(n==0){J"#0"+ca.e(x)}if(n==-1){J ca.e(x)}if(n==1){J"#1"+s9(ca.e(x),1)}};B sA=E(x){if(v[x]!=""){if(1D v[x]!="4y"){o[x+\'o\']=v[x]}F{if(v[x].I("[{")==0){2R{v[x]=v[x].1O(/6L\'qt/ig,\'"\');o[x+\'o\']=2f(v[x])}2C(e){}}}}};B 5R=E(x){J 6R.uN(x)};B gJ=E(x){if(x.1i(0,2)=="#1"){J ca.d(s9(x.1i(2),-1))}F if(x.1i(0,2)=="#0"){J ca.d(x.1i(2))}F{J x}};B GK=E(x){if(x){if(x.I(\'3R\')==-1&&x.I(\'.\')==-1&&x.Q>100&&x.I(\'22:\')==-1){x=\'22:8c/wU;gU,\'+x}}J x};B 1k=E(x){x?x.C.5F="3d":\'\'};B 1o=E(x){x?x.C.5F="4h":\'\'};B 3g=E(x){if(x){if(aq.BO(x)){U(B i in x){if(1D x[i]=="3D"){x[i].C.2i="1S"}}}F{x.C.2i="1S"}}};B 6p=E(x){if(x){if(aq.BO(x)){U(B i in x){if(1D x[i]=="3D"){x[i].C.2i="4x"}}}F{x.C.2i="4x"}}};B 5T=E(x){J x?x.C.5F!="3d"&&x.C.2i!="1S":K};B 5d=E(s){if(1D s=="4y"){if(s.I("px")>0){s=s.1i(0,s.I("px"))}}J 2J(s)};B 3d=E(x){J x.C.2i=="1S"};B 4u=E(o,x,y){o[x+\'1b\']=0;o[x+\'2t\']=0;o[x+\'2N\']=0;o[x+\'1a\']=0;if(L(o[y])){B z=o[y].2k(" ");if(z.Q==4){o[x+\'1b\']=z[0]?3Y(z[0]):0;o[x+\'2t\']=z[1]?3Y(z[1]):0;o[x+\'2N\']=z[2]?3Y(z[2]):0;o[x+\'1a\']=z[3]?3Y(z[3]):0}}J o};B F5=E(x){if(x){x=x.1O(/ /ig,\'px \')}J x+\'px\'};B oO=E(x,y){J v[x]&&v[x]!=\'\'?v[x]:y};B gi=6R.uN(65,66,67,68,69,70,71,72,73,74,75,76,77,97,98,99,100,101,102,103,104,105,106,107,108,109,78,79,80,81,82,83,84,85,86,87,88,89,90,110,111,112,113,114,115,116,117,118,119,120,121,122);B ca={bd:gi+"11c+/=",e:E(e){B t="";B n,r,i,s,o,u,a;B f=0;e=ca.Cz(e);o7(f<e.Q){n=e.aT(f++);r=e.aT(f++);i=e.aT(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(nL(r)){u=a=64}F if(nL(i)){a=64}t=t+G.bd.6t(s)+G.bd.6t(o)+G.bd.6t(u)+G.bd.6t(a)}J t},d:E(e){B t="";B n,r,i;B s,o,u,a;B f=0;e=e.1O(/[^A-Za-z0-9\\+\\/\\=]/g,"");o7(f<e.Q){s=G.bd.I(e.6t(f++));o=G.bd.I(e.6t(f++));u=G.bd.I(e.6t(f++));a=G.bd.I(e.6t(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+5R(n);if(u!=64){t=t+5R(r)}if(a!=64){t=t+5R(i)}}t=ca.D1(t);J t},Cz:E(e){e=e.1O(/\\r\\n/g,"\\n");B t="";U(B n=0;n<e.Q;n++){B r=e.aT(n);if(r<128){t+=5R(r)}F if(r>127&&r<10N){t+=5R(r>>6|10c);t+=5R(r&63|128)}F{t+=5R(r>>12|D7);t+=5R(r>>6&63|128);t+=5R(r&63|128)}}J t},D1:E(e){B t="";B n=0;B r=0;B c1=0;B c2=0;B c3=0;o7(n<e.Q){r=e.aT(n);if(r<128){t+=5R(r);n++}F if(r>Zs&&r<D7){c2=e.aT(n+1);t+=5R((r&31)<<6|c2&63);n+=2}F{c2=e.aT(n+1);c3=e.aT(n+2);t+=5R((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}J t}};B s9=E(s,n){s=s.1O(/\\+/g,"#");s=s.1O(/#/g,"+");B a=Dk(o.y)*n;if(n<0)a+=gi.Q/2;B r=gi.1i(a*2)+gi.1i(0,a*2);J s.1O(/[A-Za-z]/g,E(c){J r.6t(gi.I(c))})};B Dk=E(x){x=x.2k(5R(61));B kd=\'\';B c1=5R(120);B ri;U(B i in x){if(x.2r(i)){B rg=\'\';U(B j in x[i]){if(x[i].2r(j)){rg+=(x[i][j]==c1)?5R(49):5R(48)}}ri=2J(rg,2);kd+=5R(ri.6i(10))}}J kd.1i(0,kd.Q-1)};B L=E(x){J x!=26&&1D(x)!=\'1E\'&&x!=10b&&x!=\'1E\'};B 2m=E(x,y){J L(x)?x:y};B 2g=E(x){J L(x)&&x!=-1&&x!=\'\'};B Zc=E(x,y){J 2g(x)?x:y};B kT=E(x){if(1D x=="3D"){x=5n.7g(5n.rk(x))}J x};B fA=E(el){B x=el.CF().1a+(1z.Db?1z.Db:1z.Zd);J x};B h1=E(x){v.Ze==1&&2g(v.CC)?x=v.CC:\'\';J x};B jH=E(el){Zf jn=el.CF();J jn.1b+1z.Zg};B 7i=E(x,y){if(x!=\'\'){if(v.Zh==1||y==\'Zb\'){1z.6d(x)}F{if(v.Zi==1||y==\'1b\'){1z.a8.8v.9f=x}F{1z.8v.9f=x}}x=\'\'}};B yb=E(){if(v.4Q==1){o.4Q?o.1Q.3o(o.4Q):\'\';o.4Q=26}};B G0=E(){B pV=K;o.1h.tv?1n("tv"):\'\';o.1h.2e?1n("2e"+(o.1h.4i?\' 4i\':\'\')):\'\';G.aE=E(x){o.S?o.S.1N(x):\'\'};G.6y=E(x){if(x){if(1D(x)==\'4y\'){x=pE(x)}if(1D(x)==\'4y\'){x=x.1O(/(\\r\\n|\\n|\\r)/gm,"");if(x.I("[{")==0){2R{x=x.1O(/6L\'qt/ig,\'"\');x=5n.7g(x)}2C(e){x="AC 5n"}}}if(1D(x)==\'3D\'){o.1G=[];o.jF=kT(x);o.W=uF(x);if(o.W.Q>0){if(v.W.11x==1&&!v.4O){B 6o=7P.6o(o.1G);B rw=6o.4M(-1)[0];rw?v.4O=rw:\'\'}B y=CZ();if(y){x=y.3e;o.cX=y.1N;o.S?o.S.I8(y.1N):\'\';if(2g(y.29)){if(o.P){o.P.ao(y.29)}F{v.29=y.29}}if(L(y.2n)){y.1X=y.2n}if(L(y.1v)){if(y.1v=="3p"&&!o.1v){}F{v.1v=o.2b=y.1v}}7D("CH");if(L(y.id)){o.3q=y.id}B sx=["1X","lv","xO","Y","ko","CB","CL","lD","gd","CO","8i","6O","8l","5C","p6","4b","4n","CS","cz","1m","7d","96","1I"];if(L(v.cV)){if(v.cV.Zl==1&&v.cV.pg==1){sx.2K("1N");sx.2K("t1");sx.2K("t2");sx.2K("t3");sx.2K("t4");sx.2K("t5")}}U(B i=0;i<sx.Q;i++){if(L(y[sx[i]])){v[sx[i]]=y[sx[i]];o.yd[sx[i]]=y[sx[i]]}}U(B uv in y){if(uv.I("CU")==0){v[uv.1i(7)]=y[uv]}}km(y);if(sx.I(\'1N\')>0){if(v.cV.FQ==1){o.oK=v.cV.FP;o.V.nK(y)}o.V.aE(\'1N\')}if(L(y.1I)){1w(E(){o.V.3U(y.1I)},4z)}if(o.S){o.S.6a(o.W);if(v.96){o.S.rn()}}if(o.2M){o.2M.nR()}}F{}}}if(1D(x)==\'4y\'){x=pE(x);if(x){if(x.I("#"+v.a3)==0){x=o[o.fd[0]](x)}if(x){if(x.I("#"+v.bB)==0&&x.I(v.dh)>0){x=o[o.fd[1]](x)}if(x){if(x.I("#0")==0){x=cD(x)}x=pE(x)}F{x=\'\'}}}if(v.c7==1){x=c7(x)}if(x==\'\'){1n("4I 3e");o.9n=H;js("2u","4I")}o.2y=[];o.9U=[];o.7p=[];o.lf=0;o.3h=0;o.6S=0;o.a1=0;v.kt==\'\'?v.kt=\',\':\'\';if((x.I(v.kv)>-1&&x.I(v.e4)>-1)||L(v.cO)){o.43=x.2k(v.kt)}F{o.43=[x]}o.aW=[];if(L(v.cO)){B cO=v.cO.2k(v.kt)}if(o.43.Q>0){B q=-1;U(B i=0;i<o.43.Q;i++){o.43[i]=4d(o.43[i]);if(o.43[i]!=\'\'){if(o.43[i].I(v.kv)==0&&o.43[i].I(v.e4)>1){o.2y[i]=o.43[i].1i(o.43[i].I(v.kv)+v.kv.Q,o.43[i].I(v.e4)-v.e4.Q);o.43[i]=o.43[i].1i(o.43[i].I(v.e4)+v.e4.Q)}F{if(L(v.cO)){o.2y[i]=L(cO[i])?cO[i]:\'\'}F{o.2y[i]=i+1}}B is=0;if(L(v.4F)&&q==-1){if(6R(v.4F).I("m7:")==0){if(v.4F.1i(4)*1==i){is=1}}if(v.4F==o.2y[i]){is=1}if(v.4F=="5W"&&i==o.43.Q-1){is=1}}if(L(o.4F)){if(o.4F==o.2y[i]){is=1;q=i}}if(is==1){o.lf=i;o.3h=i}o.43[i]=xn(o.43[i])}}}F{o.43[0]=xn(o.43[0])}J o.43[o.lf]}}F{J x}};E xn(x){if(L(v.l1)&&x.I("//")==-1){x=v.l1+x}J x};G.AX=E(){if(o.W){B x=o.W.BJ();U(B i=0;i<x.Q;i++){x[i].bW=i}o.W=x;o.S.6a(o.W)}};E km(y){B xq;U(B i=1;i<6;i++){B t="1B"+i;if(L(y[t])){v[t]=y[t];xq=H}}if(xq&&o.S){o.S.I5()}}G.km=E(x){km(x)};G.6a=E(x){if(1D(x)==\'3D\'){o.1G=[];o.jF=kT(x);o.W=uF(x);if(o.S){o.S.6a(o.W)}}};G.dV=E(x,y,z,no){if(!L(y)){o.3j=H;o.dQ=H}!L(z)?v.4C=0:\'\';v.1m=1E;v.4b=1E;!2H.4n?v.4n=1E:\'\';o.9n!=2?o.9n=K:\'\';o.7J=K;o.9b=K;o.9I=0;o.kE=[];o.wy=K;o.t9=K;o.Kk=K;o.9K=1E;o.gW=[K,K,K];o.Zm=od();o.G1=0;o.do=0;o.aX?o.aX=[]:\'\';o.2o!=\'6L\'&&o.3z?o.3z.5C():\'\';if(o.AB){o.AB=[];o.Zn=[]}o.bK=0;o.Zo=0;if(o.d8){o.d8.5C()}if(o.P.7e()=="8a"){G.bG()}if(o.6k&&o.9H){o.S.kf()}if(L(o.3a)){o.3a.4s()}if(L(o.bH)){2D(o.bH)}js("1u");if(v.1V==1&&no!=1){o.V.eO();o.V.eO(\'6F\')}x=G.6y(x);if(y==1){o.2o=\'\';7z();1w(E(){o.P.D5()},100);o.yE=H}o.P.6y(x);if((o.1h.2e||o.1h.6K)&&!L(y)){o.V.2x()}if(L(o.kJ)){o.3B={x:1,y:1,x0:1,y0:1};o.P.hO()}y!=1?9E("1t","2x"):\'\';o.P.iF();o.S.i3();o.S.mk();o.S.4w();o.fW?o.fW.GJ():\'\'};G.nK=E(x){B y=K;if(x&&o.oK){v.1N=o.oK;U(B i=1;i<6;i++){if(L(x[\'t\'+i])){v.1N=v.1N.1O("{"+i+"}",x[\'t\'+i]);y=H}}}J y};G.dL=E(){if(v.3j==1&&!v.AF||o.3j){if(v.kN==1){1w(E(){o.V.2x()},3Z)}F{G.2x()}v.AF=1;o.3j=K}jM()};G.jM=E(){jM()};E jM(){if(v.ts==1){if(1D AI!=="1E"){o.th=1u AI()}}}G.iF=E(){B x=K;if(o.1h.2e){x=H;if(v.Ho==1&&o.1h.7t){x=K}if(v.GN==1&&o.1h.kc){x=K}if(v.HE==1&&o.1h.4i){x=K}if(v.Zp==1&&o.1h.cr){x=K}}if(v.Zj==1&&o.1h.tv){x=H}J x};G.x5=E(){o.P.3U(v.1I);if(o.3m){o.P.53()}o.7J=H;o.S?o.S.4w():\'\';if(!o.1t&&!o.1v){v.51==1?o.51.2T("3L"):\'\'}if(o.56&&o.4p){o.3I.AJ();o.3I.Go()}if(v.1V==1){if(v.At!=1&&v.hF==1){!L(o.1V)?jR("6F","7J"):\'\'}}};G.B6=E(){!o.iO?ac(H):\'\'};E ac(x){o.iO=H;if(o.S){if(o.S.bN()){o.S.9g()}}if(o.2M){o.2M.bj()}if(o.9r){o.9r.bj()}!x?o.P.2x():\'\';if(!o.wy){1w(E(){o.P.iF()},3Z)}!o.1t?o.S.2x():\'\';v.51==1?o.51.2T("1t"):\'\';v.1V==1?o.V.eO(\'ds\'):\'\';if(o.1h.2e){o.S.gG()}if(L(o.3a)){o.3a.Z8()?o.3a.AL():\'\'}}G.2x=E(bf){if(!o.1t&&o.P){o.h6=H;o.pK=K;o.7l=K;v.6B==9?v.6B=1:\'\';2D(o.Di);B 2G=K;if(o.2o=="4S"){if(!o.P.la()&&v.3j!=1&&v.4C==1){2G=H;if(1z[\'YT\']){v.3j=1;o.3j=H;o.P.wO()}}}if(v.8A==1&&v.Av==0){o.V.ou();2G=H}if(o.9n||2G){if(o.9n){8j("7x")?lN(2):\'\'}}F{o.lj=K;o.dQ=K;Ct(!o.1v);o.9S.mg();if(!o.1v){js("1v");o.1v=H;if(v.1p.lF==1){1w(E(){o.S.sc()},100)}if(v.1p.7B>0&&v.3j==1){o.gn=H;1w(vt,v.1p.7B*2h)}if(v.Z0==1&&v.Z7){YS()}U(B i=0;i<o.bS.Q;i++){if(v[\'FX\'+o.bS[i]]==1){3S.9o("G4"+o.bS[i],7A.om())}}if(v.YU==1&&v.YV){YW("1v")}if(o.3z){o.3z.1v()}js("1u");o.hx?o.S.r7(o.hx):\'\';o.S.uS();o.S.4w();9E("1t","2x");o.1h.2e?yz():\'\';o.ab?9E("AT","YX",1):\'\'}F{if(o.yE){9E("1t","2x");o.yE=K}F{9E("AU","YY")}}if(v.AK==1&&!o.1Z){B dd=1u 7A();B tt=dd.9W();if(tt-o.bq<ef){if(!o.1h.4i&&(v.Am!=1||o.1h.2e)){G.9M()}}}if(o.4U){if(v.vu==1){6p(o.1X);6p(o.Ag)}}if(o.d8){o.d8.5C()}if(bf!=1&&8j("7x")||8j("6Y")){lN(2)}F{if(v.7i==1&&L(v.Ab)&&!L(2H.7i)){7i(v.Ab);2G=H}if(!2G){1n("2x");vs();if(!o.xb){o.xb=H;if(v.1p.7B>0&&v.3j==1){o.gn=H;1w(vt,v.1p.7B*2h)}}B mH=K;if(o.P.18()>1&&v.oX==1&&bf!=1&&!8e()&&!L(o.1V)&&!L(o.5K)){mH=8j("ds")}if(mH){8e()?ac(K):\'\'}F{ac(K)}}}}}F{o.P?o.P.2x():\'\'}};G.Ae=E(){vs()};E vs(){o.P.1m()>0?o.S.41(o.P.18(),o.P.1m()):\'\'}E vt(){o.gn=K;o.S.4w()}G.3b=E(){if(o.1t){o.h6=K;1n("3b");o.P.3b();o.S.3b();js("3L");v.sG==1?7z():\'\';v.xf==1?pe():\'\';v.51==1?o.51.2T("3L"):\'\';if(o.4U){if(v.vu==1){3g(o.1X);3g(o.Ag)}}if(!L(o.1V)&&!L(o.5K)&&v.oX==0){if(8j("ds")){}F{if(v.Au!=1&&v.pu==1){jR("dc","3L")}}}if(8e()){o.pK=H}o.iO=K}};G.53=E(){o.P.53();o.S.53();o.3m=H;js("5i")};G.6l=E(){o.P.6l();o.3m=K;o.S.6l();o.P.3U(v.1I);js("9B")};G.3U=E(x,y){if(o.S){x<0.YR?x=0:\'\';x>1?x=1:\'\';if(x<=0){G.53();v.1I=0;x=0}F{if(o.3m){G.6l()}v.1I=x}js("1I",x);o.S.3U(x,y);o.P.3U(x)}};G.9t=E(){o.S.9t()};G.8E=E(){o.S?o.S.8E():\'\'};G.YZ=E(){G.8E()};G.x7=E(){o.V.6s();G.8E()};G.41=E(18,1m){if(o.3p&&!o.1v){B f=o.3p.aM();if(f.t&&f.d){18=f.t}}o.S?o.S.41(18,1m):\'\'};G.xY=E(18,1m){if(o.2b>0&&o.2o!="4S"){o.V.3P(o.2b,K);o.2b=1E}};G.fp=E(){B d=1u 7A();o.bq=d.9W();B x=K;if(o.S.bN()&&v.1f.6P!=1){o.S.bm();x=H}if(o.2M){if(o.2M.rB()){o.2M.bj();x=H}}if(v.W.6P==0){if(o.S.i6()&&v.W.ea==1){o.S.h7();x=H}}if(v.7i==1&&L(v.Ah)&&!L(2H.7i)){7i(v.Ah);x=H}if(o.3m&&v.n5==1){o.V.6l();v.n5=0;x=H}if(!x){if(v.1L.on==1&&v.1L.2L==1&&v.1L.r4==1){7k(\'1t\',(o.1t?0:1))}G.eE()}};G.IF=E(){if(o.S.bN()){o.S.9g()}};G.eE=E(){if(o.P.7e()=="8a"){js("Jn");v.Z1==1?G.oa():G.3b()}F{js("Jo");G.2x()}ae()};G.3P=E(b8,kL){if(b8<o.P.1m()){if(v.fI.Z2==1){if(b8>o.P.18()){J}}if(v.4n>0){b8<v.4n?b8=v.4n:\'\'}1n("3P",b8);o.Ai=b8;o.P.3P(b8);if(kL){o.S.3P(b8,o.P.1m())}o.hy=H;o.gH=o.P.18();ae(o.gH)}};G.xu=E(Y,4k,Aj){if(o.P.7e()=="8a"&&o.gf!=\'zu\'){3b();if(o.1Z&&Aj){o.V.8C()}}1z.6d(Y,4k)};G.iV=E(){if(v.1V==1&&!o.1v){if(8j("7x")){o.tC=H;J}}B x=o.P.cm();if(L(v.6O)){x=v.6O}if(x!=\'\'){js("6O");B jf=1z.6d(x,(v.Z3==1?\'Z4\':\'vE\'));jf.5Y()}};G.6s=E(x){B 18=o.P.18();B 1m=o.P.1m();if(!o.1v&&o.2b>0){18=o.2b}o.S.jP(18,1m,x)};G.yg=E(){B 18=o.P.18();B 1m=o.P.1m();B b6=1m>0?18/1m:0;B bK=2F.qd(b6*100);if(!o.hy){o.S?o.S.jP((o.2b>0?o.2b:18),1m):\'\'}F{18!=o.gH&&o.gH!=-9?o.hy=K:\'\'}if((v.ga==1||v.Aa==1)&&1m>0){lX("vJ","2x 25%",b6,0.25);lX("vK","2x 50%",b6,0.50);lX("vL","2x 75%",b6,0.75)}U(B i=0;i<3;i++){if(!o.gW[i]){if(b6>=i*0.25+0.25){Bm(i)}}}v.vU==1?1n(1,18,1m):\'\';if(v.6B==1||v.v8>0){if(o.1t){B z=K;B m8=K;if(v.Al==1&&v.6B==1){if(!o.P.5Q()){z=H}}if(18>0){if(18==o.18&&!z){m8=H}F{o.9I=0}o.18=18}F{if(v.Z5==1){B ld=o.P.ag();v.vU==1?1n(2,ld,o.m6):\'\';if(!z){if(ld==o.m6){m8=H}F{o.9I=0}}o.m6=ld}}if(m8){o.9I++;if(v.6B==1){v.vU==1?1n(3,o.9I):\'\';if(o.9I==v.wo*(2h/o.lB)){o.V.gR()}}F if(v.v8>0&&o.P.vV()>1){if(o.9I==v.v8*(2h/o.lB)){o.P.5E(\'OR wi\')}}}}}if(v.8O){if(v.8O.aX==1&&1m>0){!o.aX?o.aX=[]:\'\';o.aX[2F.4r(18)]=1}}if(v.1V==1){if(v.At!=1&&v.hF==1){!L(o.1V)?jR("6F",18,1m):\'\'}if(v.Au!=1&&v.pu==1){!L(o.1V)?jR("dc",18,1m):\'\'}}if(v.Bz==1&&v.v1>0){if(18>=v.v1){if(!L(o.1V)){if(8j("6Y")){o.P.3b();o.S.3b()}v.v1=0}}}7D("1t");if(v.8A==1&&v.Av>-1){Z6(18,1m)}if(v.Zq==1&&v.Z9){if(1D AV!=="1E"){AV(18)}}if(o.4U){ae(18)}if(o.5f&&v.bR==1){if(o.3p){!o.2b?o.3p.r5(18,1m):\'\'}}if(o.9H){o.6k?o.6k.1t(18):\'\'}if(L(v.4b)){B ed=v.4b;if(7n([v.4b],\'-\')){ed=1m}if(ed>0&&18>ed){v9()}}if(L(v.5C)){B r1=v.5C.2k(",");U(B i=0;i<r1.Q;i++){B r2=r1[i].2k("-");if(r2.Q==2){if(18>r2[0]&&18<r2[1]){if(r2[1]*1>1m){v9()}F{o.P.3P(r2[1]*1+(o.1h.6K?1:0))}}}}}if(o.bK!=bK&&bK>0){if(v.Zr==1){if(1D Ay!=="1E"){Ay(18,1m,bK)}}if(v.ZK==1&&o.dt){if(1D AW!=="1E"){AW()}}}o.bK=bK};E v9(){o.P.3b();o.P.3P(v.1v>0?v.1v:0);o.V.lG()}E Bm(x){o.gW[x]=H;if(v.bR==1&&v.Bo==1&&v.Bp==x){if(o.5f&&o.3q){o.3p?o.3p.ZM(o.3q):\'\'}}js("gW",(x+1)*25+\'%\')}E lX(x,y,t,p){if(!L(o.kE[y])){if(t>p){9E(x,y,1)}}};G.gR=E(){o.9I=0;L(o.bH)?2D(o.bH):\'\';if(v.ZN==1){js("6B")}F{o.2b>0||o.P.5Q()?\'\':o.2b=o.P.18()+(v.ZO>0?1:0);B Bt=o.S.i6();js("6B");o.P.6B();Bt&&v.W.ea==1?o.S.i7():\'\'}};G.Bw=E(){o.S.jP(0,0);o.S.yK(0,0);o.V.41(0,0);o.S.8E()};G.yj=E(){if(o.P){B 18=o.P.ag();if(v.ZP==1){js("ag",18)}B 1m=o.P.1m();o.S?o.S.yK(18,1m):\'\'}};G.lG=E(){js("ZQ");js("gW","100%");o.7l=H;if(v.8Q==1){if(o.2o=="4S"){G.bG()}v.1V==1?o.V.eO(\'7x\'):\'\';if(v.1v>0){o.V.3P(v.1v);o.2b=1E}G.2x()}F{if(o.P.5Q()||o.2o=="4S"||o.2o=="rt"){G.bG()}F{if(v.Bx==1){o.V.3P((v.1v>0?v.1v:0),H);if(o.1h.ie){o.P.3b()}}}o.S.8g();v.Bz==1?v.ZR=1:\'\';if(8j("qe")||8j("sZ")){}F{9F()}}js("4b")};G.9M=E(){B 2G=K;B 2u=K;o.B9=K;o.aF=H;1w(E(){o.aF=K},kX);U(B x in o.7v){if(o.7v.2r(x)){if(L(o.7v[x])){2R{o.7v[x].BD()}2C(e){}}}}2R{o.dH=H;if(((o.1h.4i&&v.fU==1)||(o.1h.cr&&v.Gy==1))&&o.4p&&!o.9i){B x=o.P.aj();if(x){if(x.ZL){gz();2G=H}}}if(!2G){B lH;B y=o.1Q;if((o.2o=="dm"||o.2o=="c4")&&o.1h.7t&&v.fU==1){o.P.hJ();J}if(y.wE){o.7X=H;lH=y.wE({kZ:"1k"});if(lH!==1E){lH.cE(E(){}).2C(E(2u){})}}F if(y.wI){y.wI({kZ:"1k"});o.7X=H}F if(o.1Q.wK){y.wK({kZ:"1k"});o.7X=H}F if(y.wL){y.wL({kZ:"1k"});o.7X=H}F if(y.wN){y.wN();o.7X=H}}}2C(e){2u=H;1n(e)}if(o.1h.3J){if(1T.ZS===K){o.7X=K}}if(!o.7X&&!2G){if(o.1h.3J&&o.mB){gz()}F{G.yw()}}if(!2u){1w(By,4z)}};E gz(){B x=o.P.aj();if(x){if(o.P.18()==0&&o.1h.4i&&v.ZU!=1){!o.1t?o.V.2x():\'\'}F{o.jY=H;o.P.AQ();x.ZV();x.1y("Jg",B2)}}}E oY(){B x=o.P.aj();if(x){x.ZW()}};G.gz=E(){gz()};G.oY=E(){oY()};E By(){if(o.B9!=H){if(o.9c){o.P.e6()}if(v.1L.wu==1){pj(H);o.5j=H}v.51==1?o.51.2T("lo"):\'\';js("1Z");9E("lo","9M",1)}};B bO;B 8D={x:0,y:0};E vl(e){if(o.2M){if(o.2M.ZX()){J}}if(e.ZY!=0){e.wY!=0?8D.x++:8D.x--;e.bM!=0?8D.y++:8D.y--;if((v.1L.B0==1||v.1L.AZ==1)&&o.1Z&&8D.y>8D.x){3K(bO);bO=7O(E(){8D={x:0,y:0};3K(bO)},2h)}F{o.9w=H;3K(bO);bO=7O(E(){o.9w=K;o.S.4N();8D={x:0,y:0};3K(bO)},4f);o.S.4N();e.9z()}if(8D.x>8D.y){if(e.wY>0){o.V.3U(3Y(v.1I)-v.1L.kD/10,"no")}F{o.V.3U(3Y(v.1I)+v.1L.kD/10,"no")}}F{B st=(o.1h.jf?-v.1L.kD/10:v.1L.kD/10);if(v.1L.AZ==1&&o.1Z){o.P.1M((e.bM>0?st:-st))}F if(v.1L.B0==1&&o.1Z){3r("3C",(e.bM>0?"+"+st*10:"-"+st*10))}F{o.V.3U(3Y(v.1I)+(e.bM>0?st:-st),"no");o.S.ih()}}}}E B2(){if(o.1h.4i){o.P.AN();js("wP")}o.jY=K}G.yw=E(){if(o.dH){o.1Z=H;o.S.9M();if(!o.7X){if(L(o.8t)){2R{O(o.8t,{\'Z\':\'100%\',\'1c\':\'100%\',\'1q\':\'rT\',\'1a\':0,\'1b\':0,\'4T\':"p9"})}2C(eh){}}O(o.1Q,{\'Z\':\'100%\',\'1c\':\'100%\',\'1q\':\'rT\',\'1a\':0,\'1b\':0,\'4T\':"p9"});o.2W=o.1Q.28;o.4E=o.1Q.2U;2R{1T.aL.C.6D=\'3d\';if(!L(o.W)){1T.wh=E(e){e.9z()}}}2C(eh){}}if(v.wr==1){O(o.1Q,{\'7R\':\'#3Q\'})}if(v.w1==1&&o.1h.3J==1&&!o.1h.ff){B sw=1z.b5.Z;B fz=1;U(B i=1;i<6;i++){if(sw>2h*i){fz=2m(v[\'w1\'+(2h*i)],i)}}if(fz>1){o.1Q.C.Bh=fz;v.zm=fz;cP()}}if(o.2M){o.2M.bj()}ae();o.dH=K}};G.8C=E(){pV=H;if(1T.B3){1T.B3()}F if(1T.B4){1T.B4()}F if(1T.B5){1T.B5()}F if(1T.B7){1T.B7()}F if(1T.B8){1T.B8()}F if(1T.Ba){1T.Ba()}if(!o.7X){G.yQ(K)}};G.Id=E(x,y){uI(x,y)};E uI(x,Bb){if(L(o.1V)&&!Bb){o.pq=x}F{B 2G=K;B dA=o.8U/x;B dr=0;B le={\'1c\':dA};if(v.ZZ==1){if(dA>o.94){dA=o.94;dr=o.8U/x;o.8U=le[\'Z\']=dr}}if(L(o.8t)&&v.H4!=1){2R{O(o.8t,le)}2C(eh){2G=H;1n("ee 10a ZT")}}if(!2G){o.4V=x;o.94=dA;if(o.4V>0){O(o.1K,le)}if(dr>0){js("Z",dr)}js("1c",dA)}if(o.1V&&!o.1Z){o.4E=dA;if(dr>0){o.2W=dr}o.1V.2z()}}};G.yQ=E(x){if(pV||x){o.1Z=K;o.jY=K;if(!o.7X){if(L(o.8t)){2R{O(o.8t,{\'1q\':\'mA\',\'1a\':0,\'1b\':0,\'4T\':\'Bf\'});O(o.8t,o.GP);O(o.8t,{\'Z\':o.aH,\'1c\':o.dq})}2C(eh){}}O(o.1Q,{\'Z\':o.aH,\'1c\':o.dq,\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'4T\':\'Bf\'});2R{1T.aL.C.6D=\'2A\';1T.wh=E(e){J H}}2C(eh){}}o.S.8C();if(v.wr==1){O(o.1Q,{\'7R\':v.lQ});if(v.dS==1){o.1Q.C.7R=\'dS\'}F{O(o.1Q,{\'7R\':v.lQ})}}if(v.zm>1){o.1Q.C.Bh=1;v.zm=1;cP()}if(v.1L.wu==1){pj(K);o.5j=K}if(o.2M){o.2M.bj()}ae();o.pY?o.pY=K:\'\';o.S.lS();pV=K;js("wP");o.7X=K;o.aF=K}};G.5j=E(x){v.1L.ZJ!=0?pj(x):\'\'};E pj(x){8D={x:0,y:0};if(x){1z.1y("sR",vl,{5y:K})}F{3K(bO);1z.6x("sR",vl)}}G.bG=E(x){v.4C=0;if(x!=1){o.S.3b();o.V.Bw()}F{}o.P.3U(v.1I);if(o.S.bN()){o.S.9g()}if(o.3m){G.53()}ae(0);1n("2G");js("2G")};G.oa=E(){v.4C=0;v.3j=0;v.nw=0;v.6B==1?v.6B=9:\'\';o.P.tT();o.V.bG()};G.5X=E(x){if(L(o.3h)){if(o.3h!=x){o.3h=x;if(v.rM==1){o.4F=o.2y[x];if(o.5f){3S.9o("rH",o.4F)}}o.P.5X(x);js("5b",o.2y[x]);o.S.vS(x)}}};G.i2=E(){o.S?o.S.i2():\'\'};G.eD=E(x){if(L(o.6S)){if(o.6S!=x){o.6S=x;if(v.G3==1){o.aZ=v.aZ=o.7p[x];if(o.5f){3S.9o("qI",o.aZ)}}o.P.eD(x);js("7F",x);o.S.iv("7F")}}};G.9a=E(x,z){x==\'0.0\'?x=0.1:\'\';B y=x;6R(y).I(\'.\')>0?z=1:\'\';y=y*1;if(!z){y=x==o.er?1:o.5S[x];o.a4=x}y=3Y(y);if(o.jL||z){o.iI=y;U(B i=0;i<o.5S.Q;i++){if(y<=o.5S[i]*1){o.a4=i;1g}}}if(o.5f&&v.FO==1){3S.9o("FN",y)}js("5c",y);o.P.9a(y);o.S.iv("5c")};E ae(x){o.3z?o.3z.1o(L(x)?x:o.P.18()):\'\'};G.kG=E(){if(o.3z){ae();o.3z.C()}};G.fr=E(x){if(1D(kV)==\'E\'){!o.3z?o.3z=1u kV():\'\';o.3z.xB(x)}};B 7c;B 9d;B qi;B 2l;E 8j(x){if(v["6b"+x+"As"]>0&&o.5f){B tb=3S.6H("oq"+x+"42"+o.d);if(tb){B ct=1u 7A();o.bq=ct.9W();B Bq=(ct.9W()-tb)/ZB;if(Bq<v["6b"+x+"As"]){J K}}}if(v["6b"+x+"Ar"]>0){if(o.P.1m()>0){if(o.P.1m()<v["6b"+x+"Ar"]*60){if(v["6b"+x+"Ak"]>0){v["6b"+x+"42"+"Ck"]=v["6b"+x+"Ak"]}F{J K}}}}if(o.jJ.I("8o")!=-1&&v.1V==1&&!o.bf&&v[x+\'s\']==1){if(1D tX=="1E"){J K}if(x=="6Y"||x=="sZ"){if(1D Af!=="1E"){2l=[];J Af(x)}}if(L(o.1V)||L(o.5K)){if(!5T(o.se)||8e(o.3T)){1n(\'ad bg\');J K}F{1n(\'ad om\');J H}}F{if(L(v[x])){if(v[x].6i().I(".")>-1||v[x].6i().I(":")>-1||v[x].6i().I("[ZI]")>-1){js("Zu",x);if(!8e(x)&&x!="dc"){1w(E(){o.1t||(o.5K==26&&o.1V==26)?\'\':o.V.9t()},10);gT()}7c=0;9d=0;qi=x;2l=v[x].2k(" gu ");o.5J=[];o.sq=2l.Q;kC();o.yZ=1;o.pP=H;U(B i=0;i<2l.Q;i++){2l[i]=2l[i].2k(" or ")}v[x.ah("42","hQ")]=v[x];v[x]=26;o.3T=x;if(x!=\'dc\'){o.1V=1u tX()}o.5K=1u pA();U(B i=0;i<2l.Q;i++){U(B j=0;j<2l[i].Q;j++){B 7W=4d(2l[i][j]);if(7W.I("[50%]")>0){B 1H=5I(1,2);2l[i][j]=2l[i][j].1O("[50%]","");if(1H==2){2l[i][j]=\'\'}}}}if(v.yR==1){U(B i=0;i<2l.Q;i++){B n=i==0?1:0;if(2l[i].Q>n){U(B j=n;j<2l[i].Q;j++){B 7W=4d(2l[i][j]);if(o.1h.ra){eH(7W)}F{1w(eH,i*100,7W)}}}}}if(2l[0][0]==\'\'){kA()}F{o.5K.pt(4d(2l[0][0]),x)}J H}F{J K}}F{J K}}}F{J K}};G.yJ=E(x){8j(x)};E jR(w,x,d){if(L(o[w+\'o\'])&&v[w+\'s\']==1){B y;U(B i in o[w+\'o\']){if(o[w+\'o\'].2r(i)){if(!L(o[w+\'o\'][i].q3)&&L(o[w+\'o\'][i].18)&&L(o[w+\'o\'][i].1V)){B z=o[w+\'o\'][i].18.6i();B ok=K;if(z){if(x=="7J"){if(z==x){ok=H}}F{if(z=="3L"){if(z==x){ok=H}}if(z.I("%")>0){if(d>0){z=2J(z.1i(0,z.I("%")))*d/100}F{z=-1}}F{z=2J(z)}if(x>=z){if(v[\'6b\'+w+\'AR\']>0&&z>-1){if(x-z>=v[\'6b\'+w+\'AR\']){z=-1}}if(z>-1){ok=H}}}if(o[w+\'o\'][i].AO&&o.P.1m()>0){if(o.P.1m()<o[w+\'o\'][i].AO*1){o[w+\'o\'][i].q3=H;ok=K}}if(ok){y=o[w+\'o\'][i].1V;v[w]=o[w+\'o\'][i].1V;o[w+\'Zv\']=o[w+\'o\'][i].18;o[w+\'Zw\']=o[w+\'o\'][i].Zx;if(8j(w)){o[w+\'o\'][i].q3=H;1g}}}}}}}};E qk(){if(8e()){if(o.dO==0||v[\'6b\'+o.3T+\'Zy\']==1){O(o.se,{"1A":0,"5F":"3d","1b":4f});1n(o.3T+" 1k");o.3T==\'6F\'?o.P.2x():\'\'}}}E 8e(z){B y=K;B x=[\'6F\',\'ds\'];U(B i=0;i<x.Q;i++){if(o.3T==x[i]||z==x[i]){if(v[\'6b\'+x[i]+\'Zz\']==1){y=H}}}J y};G.8e=E(x){J 8e(x)};G.Zt=E(x){x?\'\':ql();o.3T=="6F"?o.CX.2K(o.CM):\'\'};G.ZA=E(){ql()};G.ZC=E(){ql()};E ql(){if(8e()){if(o.1t){o.P.3b();o.S.3b()}1n(o.3T+" 1o");O(o.se,{"1A":1,"5F":"4h","1b":0});o.nh=1}if(o.jY&&!o.7X){oY()}F{if(v["6b"+o.3T+"gX"]==1&&o.1Z){o.V.8C()}}};G.ZD=E(x){o.5K=26;o.nh=0;1n("8o 3W",o.3T);js("ZE",o.3T);if(x.1F=="dc"){B D2=1u ZF(x);o.pu.2K(D2)}F{if(L(o.1V)){if(v.4C==0&&v.ZG==1&&o.P.18()==0&&!o.7J){v.4C=1;o.P.us()}if((!o.1V.ZH()||x.C6)&&o.tW>0){1n("8o 11w");o.1V.4s();o.1V=26;o.1V=1u tX()}if(8e()){qk()}F{if(o.1t){o.P.3b();o.S.3b()}}o.tW++;if(o.pP&&v.d5>0){2D(o.d5);o.d5=1w(Cu,v.d5*2h*60);if(L(v.BT)){if(v.BT!=\'\'){o.hL?o.hL.5C():\'\';o.hL=1u 10d()}}}o.pP=K;if(v.BN>0){1n("8o 11y");js("12c");1w(uw,v.BN*2h,x)}F{uw(x)}}F{1n("8o 12N")}}};E uw(x){o.1V.Go(x)}E Cu(){if(L(o.1V)){if(o.1V.eA()&&o.dO==0){o.1V.wS();1n("8o wi "+v.d5);2l=[];cR()}}}G.12O=E(){js(\'12Q\',o.3T);1n("8o 2u");uo()};G.kA=E(){uo()};E uo(){B n=kC();1n("8o 5B "+!n);!n?kA():cR()};G.12S=E(x){if(v[o.3T+"sE"]){U(B i=0;i<3;i++){v[o.3T+"sE"]=v[o.3T+"sE"].1O(x+(i==0?\' gu \':(i==1?\' or \':\'\')),\'\')}}};G.12U=E(){J kC()};E kC(){B x=K;if(o.3T){B 7K=v[\'6b\'+o.3T+\'42\'+\'Ck\'];B jT=v[\'6b\'+o.3T+\'42\'+\'131\'];if(jT||7K){if(jT>0&&o.qr>0){o.sq=jT;if(o.dO>=jT){x=H}}F{if(7K>0){o.sq=7K;if(o.dO>=7K){x=H}}}}}J x}E kA(){if(2l.Q>0&&2l[7c]){if(9d<2l[7c].Q-1){1n("8o 132");o.1V?o.1V.wS():\'\';qk();9d++;B 7W=4d(2l[7c][9d]);B eN=vm(7W);if(eN==\'7d\'){o.5K=1u pA();o.5K.pt(7W,o.3T)}if(eN==\'2u\'){kA()}}F{cR()}}F{cR()}}E vm(7W){B x=\'7d\';if(v.yR==1&&o.5J){B py=K;B n=0;U(B i=0;i<o.5J.Q;i++){if(o.5J[i].qg==0){if(o.5J[i].cJ.A9(7W)){o.5J[i].qg=1;B y=o.5J[i].cJ.aV();if(y==\'3W\'){o.5K=o.5J[i].cJ;1n("8o A9");o.5J[i].cJ.fX();x=y}F{if(y==\'\'){x=\'ok\';1n("8o 12Y");o.5K=o.5J[i].cJ;o.5J[i].cJ.12X()}if(y==\'2u\'){x=\'2u\'}}py=H}if(py&&o.5J[i].dC==0){n++;if(n<6){yG(o.5J[i])}F{1g}}}}}J x}G.12W=E(x,y){if(x!=\'\'){B z=7c;B rp=K;if(y){U(B j=0;j<2l.Q;j++){2l[j]==y?z=j:\'\'}}if(2l.Q==1){if(2l[0].Q>1&&9d<2l[0].Q-1&&2l[9d]){B yY=2l[9d].4M(1,99);2l[0].ub(9d+1,99);rp=H}}if(1D(x)=="3D"){U(B i=0;i<x.Q;i++){2l.ub(z+i+1,0,[x[i]]);if(o.1h.ra){eH(x[i])}F{1w(eH,i*100,x[i])}}}F{if(1D(x)=="4y"){2l.2K([x]);eH(x)}}if(rp){2l[2l.Q-1]=2l[2l.Q-1].ah(yY)}}};G.12V=E(x,y){if(x!=\'\'){B z=7c;if(y){U(B j=0;j<2l.Q;j++){2l[j]==y?z=j:\'\'}}if(2l[z]){if(1D(x)=="3D"){U(B i=0;i<x.Q;i++){2l[z].2K(x[i])}}F{if(1D(x)=="4y"){2l[z].2K(x)}}}}};G.cR=E(x){cR(x)};E eH(x){if(v.yR==1&&o.5J){B i=0;U(B i=0;i<2l.Q;i++){if(2l[i]==x){if(7c>=i){J}F{}}}if(2l.Q==1&&2l[0].Q>1){}F{B n=0;U(i=0;i<o.5J.Q;i++){o.5J[i].qg==0?n++:\'\'}o.5J.2K({dC:0,qg:0,x:4d(x),t:o.3T,cJ:1u pA(H)});n<5?yG(o.5J[o.5J.Q-1]):\'\'}}}E yG(x){if(x){x.dC=1;x.cJ.pt(x.x,x.t)}}E cR(hg){B 2G=kC();1n("8o 5C ("+o.dO+")");if(2l.Q>0&&7c==2l.Q-1){if(2l[0][0].I("js:")==0){7c=-1;2l=[[2l[0][0]]]}}if(o.12I==2){2G=H}if(2l.Q>7c+1&&!2G){o.1V.wS();qk();7c++;o.yZ++;9d=0;B 7W=4d(2l[7c][0]);B eN=vm(7W);if(eN==\'7d\'){o.5K=1u pA();o.5K.pt(7W,qi)}if(eN==\'2u\'){cR(hg)}}F{gc();o.S.8E();if(L(o.1V)){o.1V.4s();o.1V=26}o.5K=26;2l=[];9d=0;7c=0;o.nh=0;o.z6!=1?js("12R",o.3T):\'\';o.z6=0;if(v.GI==1){if(o.bZ){2R{o.bZ.wf()}2C(e){1n(o.bZ,e)}o.bZ=1E}}qi=\'\';o.dO=0;o.zL=0;2D(o.d5);3K(o.12L);o.hL?o.hL.5C():\'\';o.c8?o.c8.1k():\'\';o.qr++;if(o.3T=="7x"||(o.3T=="ds"&&v.oX==1&&o.h6)||o.3T=="6F"){if(v.3e!=\'?\'){o.P.c9();B re;if(o.tC){o.V.iV();o.tC=K;re=H}if(o.2o=="4S"&&!o.uG&&o.1h.4i){re=H;o.3T=="7x"?o.P.BZ():\'\'}if(re||hg==\'hg\'||v.12J==1||o.pK){o.pK=K}F{o.V.2x(1)}}}if(o.pq>0){uI(o.pq);o.pq=0}if(o.3T=="qe"){9F()}o.uG=K;o.3T=26}};G.133=E(){2l=[[\'\']]};G.eO=E(y){B x=[\'7x\',\'ds\',\'qe\',\'6Y\',\'sZ\'];B z;U(B i=0;i<x.Q;i++){z=K;if(y){y!=x[i]?z=H:\'\'}if(!z&&L(v[x[i].ah("42","hQ")])){v[\'6b\'+x[i].ah("42","Cd")]--;if(v[\'6b\'+x[i].ah("42","Cd")]>0){v[x[i]]=v[x[i].ah("42","hQ")];v[x[i].ah("42","hQ")]=26}}}if(y=="7x"||y=="6F"){if(v.tf>1){if(L(o.ta)&&v.hF==1){U(B i in o.ta){o.ta[i].q3=1E}v.tf--}}}};G.ou=E(){gT();if(L(o.8A)){o.8A.4s();o.8A=26}o.8A=1u 12T()};G.138=E(){gc();o.8A.4s();o.8A=26};G.gT=E(){gT()};G.gc=E(){gc()};E gT(){if(o.9R){}F{o.9R=1Y("2c");o.1Q.1U(o.9R);ec(o.9R);O(o.9R,{"2v":"#3Q","1A":0.1});o.9R.C.4T=Ij}};E gc(){if(o.9R){o.1Q.3o(o.9R);o.9R=26}};E 7z(){if(L(o.29)){B p=o.1Z?2m(v.139,v.29):v.29;if(p!=o.xS){ao(p,o.29,v.gx)}1o(o.29);O(o.29,{"1A":v.mx});o.S.4w();o.h4?o.h4.1t():\'\'}};G.gs=E(){if(L(o.29)){if(5T(o.29)){3K(o.sa);B t=o.P.18();if(t==0&&v.Bk==1){}F{if(v.Ci>0){2D(o.su);o.su=1w(pe,v.Ci*2h)}F{pe()}}}}};E pe(){2D(o.su);if((v.sG==1&&!o.1t)||v.p6==1){v.p6==1?7z():\'\'}F{O(o.29,{"1A":0});1w(Cp,3Z)}}E Cp(){if(!o.1t&&v.g7==1){}F{1k(o.29);o.h4?o.h4.3L():\'\';o.S.4w()}}G.7z=E(){7z()};E Ct(x){if(v.uz==1){U(B i=0;i<1z.4W.Q;i++){if(1z.4W[i]){if(1z.4W[i].2T("id")!=v.id){1z.4W[i].2T(\'3L\',(v.137==1?1:0))}}}}1z.eo=v.id}E uF(x){B y=7P.6o(x).Q;o.j5=0;if(y>0){x=qL(x,y,\'\',-1)}J x}E qL(x,y,p,j){B x2=[];B 2G;if(L(x[\'W\'])){x=x[\'W\'];y=x.Q}B ii=0;U(B i=0;i<y;i++){2G=K;if(L(x[i][\'id\'])){x[i][\'dT\']=x[i][\'id\']}x[i][\'id\']="x"+p+\'-\'+i+(L(x[i][\'id\'])?\'-\'+x[i][\'id\']:\'\');j==-1&&i==0&&!L(x[i][\'5a\'])?o.je=x[i][\'id\']:\'\';if(!L(o.je)){j==0&&!L(x[i][\'5a\'])?o.je=x[i][\'id\']:\'\'}x[i][\'j8\']=p;x[i][\'tJ\']=j;x[i][\'bW\']=ii;if(L(x[i][\'1m\'])){o.j5+=x[i][\'1m\']}if(L(x[i][\'BW\'])){x[i][\'1N\']=x[i][\'BW\'];B q1=x[i][\'3e\']?x[i][\'3e\'].I(\'[\'):0;B q2=x[i][\'3e\']?x[i][\'3e\'].I(\']\'):0;if(q1>0&&q2>0){B s1=x[i][\'3e\'].1i(q1+1,q2-q1-1);B s2=s1.2k(",");B s3=\'\';U(B k=0;k<s2.Q;k++){s3+="["+s2[k]+"]"+x[i][\'3e\'].1O("["+s1+"]",s2[k])+(k<s2.Q-1?",":\'\')}x[i][\'3e\']=s3}}if(L(x[i][\'W\'])){x[i][\'5a\']=x[i][\'W\']}if(!L(x[i][\'5a\'])){if(L(x[i][\'3e\'])){if(x[i][\'3e\']==\'\'&&!L(x[i][\'7i\'])){2G=H}}F{2G=H}}if(!2G){o.1G[x[i][\'id\']]=x[i];ii+=1}if(L(x[i][\'5a\'])){B z=7P.6o(x[i][\'5a\']).Q;if(z>0){x[i][\'5a\']=qL(x[i][\'5a\'],z,x[i][\'id\'],i)}}if(!2G){x2.2K(x[i])}}J x2}E CZ(){B x=[];if(L(v.4O)){if(v.4O.I("x-")!=0){U(B y in o.1G){if(o.1G.2r(y)){if(o.1G[y].dT==v.4O){v.4O=y}}}}if(L(o.1G[v.4O])){v.W.12F==1?v.W.x8=0:\'\';x=o.1G[v.4O]}F{x=o.W[0];if(v.4O==o.Dc){o.2b=1E}}}F{x=o.W[0]}if(x){U(B i=0;i<10;i++){if(L(x[\'5a\'])){x=x[\'5a\'][0]}F{1g}}v.4O=x.id;if(v.4O==o.Dc&&x.1v!=\'3p\'){x.1v=1E}}J x}G.go=E(){J go()};E go(){B x=K;if(o.S){if(o.S.gZ()){if((v.W.c5==1||v.kb==1)&&o.S.bE()){x=H}}}J x};E 9F(){9E("4b","9F",1);o.V.eO();if(o.5f&&v.bR==1){o.3p.r5(0,o.P.1m())}if(o.S.gZ()){if(go()){if(L(v.W.Dj)){o.Di=1w(E(){o.S.bh()},v.W.Dj*2h)}F{o.S.bh()}}F{xT()}}F{if(v.124==1&&o.1Z){o.V.8C()}xV()}}G.CJ=E(){xT()};E xT(){if(v.W.c5==1&&v.W.oj==1&&!o.S.bE()){o.S.lT();J}if(v.W.EH==1){!o.S.i6()?o.S.h7():\'\'}xV()}E xV(){v.51==1?o.51.2T("4b"):\'\';js("11Y");if(v.7i==1&&v.11W==1&&2g(v.CV)){7i(v.CV)}if(v.9r){if(1D AA!=="1E"){!o.9r?o.9r=1u AA():o.9r.xu()}}!o.9r?7z():\'\'}E pE(x){if(x.I(\'js:\')==0){2R{x=2f(x.1i(3))}2C(e){8x.1n(e.a2)}}J x?x:\'\'}};B qP=E(Y){B Y;B 3M;B l3;B 7C;B g9="";B db=0;B hk=K;B oT=K;B vZ;B P;B 3k;o.3B={x:1,y:1,x0:1,y0:1};B an;B ix=[];B ph=0;B gv=0;B jo;if(1D(Y)==\'4y\'){Y=4d(Y);if(Y.I("[{")==0){2R{Y=Y.1O(/6L\'qt/ig,\'"\');Y=5n.7g(Y);an?Y=o.V.6y(Y):\'\'}2C(e){8x.1n(e);Y="AC 5n"}}if(Y.I("#"+v.a3)==0){Y=o[o.fd[0]](Y)}if(Y){if(Y.I("#"+v.bB)==0&&Y.I(v.dh)>0){an=H;o[o.fd[1]](Y,b4)}}if(Y){if(Y.I("#0")==0){if(Y.I(o.e1)>0){Y=cD(Y.1O(o.e1,\'\'))+o.e1}F{Y=cD(Y)}}}if(v.c7==1){Y=c7(Y)}if(1D(Y)==\'4y\'){if(Y.I(".az")==Y.Q-4||Y.I(".8Z")>0){ix=Y.2k(" or ");vP()}}}o.3O=1Y("2c");ec(o.3O);O(o.3O,{"5q":"2Y 0.2s 3f","1B-8q":"7Z"});o.1Q.1U(o.3O);if(v.1L.AD==1){if(!o.xy){tg(o.3O,\'o.AD\',v.1L.iu!=1,v.1L.iu==1,AG);o.xy=H}}if(!an){b4()}E AG(){B p=o.3O.jc;B p2=o.2W;if(v.1L.iu==1){p=o.3O.nA;p2=o.4E}B x;if(p>p2*2m(v.1L.Az,0.5)){if(o.S.h0()){x=H;o.S.ey()}}F{if(p<-p2*2m(v.1L.Az,0.5)){if(o.S.bE()){x=H;o.S.bh()}}}if(x){if(v.1L.iu==1){O(o.3O,{"1b":0})}F{O(o.3O,{"1a":0})}}F{1u 5x({mc:o.3O,1F:(v.1L.iu==1?"1b":"1a"),to:0,18:0.1,6z:"Jk",me:"xy"})}}E vP(){Y=ix[ph];if(Y.I(o.e1)>0){Y=Y.1O(o.e1,\'\');v.3e=Y}B 4L=gr(Y);4L.as=E(){if(G.gY==4&&G.7e==4z){h7(G);o.S.JI()}F{pG(1)}};4L.nB=E(e){pG(3)};4L.dW();an=H}E pG(x){if(ix.Q>1){if(ph+1<ix.Q){ph++;vP();x=0}}if(x==1){5E("W gI m9 or Ao Ap")}if(x==2){5E("11V 5n")}}E h7(x){if(x.dJ){B y=x.dJ;if(y.I("#"+v.a3)==0){y=o[o.fd[0]](y)}if(y.I("#"+v.bB)==0&&y.I(v.dh)>0){y=o[o.fd[1]](y)}if(Y.I(".az")==Y.Q-4){B az=y.2k(/(\\r\\n\\t|\\n|\\r\\t)/gm);Y=[];B vf=1;B iE=\'\';U(B i=0;i<az.Q;i++){if(az[i].I("#11T")>-1){if(az[i].I(" - ")>-1){B 1H=az[i].2k(" - ");iE=1H[1H.Q-1]}}if(az[i].I("3R")>-1){Y.2K({1N:""+(iE!=\'\'?iE:vf),3e:az[i]});vf++;iE=\'\'}}}F{y=y.1O(/(\\r\\n\\t|\\n|\\r\\t)/gm,"");2R{Y=5n.7g(y)}2C(e){8x.1n(e.a2);pG(2)}}if(o.S){if(v.W.qj==1){o.S.i7(2)}}b4();cP();1w(E(){js("W")},1)}}E b4(x){Y=o.V.6y(x?x:Y);Y&&Y!=\'?\'?6y(Y):\'\';o.1t&&x&&!o.1V?o.P.2x():\'\'}E 5E(x,Bn){B y=H;B yy=H;js("11M",x);if(o.iW){J}if(Bn!=1&&v.6B==1&&v.we==1){wq();J}if(3M){if(o.1t||o.h6||(v.3j==1&&!o.1v)){if(3M.Q>0){7C++;y=7C>3M.Q-1;if(y&&3M.Q>1&&v.do>0){if(o.do<v.do){7C=0;y=K}o.do++}if(y&&v.11H==1){if(o.43.Q>1){if(o.2y[o.3h].I(2I("f5"))==-1){o.2y[o.3h]=o.2y[o.3h]+\' (\'+2I("f5")+\')\'}if(o.3h>0){yy=K;o.V.5X(o.3h-1);jd()}F{if(o.2y[o.3h+1].I(2I("f5"))==-1){yy=K;o.V.5X(o.3h+1);jd()}}}}if(!y){o.2b>0||!o.1v||P.5Q()?\'\':o.2b=46();if(o.2o!=ob(3M[7C])||!o.4p){if(o.1t){o.V.bG(1)}}o.gD=K;if(v.w7>0){2D(o.gK);o.gK=1w(iy,v.w7*2h)}F{iy()}}F{if(v.6B==1&&yy&&v.we!=1){y=K;wq()}}}}F{y=K;if(!o.1v){iy()}}}if(y&&yy&&x){w9(x,H)}};E iy(){if(o.iW){J}if(o.1t||o.h6||(v.3j==1&&!o.1v)){1n("11G cp",o.2b);6y(\'or\');o.1v&&!o.1V?P.2x():\'\';jd()}F{if(!o.1v){if(3M.Q>0){if(7C+1<3M.Q){7C++;o.do++;6y(\'or\')}}}F{2D(o.gK);o.gK=1w(iy,2g(v.w7,5)*2h)}}}E w9(x,mr){9E("2u","hH",H);o.dQ=K;if(v.Bc==1&&!o.9n){if(v.Bd==1){o.9S.8Z(v.A8)}F{o.9S.8Z(x)}if(v.Bj==1&&L(v.Bi)){o.d8=1u Bg();o.V.gs()}}mr?o.9n=H:\'\';if(o.1t){o.V.8E();o.S.3b()}L(o.29)&&!L(o.d8)?o.V.7z():\'\';js("2u",x)}E wq(){gv++;1n("hH gR C2 "+gv);o.1t?o.o9=1:\'\';L(o.bH)?2D(o.bH):\'\';o.bH=1w(Be,v.wo*2h)}E Be(){B x=2m(v.11F,10);if(o.1t||o.o9==1){o.o9=0;if(gv<x){o.V.gR()}F{if(v.we==1){5E(P.hX(),1)}F{w9(\'gR hH \'+P.hX())}}}}G.5E=E(x){5E(x?x:P.hX())};G.8g=E(y){1n("lG");hk=H;2D(jo);B x=K;if(41()>0&&!o.56&&!y){B 18=o.BR;if(18+10<41()){1n(\'11E (AY)\');js("AY");P.2x();P.3P(18);x=H}}if(!x){o.V.lG()}};G.ac=E(){if(v.xf==1){L(o.29)?o.V.7z():\'\'}v.g7==1?o.V.gs():\'\';o.S.2x();o.V.B6();if(v.12G==1&&L(v.ti)){if(v.ti.Q>5){tj();3K(vZ);vZ=7O(tj,v.B1*2h)}}js("1t")};G.iF=E(){if(v.kB==1&&o.4p){if(o.V.iF()){o.9i=P.yP();o.S.4w();yp()}}o.wy=H};G.ge=E(){46()>0&&46()==41()&&o.V.go()?\'\':o.V.3b()};G.hc=E(){1n("11D")};G.hf=E(){1n("x7");o.V.x7();L(o.gH)?js("3C",o.gH):\'\'};G.ch=E(){1n("x5");gv=0;o.V.x5();o.2o=="1C"?vq(1):\'\'};G.a7=E(){if(P){1n("41",41());o.V.41(46(),41());js("1m",41());gv=0;2D(o.bH);if(L(o.lq)){o.V.eD(o.lq);o.lq=26}}};E 46(){B x=P.18();J x}E 41(){B x=P.1m();J x}G.ek=E(){};G.8W=E(){1n("9t");o.V.9t();js("7I")};G.aR=E(){if(db!=46()){if(!o.9R){o.V.8E();if(db==0){if(v.g7==1&&v.Bk==1){o.V.gs()}}}}db=46();B bX=41();js("18",db);if(v.2a.on==1){if(1D(Bl)==\'E\'){!v.da&&v.2a.da?v.da=v.2a.da:\'\';if(!3k&&v.2a.3G!=1&&v.da&&v.da!=\'\'&&db>0){o.ew=1u Bl();3k=o.ew.gy()}}}if(o.2o=="1C"&&o.1h.6K&&bX>0){if(o.1t&&db>bX-1){2D(jo);jo=1w(BI,4f)}}};E BI(){if(!hk){o.V.3b();o.P.8g()}}G.wO=E(){if(o.2o=="4S"){P?P.la():\'\'}};G.BH=E(x){o.V.bG();P.BG(x)};G.IQ=E(x){if(L(x)){if(3k){3k.3U(x)}v.2a.1I=x}};G.BE=E(x){if(L(x)){if(3k){3k.3v(x);3k.2x()}}};G.la=E(){if(o.2o=="4S"&&P){J P.3W()}F{J H}};G.oy=E(){J o.2o=="1C"?P.oy():1E};G.oz=E(){J P.oz()};G.5X=E(x){1n("11B",x);if((o.2o=="e5"||o.2o==o.ws||(o.2o=="1C"&&(v.8M==0||9T()<2))||(o.2o=="3N"&&(v.mp==0||cj()<2)))&&L(o.43[x])){B 18=G.18();o.2b>0?\'\':o.2b=18;o.V.3P(18,K);6y(o.43[x],H);B y=H;if(v.1f){if((v.1f.11A==1&&!o.1t)||!o.1v){y=K}}if(o.a1>0){P.fS(o.a1)}if(y){o.V.2x()}}if(o.2o=="1C"&&v.8M==1&&9T()>1){P.IP(x)}F if(o.2o=="3N"&&v.mp==1&&cj()>1){P.IK(x)}F if(o.2o=="4S"||o.2o=="rt"){P.sF(x)}};G.JL=E(x,y){J iJ(x,y)};G.rR=E(x,y){J Ac(x,y)};E iJ(x,y){B r=x.1c+\'p\';if(x.1c<4z){r=\'wC\'}F if(x.1c>=4z&&x.1c<=ef){r=\'lL\'}F if(x.1c>ef&&x.1c<=iK){r=\'m5\'}F if(x.1c>iK&&x.1c<=3Z){r=\'lY\'}F if(x.1c>3Z&&x.1c<=gM){r=\'BC\'}F if(x.1c>gM&&x.1c<=BB){r=\'lU\'}F if(x.1c>BB&&x.1c<=BA){r=\'lR\'}F if(x.1c>BA&&x.1c<=Bv){r=\'vz\'}F if(x.1c>Bv&&x.1c<=Bu){r=\'126\'}F if(x.1c>Bu){r=\'vX\'}if(x.Z==12C&&x.1c<=12B){r=\'lL\'}F if(x.Z==Bs&&x.1c<=Br){r=\'m5\'}F if(x.Z==12A&&x.1c<=12z){r=\'lY\'}F if(x.Z==12y&&x.1c<=An){r=\'lU\'}F if(x.Z==12v&&x.1c<=12t){r=\'lR\'}F if(x.Z==12s&&x.1c<=12l){r=\'vz\'}F if(x.Z==12i&&x.1c<=12h){r=\'vX\'}if(v.1f.12f==1&&L(v.1f[\'6J\'+r])){r=v.1f[\'6J\'+r]}F{if(y==1){r=2I(r)}if(y==2&&L(x.9K)){r=2J(x.9K/2h)+\' \'+2I(\'hv\')}}J r};E Ac(x,y){B r=x.oQ();if(r=="12d"||r=="en"){x="12e"}F if(r=="12g"||r=="ru"){x="Русский"}if(1D(v.mC)=="3D"){if(L(v.mC[x])){x=v.mC[x]}F{x=2m(v.mC[y.6i()],x)}}J x};E yp(){if(o.4p&&o.1W&&!o.ur){P.un();U(B i=0;i<o.1W.Q;i++){if(o.1W[i]!=\'9N\'){P.JA(o.1W[i],o.2V[i],(i==o.3l))}}o.ur=H}}G.9a=E(x){1n("12j",x);x=3Y(x);P?P.gg(x):\'\';if(v.2a.on==1){if(3k){3k.gg(x)}}};G.AQ=E(){yp()};G.AN=E(){P.un()};G.eD=E(x){1n("12k",x);if(o.aW.Q>0){if(o.aW[x]){B 18=G.18();o.2b>0?\'\':o.2b=18;o.V.3P(18,K);6y(o.aW[x],H);o.V.2x()}}F{if(o.2o=="1C"&&v.cW==1){P.I4(x)}F if(o.2o=="3N"&&v.AH==1){P.IL(x)}F if(o.4p){P.fS(x)}}};G.mt=E(){B x=o.2y[o.3h];x==1E?x=\'\':\'\';B y=jh()&&v.af==1&&v.8M==1&&x!=2I("2A");J(y?\'\'+2I("2A")+\' \':\'\')+x};G.xK=E(){B x=o.7p[o.6S];x==1E?x=\'\':\'\';J x};G.jh=E(){J jh()};E jh(){B x=K;if(P){if(o.2o=="4S"){x=P.2A()}if(o.2o=="1C"&&v.8M==1&&9T()>1&&v.af==1){x=P.2A()}if(o.2o=="3N"&&v.mp==1&&cj()>1){x=P.2A()}}J x}E 9T(){if(o.2o=="1C"){J P.9T()}F{J 0}}E cj(){if(o.2o=="3N"){J P.cj()}F{J 0}};G.8X=E(){J o.4p?P.8X():o.4V};G.4N=E(x){if(P&&(o.rL||L(v.8X))){P.4N()}if(v.qw>0){O(o.3O,{"1c":(o.1Z?"100%":o.dq-v.qw)})}if(o.3k&&v.2a.C0==1){o.ew.4N()}if(v.yf==1){12m()}if(o.sW){o.sW.4N()}};G.3F=E(){J P?P.3F():{}};G.hJ=E(){P.hJ()};G.6B=E(){1n(\'6B\');o.9I=0;o.1v?v.3j=1:\'\';o.V.9t();if(Y&&v.12n!=1){if(Y.I(\'(5I)\')==-1){Y=Y+(Y.I(\'?\')==-1?\'?\':\'&\')+\'CW=(5I)\'}}if(Y){if(o.4p){P.3v(Y);G.2x()}F{6y(Y)}}};if(!L(o.29)){uu()}if(L(v.29)){if(v.29!=\'\'){ao(v.29,o.29,v.gx);if(v.xf==1&&!o.1v){1k(o.29)}}F{v.29=26}}E aV(){g9=P?P.7e():\'\'}E CR(Y){3M=Y.2k(" or ");U(B i=0;i<3M.Q;i++){if(3M[i].I(" gu ")>-1){l3=3M[i].2k(" gu ");3M[i]=l3[5I(0,l3.Q-1)]}if(L(v.l1)&&3M[i].I("//")==-1){3M[i]=v.l1+3M[i]}}7C=0}E CN(){aV();if(g9=="8a"||o.56){o.V.yg()}if(g9!=""){o.V.yj()}}E uu(){if(o.29){o.1Q.3o(o.29)}o.29=1Y("2c");O(o.29,{"4D-3i":"1S","1A":v.mx,5q:"1A 0.5s"});if(v.yf==1){12o()}F{ec(o.29)}o.1Q.1U(o.29)}E 6y(x,y,CQ){if(x){if(x.I("3C:")==0&&o.W){o.2b=x.1i(5);o.S.JG(0);J}}2D(jo);v.jp==\'\'?v.jp=\';\':\'\';if(x.I(\'{\')>-1&&x.I(\'}\')>-1&&x.I(v.jp)>-1){B z=x.2k(v.jp);o.aW=[];U(B i=0;i<z.Q;i++){o.7p[i]=z[i].1i(z[i].I("{")+1,z[i].I("}")-1);o.aW[i]=z[i].1i(z[i].I("}")+1);if(L(v.aZ)){if(v.aZ==o.7p[i]){o.6S=i}}}x=o.aW[o.6S]}!L(3M)?3M=[]:\'\';o.nZ?2D(o.nZ):\'\';x&&x!=\'or\'&&x!=\'x\'?CR(x):\'\';B ft=o.CP;if(3M.Q>0){B fu=3M[7C];if(fu){if(fu.I(\'js:\')==0){2R{fu=2f(fu.1i(3))}2C(e){8x.1n(e.a2)}}}if(fu){o.2o=ob(fu);B gy=K;if(CQ){gy=H}Y=fu;if(Y){Y=Y.1O(/\\(5I\\)/g,2F.5I())}F{Y=3M[0]}if(!gy&&x!=\'x\'&&P&&o.2o==ft&&(ft=="e5"||(ft=="c4"&&!o.1h.2e)||(ft=="4S"&&o.1v&&!oT)||ft=="dm"||ft=="1C"||ft=="3N")&&!o.ng){P.3v(Y)}F{1n("12b");o8();D9(Y)}o.CP=o.2o;vq()}}if(!y){3K(o.y5);o.y5=7O(CN,o.lB);if(!L(v.1X)&&v.lx==1&&v.uQ==1){v.1X=\'\'}if(L(v.1X)){o.V.fr(v.1X)}if(v.g0==1){if(v.kB==1&&o.1h.2e){}F{if(o.2o=="4S"){O(o.3O,{"1b":-kX,"1a":-kX})}F{3g(o.3O)}v.1p.1k=0}}}}E vq(x){if(o.er||x){if(o.jL){P.gg(o.iI)}F{if(o.a4!=o.er){P.gg(o.5S[o.a4])}}}}E ob(x){B 1F="e5";if(x){if(x.I(".zg")>0){1F="1C"}F if(x.I(".z4")>0){1F="3N"}F if(x.I("w")==0&&x.I("s")==1){1F=o.ws}F if(x.I(\'4S.9J/\')>-1||x.I(\'lp.be/\')>-1){if(1D(CI)==\'E\'){1F="4S";if(v.xo==1){B y=\'ju://3E.4S.9J/vi/\'+lr(x)+\'/\';Da(y+\'CD.iD\',E(z){z>100?v.29=y+\'CD.iD\':v.29=y+\'12p.iD\';if(o.1G){o.1G[o.3q][\'29\']=v.29}v.3j==1||o.1v?\'\':ao(v.29,o.29,v.gx)})}}F{1n("No Dh")}}F if(v.c4==1&&x.I(\'c4.9J/\')>-1){1F="c4"}F if(v.12r==1&&x.I(\'12u.r\')>-1){1F="rt"}F if(v.Df==1){if(1D(De)==\'E\'){De(x)?1F="6L":\'\'}}}o.rL=1F=="4S"||1F=="c4"||1F=="rt";o.4p=1F=="e5"||1F=="1C"||1F=="3N"||1F==o.ws;J 1F}E Da(Y,D0){B 3E=1u Gt();3E.as=E(){D0(G.1c)};3E.3v=Y}E D9(x){o.2o=ob(x);if(o.4p){P=1u zr(x,o.3O,K)}if(o.rL){P=2f("1u qP"+o.2o[0].D8()+o.2o.4M(1)+"(x,o.3O);")}if(o.2o=="6L"){P=1u 12w(x)}o.S?o.S.Kh():\'\';qH()}G.D5=E(){qH()};E qH(){if(L(v.1m)){B t=0;if(o.3p&&v.bR==1&&!o.1v){t=o.3p.aM().t}1w(E(){o.V.41(t,v.1m)},100)}}E o8(){if(P){P.4s();P=26;g9="7l"}if(3k){3k.4s();3k=26;3k=1E;o.ew.5C();o.3k=26;o.ew=26}};G.4s=E(){o8()};G.12x=E(){3M=[];o8()};G.6y=E(x,y,z){6y(x,y,z)};G.ao=E(x){ao(x,o.29,v.gx)};G.2x=E(x){if(P){hk=K;oT=K;if(o.56){o.3I.2x()}F{P.2x(x);v.g7==1?o.V.gs():\'\'}if(L(3k)){3k.2x()}if(o.7U){if(o.4p){if(o.bq>0&&!o.7U.12D()){o.7U.nR()}}F{o.o4=[];o.S.iv("dU")}}if(o.4p&&v.pX>-1&&!o.t9&&!o.1h.4i){if(o.bq>0){P.JP()}}jd()}F{1w(G.2x,3Z)}};E jd(){if(v.C5>0&&3M.Q>1){if(41()==0||v.C3==1){2D(o.nZ);o.nZ=1w(C4,v.C5*2h)}}}E C4(){if(o.1t&&(41()==0||v.C3==1)&&46()==0&&!o.gK){if(P){if(P.ag()==0&&7C!=3M.Q-1){5E(\'6y C2\')}}}}G.C1=E(1e){if(o.3k){if(v.2a.C0==1){if(o.tz[o.3k]>2){J}}if(1e){1e.av();1z.1e?1z.1e.6G=H:\'\'}B 1H=P;P.sX(H,o.3k);3k.sX(K,o.3O);P=3k;3k=1H;P.2x();3k.2x();js("2a")}};G.BZ=E(){P.3v(Y)};G.uR=E(){v.51==1?o.51.2T("1k"):\'\';o.sj=H};G.ip=E(){if(v.1p.v6){v.1p.v6=K;if(o.S){o.S.r3(1);o.S.sc()}}o.sj=K};G.BY=E(){if(o.3k&&o.ew){o.ew.f3()}};G.h5=E(){if(o.4p&&o.5e){o.jl=H;P.5e()}};G.e6=E(){if(o.4p&&o.9b){P.9b()}};G.mN=E(){if(v.fm==1&&L(v.12E)){if(L(o.fm)){o.fm.1o()}F{if(1D(BM)==\'E\'){o.fm=1u BM()}}}i0();if(P){lN(0);P.mN()}};G.c9=E(){o.fm?o.fm.1k():\'\';P?P.c9():\'\'};G.i0=E(x){i0(x)};E i0(x){if(v.12q==1&&2g(v.c8)){if(L(o.c8)){o.c8.1o(x)}F{if(1D(BU)==\'E\'){o.c8=1u BU()}}}}G.3b=E(x){if(o.56){o.3I.3b()}F{P?P.3b(x):1n("129")}if(L(o.3k)){3k.3b()}};G.tT=E(){oT=H;o.V.3P(0,K);L(o.29)?o.V.7z():\'\';6y(\'x\')};G.eE=E(){P?P.eE():\'\'};G.3P=E(x){if(P){if(o.56){o.3I.3P(x)}F{P.3P(x);if(v.2a.on==1){if(3k){3k.3P(x)}}}}};G.53=E(){if(P){P.53();o.56?o.3I.53():\'\';1n("5i")}if(v.2a.on==1&&v.2a.fw==1){if(3k){3k.53()}}};G.6l=E(){if(P){P.6l();o.56?o.3I.6l():\'\';1n("9B")}if(v.2a.on==1&&v.2a.fw==1){if(3k){3k.6l()}}};G.3U=E(x){P?P.3U(x):\'\';if(v.2a.on==1){if(v.2a.fw==1&&3k&&!o.Hb){3k.3U(x)}}if(o.56){o.3I.3U(x)}};G.mY=E(){J P?P.mY():K};G.5Q=E(){J P?P.5Q():K};G.7e=E(){J g9};G.7l=E(){J hk};G.18=E(){B x=0;if(P){x=46();if(o.56){B y=o.3I.46();y?x=y:\'\'}F{if(41()>0&&x!=41()){o.BR=x+0.11O}}J x}F{J 0}};G.1m=E(){B x=0;if(P){x=41();x==0&&L(v.1m)?x=v.1m*1:\'\';if(o.56){B y=o.3I.41();y?x=y:\'\'}}J x};G.ag=E(){J P?P.ag():0};G.gb=E(){o.3B.gb=o.3B.gb?K:H;O(o.3O,{"2Y":(o.3B.gb?"3n(-1)":"3n(1)")})};G.11C=E(){uu()};G.us=E(){if(o.4p){P.4C()}};G.Cs=E(x,y){if(x==\'1M\'){if(y==1){dZ(v.1f.1M/100)}if(y==2){dZ(-v.1f.1M/100)}if(y==3){o.P.hO()}}F{if(o.4p){if(!o.9Z[x]){if(x==\'sS\'){o.9Z[x]=0}F{o.9Z[x]=1}}if(y==1){o.9Z[x]+=v.1f[x]/100}if(y==2){o.9Z[x]-=v.1f[x]/100}if(y==3){if(x==\'sS\'){o.9Z[x]=0}F{o.9Z[x]=1}}!o.hT?o.hT=[]:\'\';o.hT[x]=x+\'(\'+2J(o.9Z[x]*100)+\'%) \';B cf=\'\';U(B i in o.hT){cf+=o.hT[i]}O(P.aj(),{\'6W\':cf});o.S.lM(x)}}};G.1M=E(x){dZ(x)};E dZ(x){if(6R(x).I(":")>0){B y=x.2k(":");B z0=o.2W/o.4E;B z1=o.P.3F();if(z1.Z>0){z0=z1.Z/z1.1c}B z=y[0]/y[1];if(z0!=z){if(o.4p){P.gj()}B w2=o.4E*z;B x2=w2/o.2W;B h2=o.2W/z;B y2=h2/o.4E;if(x2<1){o.3B.x0=o.3B.x=3Y(x2);o.3B.y=1}F{o.3B.x=1;o.3B.y0=o.3B.y=3Y(y2)}O(o.3O,{"2Y":"3n("+o.3B.x+") 3u("+o.3B.y+")"});o.kJ=x}}F{o.3B.x+=3Y(x);o.3B.y+=3Y(x);O(o.3O,{"2Y":"3n("+o.3B.x+") 3u("+o.3B.y+")"})}if(v.1L.11I==1){if(!o.tr){if(o.3B.x>0||o.3B.y>1){tg(o.3O,\'o.11J\');o.tr=H}}tx()}o.S?o.S.lM(\'1M\'):\'\'};G.hO=E(){if(o.4p){P.gj()}o.3B.x=o.3B.x0;o.3B.y=o.3B.y0;O(o.3O,{"2Y":"3n("+o.3B.x+") 3u("+o.3B.y+")"});o.S.lM(\'1M\');o.kJ=26;tx()};E tx(){if(o.tr&&v.1L.11K!=1){if(o.3B.x==1&&o.3B.y==1){O(o.3O,{"1b":0,"1a":0})}}};G.gh=E(x,y){P.gh(x,y)};G.cm=E(){J cm()};E cm(){J 3M?(3M.Q>0?(3M[7C]?3M[7C]:\'\'):\'\'):\'\'};G.vV=E(){J 3M.Q};G.aj=E(){J P?P.aj():K};G.6h=E(){if(o.4p){P.6h()}};G.yF=E(){P.yF()};E tj(){B 4L=gr(v.ti+\'?Y=\'+3M[7C]);4L.as=E(){if(G.gY==4&&G.7e==4z){if(G.dJ){v.1N=G.dJ;o.V.aE(\'1N\')}}};4L.dW()}};B zr=E(Y,1K,2a){B 17=1Y(v.g0==1?"zu":"h3");B 9D;B xI=0;B 1C;B 4G=K;B yo=K;B qu=K;B 9P=K;B fC=-1;B ot=-1;B 3N;B 6q=K;B ws;B qK=K;B 6f=K;o.5u=K;B 8F=0;B 8P=K;B hW=0;B 2u;B 11L;B mP=K;B hD=-1;B cq=-1;B vI;B sQ;B a0;B hR;B 11z;B na;B IJ=\'h3/Gu; 11N="11P.11Q, 11R.40.2"\';B a5=K;O(17,{\'1q\':\'mA\',\'Z\':\'100%\',\'1c\':\'100%\',\'3D-kP\':\'rY\',\'5q\':"6W 0.2s 3f",\'8J-1c\':\'2A\',\'5W-1c\':\'1S\',\'8J-Z\':\'2A\',\'5W-Z\':\'1S\'});gj();if(o.1h.7t&&v.3j==1&&v.tY==1){if(!o.1v&&v.7x){3V(17,{\'kK\':1})}F{o.3m=H;o.S?o.S.53():\'\';3V(17,{\'3m\':1,\'kK\':1,\'3j\':1})}}F{if(v.uB==1&&o.1h.2e){if(v.zO!=1&&o.1h.7t&&v.1V!=1){}F{3V(17,{\'kK\':1})}}if(!o.1h.tv){3V(17,{\'4C\':(v.4C==1?\'7J\':\'1S\')})}}if(v.11S==1){3V(17,{"11U":"zl","11X":"zl"})}Y=gd(Y);3V(17,{\'3v\':Y,\'x-3J-5e\':\'HM\',\'zo\':\'H\'});if(v.29&&v.11Z==1){3V(17,{"29":v.29})}if(v.123!=1){3V(17,{\'zo\':\'H\'})}if(v.12a==1){3V(17,{\'2a\':\'K\'})}if(2a){17.3j=H;if(v.2a.fw!=1||v.3j==1){17.3m=H}F{17.1I=2g(v.2a.1I)?v.2a.1I:v.1I}}if(v.12K==1){3V(17,{\'12M\':\'136\'})}tc();if(v.12P==1){B dD=1Y("ee");3V(dD,{"HH":"no","HK":"H","HL":"H","3v":""});O(dD,{"1q":"2B","Z":"100%","1c":"100%","2Q":0});1K.1U(dD);B A5=1z.7O(E(){if(dD.k7.1T.gY==="Gs"){1z.3K(A5);O(dD.tI.aL,{"2P":0,"2S":0});dD.tI.aL.1U(17)}},100)}F{1K.1U(17)}if(!L(Y)){Y=\'\'}B hj=K;if(o.1h.tv){if(Y.I("130")>0){hj=H}}if(o.1h.6K){if(Y.I("12H")>0||(v.IT==1&&v.dn==1)){hj=H}}if(o.1h.4i){if(Y.I("y6")>0){hj=H}}o.1h.6K?L2():\'\';if(Y.I(".z4")>0){6f=H;if(!o.3N){if(1D z8!=="1E"){o.3N=1u z8()}F{6f=K}}if(L(o.3N)){if(!L(1z.zq)){o.3N.nI()}F{yI()}}}F if(((2H.1C==1&&v.rA!=1)||Y.I(".zg")>0)&&!hj&&(o.gC.I("8y")!=-1||L(1z.5z))){4G=H;yo=H;2R{if(L(1z.5z)){if(!5z.zJ()||(o.1h.6K&&v.12Z==1&&!o.1h.4i)||(o.1h.4i&&v.y6==1)||(o.1h.nD&&v.Zk==1)){1n(\'8y YQ \',5z.zJ());4G=K}F{if(v.4C==1||v.3j==1||v.zw==1||2a){d4(K)}}}F{4G=K}}2C(2u){4G=K}}F if(Y.I("w")==0&&Y.I("s")==1&&v.VN==1){8P=H;qx()}if(o.1h.tv&&v.3j==1&&!4G&&!6f&&!8P){1w(E(){o.V.dL()},100)}if(v.7U==1){L(o.7U)?o.7U.bj():\'\';o.7U=1u YO()};G.yF=E(){yI()};E yI(){6f=H;if(xU()){if(v.4C==1||v.3j==1||v.zs==1){mL(K)}}F{6f=K;1n("UG gI J0")}}E mL(x){if(o.3N&&!6q){o.3N.gy(x,17,Y,2a);L(1z.zq)?6q=H:\'\'}}E d4(x){1n("8y");if(o.43.Q>1){v.8M=0;v.zt=H}F{v.zt?v.8M=1:\'\'}if(o.aW.Q>1){v.cW=0;v.zb=H}F{v.zb?v.cW=1:\'\'}o.a0=K;fC=-1;a0=[];o.3z?o.3z.A7():\'\';B uV=K;if(v.7x&&v.zQ==1){uV=H;v.zQ=0}9D={IZ:(v.zF==1&&!2a),UH:(v.4C==1||v.3j==1||2a||x)&&!uV,gQ:60,wd:60,UI:K};if(v.za>0){9D.UJ={6X:{zX:v.za*2h}}}if(v.A1>0){9D.UK={6X:{zX:v.A1*2h}}}if(v.UL==1){9D.UM=H}if(v.dn==1){B ks=[\'wv\',\'pr\',\'ck\'];B np=[\'9J.UN.fF\',\'9J.UO.UF\',\'47.w3.UP\'];B dj={};U(B i=0;i<ks.Q;i++){if(v[\'dn\'+ks[i]]==1){dj[np[i]]={};if(2g(v[\'dn\'+ks[i]+\'l\'])){dj[np[i]].UR=ve(v[\'dn\'+ks[i]+\'l\'])}if(2g(v[\'dn\'+ks[i]+\'s\'])){dj[np[i]].US=ve(v[\'dn\'+ks[i]+\'s\'])}}}9D.UT=H;9D.UU=dj}if(v.zR==1){9D[\'UV\']=E(4L,Y){4L.UW=H}}if(L(v.6E)){if(L(v.6E.gQ)){if(v.6E.gQ>gM){v.6E.gQ=gM}v.6E.wd=v.6E.gQ}if(L(v.6E.zk)){v.6E.wd=v.6E.gQ=v.6E.zk}if(1D v.6E=="3D"){U(B 19 in v.6E){if(v.6E[19].6i().I(\'2f:\')==0){v.6E[19]=2f(v.6E[19].1i(5))}9D[19]=v.6E[19]}}}js("UX",1C);1C=1u 5z(9D);js("1C",1C,1);1C.J4(Y);1C.UY(17);1C.on(5z.7o.UZ,E(){1n("8y UQ")});1C.on(5z.7o.UD,E(1e,22){!2a?o.V.dL():\'\'});1C.on(5z.7o.Ur,E(1e,22){if(!2a&&v.8M==1&&9T()>1){IH();nu();o.S?o.S.i3(o.3h):\'\'}});1C.on(5z.7o.UC,E(1e,22){nu()});1C.on(5z.7o.Uh,E(1e,22){nu()});1C.on(5z.7o.Ui,E(1e,22){if(!2a){if(22.hM.5u!=o.5u){o.5u=22.hM.5u;o.S.4w()}o.5u=22.hM.5u;if(o.5u){1n("Uj");o.Kk=Y.I("?uq")>-1;if(17.1m>0&&17.cA>0){if(17.1m-17.cA<10){if(o.hl>0){if(o.hl==17.cA&&o.JT==17.1m){o.nk++;if(o.nk>2){o.nk=0;o.hl=-1;1C.9Q();d4(H);8g()}}F{o.hl=-1}}F{o.hl=17.cA;o.JT=17.1m}}}}}if(v.8M==1){o.3h=1C.ow;o.S?o.S.i3(o.3h):\'\'}ox()});1C.on(5z.7o.Uk,E(1e,22){if(L(22.hS)){!2a?js("Ul",22.hS.Um):\'\';if(v.eF==1){if(!o.eF){if(1D K5!=="1E"){o.eF=1u K5()}}o.eF?o.eF.Go(22.hS):\'\'}}if(fC>-1){1C.JV=fC;fC=-1}2D(o.gK);qu=H;J1()});1C.on(5z.7o.Uo,E(1e,22){js("Up",22,1)});1C.on(5z.7o.Ug,E(1e,22){if(!2a&&v.cW==1){1w(rZ,3Z)}});1C.on(5z.7o.Uq,E(1e,22){if(!2a&&v.cW==1){qE()}});1C.Us=K;if(v.Ut==1){1C.on(5z.7o.Uu,E(1e,22){if(1D(22)=="3D"){if(22.hS.1F==\'1X\'){B fu=22.hS.Y;if(fu){B st=1C.Jv;if(o.4U){o.3z.sV(st+\'cH\'+fu)}F{!a0[st]?a0[st]=[]:\'\';a0[st].2K(fu)}}}}});1C.on(5z.7o.Uv,E(1e,22){B x=1C.Uw;B y=\'\';U(B i=0;i<x.Q;i++){y+=(y!=\'\'?\',\':\'\')+\'[\'+x[i].6J+\']1C\'+i;x[i].6X?o.nr=x[i].6J:\'\'}3r("1X",y)})}1C.on(5z.7o.Ux,E(1e,22){v.1n==1?8x.1n(22):\'\';js(22.1F+\'5z\',22,0,H);o.wD=22;if(22.gD){if(22.1F=="Uy"){1n("8y gD ys 2u");if(v.nw==1&&46()==0){yB()}F{2u=22.hM+\' (\'+22.1F+\')\';o.2b>0||2a||v.5u==1||8P?\'\':o.2b=46();1C.9Q();if(!2a){o.gD=H;o.P.5E()}}}F{B nx=K;if(22.1F=="Uz"){if(v.UB==1&&o.P.vV()>0){nx=H}F{1n("8y gD P 2u, hQ");1C.V0()}}F{nx=H}if(nx){2u="8y gD 2u, 9Q";1C.9Q();!2a?o.P.5E():\'\'}}}F{1n("8y ",22.1F,22.hM,(22.nt?22.nt.yu:\'\'));js("UE",(22.nt?22.nt.yu:\'\'));if(8F>0){8F=2;vM()}}});9P=H}E ve(x){if(x){U(B j=1;j<11;j++){if(v["IV"+j]){x=x.1O("{"+j+"}",v["IV"+j])}}}J x}E nu(){if(!2a&&v.8M==1&&9T()>1){if(o.3h!=1C.ow){o.3h=1C.ow;o.S?o.S.i3(o.3h):\'\';1n("8y V1 "+o.3h)}if(2g(v.bT)&&o.3h>0){B fq=v.bT.2k(",");U(B k=0;k<fq.Q;k++){if(o.2y[o.3h].I(fq[k])>-1){1n(\'Vp 5b\');1C.gl=o.3h-1;o.3h--;1g}}}if(v.af!=1&&n3()){v.gk="d9";sr(ot>-1?ot:1C.gl);1n("Vr")}}}E qx(){if(L(1z.IX)){if(xU()){if(!L(o.ws)){o.ws=1u Vs()}ws=1u IX(17,Y,2m(v.Vt,{IZ:H}));qK=H}F{8P=K;1n("gI J0")}}}E J1(){vQ()};G.6h=E(){vQ()};E vQ(){if(v.K9&&o.S){if(17.cg.Q>0){if(v.6h==1){17.cg[17.cg.Q-1].gf="JH"}F{17.cg[17.cg.Q-1].gf="3d"}if(!o.6h){o.6h=H;o.S.4w()}}F{if(o.6h){o.6h=K;o.S.4w()}}}}E yB(){1n("Vu");!2a&&o.1t?o.V.3b():\'\';o.V.7z();8F=1;vM(o.1t)}E vM(x){if(8F>0){2D(vI);vI=1w(J3,v.J2*2h)}}E J3(){if(8F>0){1n("Vv");if(4G){if(8F==1){1C.J4(Y)}if(8F==2){1C.9Q();d4(H);17.1t()}}F{3V(17,{\'3v\':Y})}}}17.1y(\'Vw\',J8);17.1y(\'2u\',uH);17.1y(\'7l\',8g);17.1y(\'1t\',ac);17.1y(\'3L\',ge);17.1y(\'JJ\',aR);17.1y(\'hy\',hc);17.1y(\'oN\',hf);17.1y(\'Jj\',ch);17.1y(\'IU\',ek);17.1y(\'7I\',8W);17.1y(\'IY\',a7);17.1y(\'Vx\',Ib);17.1y(\'J7\',ug);17.1y(\'J9\',tF);if(v.IT==1&&o.1h.6K){if(2g(v.Vy)){if(2g(v.Vz)){17.1y(\'Ja\',tH)}}}if(o.1h.7t){17.1y("Vq",hJ,K);17.1y(\'Jg\',Je)}E Je(){if(v.kB!=1){17.dz("S")}}E hJ(){if(17.VA){o.V.gz()}}E J8(){if(!4G&&!6f){!2a?o.V.dL():\'\'}}E uH(){if(!4G&&!6f){if(17.2u){B x=17.2u.yu;2u=17.2u.a2;if(2u==\'\'){if(x==1){2u="JW"}if(x==2){2u="ys"}if(x==3){2u="gJ"}if(x==4){2u="gI m9"}}1n("hH: ",2u)}if(yo&&v.nw==1&&46()==0){2u=1E;yB()}if(2u!=1E||o.1h.4i){5E()}}}E 5E(){!2a?o.P.5E():\'\'}E 8g(){if(!2a){o.P.8g()}F{if(v.2a.8Q==1){17.cA=0;17.1t()}}}E ac(){if(!o.1v&&v.7x){1n(\'J5 1t\');3L();o.V.2x();J}if(4G&&8F>0){}F{if(!2a){B aJ=o.V.8e()&&o.nh!=1;if(aJ||cq==-1){B x=K;if(4G){if(L(o.1V)||L(o.5K)){if(aJ){}F{1n(\'3L iO\');3L();x=H}}}if(!x){o.P.ac()}}}}}E ge(){if(!a5){1n("VC");if(o.1t&&o.h6&&!17.7l&&v.Ji==1&&!o.9i){1n("Ji");fn()}F{!2a&&!o.Jp&&17.6v?o.P.ge():\'\'}}}E aR(){!2a?o.P.aR():\'\';if(cq>-1){if(46()>cq){3L();cq=-1}}}E hc(){!2a?o.P.hc():\'\'}E hf(){!2a?o.P.hf():\'\'}E ch(){if(2a){mZ()}F{o.P.ch();sY();if(4G&&8F>0){8F=0;1n("VD up");1C.Ki();fn();o.S.2x()}if(L(v.8X)){2z()}na?KM():\'\';1w(Jm,3Z)}}E K0(){if(17.C.1b=="-VE"||17.nA<-2h){c9()}}E Jm(){if(17){if(17.ce&&o.7p.Q==0&&v.VF!=0){B at=17.ce;U(i=0;i<at.Q;i++){B x=o.P.rR((at[i].8i?at[i].8i+\' (\':\'\')+at[i].If+(at[i].8i?\')\':\'\'),i);if(x==v.aZ){o.6S=o.a1=i}o.7p[i]=x}o.S.mk(o.a1)}}if(o.a1>0){fS(o.a1,1)}};G.8X=E(){J(17.n4/17.fo)};E mZ(){if(17.fo>0){O(1K,{"1c":1K.28/(17.n4/17.fo)-2J(v.2a.2Q)})}F{if(xI<20){1w(mZ,100);xI++}}}E sY(){if(v.ma==1){3K(o.y8);o.y8=7O(yc,100);yc()}}E yc(){if(17){if(17.fo>0){o.V.Id(17.n4/17.fo);3K(o.y8)}}}E a7(){!2a&&!8P?o.P.a7():\'\'}E ek(){!2a?o.P.ek():\'\'}E 8W(){if(4G&&8F>0){}F{!2a?o.P.8W():\'\'}}E Ib(){o.V.xY()}E xU(){B nG=1z.Ia=1z.Ia||1z.VG;B hr=1z.IE=1z.IE||1z.VH;B nH=nG&&1D nG.nH===\'E\'&&nG.nH(IJ);B II=!hr||hr.rr&&1D hr.rr.VI===\'E\'&&1D hr.rr.5C===\'E\';J nH&&II}B rd="<7u C=\'1A:0.5\'>";E IH(){if(!2a&&v.8M==1){B x=1C.9V;B q=-1;o.2y=[];if(x.Q>1){if(v.4F==\'5W\'){q=x.Q-1}U(B i=0;i<x.Q;i++){if(L(x[i].1c)){B y=o.P.JL(x[i],v.JX);if(o.2y.I(y)>-1||v.VJ==1){if(L(x[i].9K)){B yi=o.2y.I(y);yi>-1?o.2y[yi]+=" "+rd+" &fj;"+2J(x[yi].9K/2h)+\' \'+2I(\'hv\')+\'</7u>\':\'\';o.2y[i]=y+" "+rd+" &fj;"+2J(x[i].9K/2h)+\' \'+2I(\'hv\')+\'</7u>\'}}F{o.2y[i]=y}if(L(x[i].KP)){o.9U[i]=x[i].KP[0]}}F if(L(x[i].6J)){o.2y[i]=x[i].6J}F{o.2y[i]=i}if(L(v.4F)&&q==-1){if(v.4F==o.2y[i]){q=i}}if(L(o.4F)){if(o.4F==o.2y[i]){q=i}}}if(v.af==1){o.2y[x.Q]=2I("2A")}F{q==-1?q=x.Q-1:\'\'}if(v.KT==1||q>-1){if(v.gk=="5B"||(!o.1v&&v.4C==0)){1C.sD=q}F{if(v.gk=="d9"){1C.gl=q}}o.3h=q}F{if(v.af==1){o.3h=1C.9V.Q-1}F{o.3h=1C.VK}}if(v.KR>0){1C.ov=x.Q-v.KR*1-1}ox()}if(1C.9V[o.3h]){o.9K=2m(1C.9V[o.3h].9K,0)}o.S?o.S.4w():\'\'}}E ox(){if(v.cW==1){rZ();qE()}}E rZ(){if(!2a&&v.cW==1){B x=1C.ce;o.7p=[];B 2G;B 1R=-1;if(x.Q>1){U(B i=0;i<x.Q;i++){2G=K;if(L(x[i].fT)&&o.9U.Q>0){if(x[i].fT!=o.9U[o.3h]){U(B j=0;j<o.9U.Q;j++){if(o.9U[j]==x[i].fT){2G=H}}}}if(!2G){o.7p[i]=(L(x[i].6J)?o.P.rR(x[i].6J,i):i)+(v.VB==1&&L(x[i].9O)?\' (\'+x[i].9O+\')\':\'\');if(L(v.aZ)){if(v.aZ==o.7p[i]){1R=i}}}}}}if(1R>-1){o.6S=1R;1C.oD=1R}}E qE(){if(!2a){B x=1C.ce;B y=1C.oD;if(y>-1){if(L(x[y].fT)){if(o.9U.Q>0){if(o.9U[o.3h]!=x[y].fT){U(B i=0;i<x.Q;i++){if(x[i].6J==x[y].6J&&x[i].fT==o.9U[o.3h]){1C.oD=i;y=i;1g}}}}}o.6S=y;1n("8y Vo",o.6S);o.S.mk(o.6S)}}};G.fS=E(x,y){fS(x,y)};E fS(x,y){if(17.ce.Q>1){17.ce[x].te=H;17.ce[y==1?0:o.a1].te=K;o.a1=x;y!=1?17.cA=o.P.18():\'\'}}E 46(){if(6f){J 6q?o.3N.18():0}F{B x=17.cA;if(L(v.fE)){x=x*v.fE}J x}};E 41(){B x=17.1m;if(x==Vd){v.5u=1;x=46()+10;if(o.bX){x<o.bX?x=o.bX:\'\'}o.bX=x}if(6f&&6q){x=o.3N.1m()}if(L(v.fE)){x=x*v.fE}if(L(v.4b)){if(7n([v.4b],\'-\')){x=x+v.4b*1}F{x=v.4b}}J!nL(x)?x:0}G.2x=E(x){if(x=="a5"){a5=K}B p=H;if(4G&&!qu){if(!9P){d4(H)}1C.Ki()}if(6f&&!6q){mL(H);p=K}if(8P){if(!qK){qx()}ws.1t();p=K}K0();p?fn():\'\'};B Vn;E fn(){if(Y!="1S"&&17){B pp=17.1t();if(pp!==1E){pp.cE(E(){1n("V4");if(!o.3m){if(17.3m){1n("V5");17.3m=K}}hW=0}).2C(E(2u){B em=2u.a2;1n("V6",em);if(em.I(\'cp\')==-1&&em.I(\'V7 by\')==-1){if(v.tY==1&&L(17)&&o.1t){1n(\'V8\',o.1t);o.V.53();2R{17.1I=0}2C(e){};B tU=17.1t();if(tU){tU.cE(E(){}).2C(E(e){1n("V9",e.a2);if(o.1h.tv&&(4G||6f)){}F{o.S.3b();o.V.7z();js("Va")}})}}F{if(!o.d7){o.S.3b();o.V.7z()}}}F{if(em.I(\'dC Vb\')>0||em.I(\'JW\')>0){if(o.1t){if(hW<5){1n("V3",hW);1w(fn,Vc);hW++}F{}}}}})}}}G.mN=E(){if(o.5K||o.1V){if(o.9c){e6()}if(!o.jl&&o.1h.2e&&o.1h.3J){if(!17.3m){17.3m=H;mP=H}O(17,{"1q":"2B","1a":-4f,"1b":-4f});cq=46();if(!8P){17.1t()}if(cq==0&&o.2b>0){hR=o.2b}}}};G.c9=E(){c9()};E c9(){if(!o.jl&&(o.1h.2e||o.1h.3J)){O(17,{"1q":"mA","1a":0,"1b":0});if(L(v.8X)){2z()}if(mP){!o.3m?17.3m=K:\'\';mP=K}if(hR>0){o.2b=hR;hR=0}cq=-1}};G.3b=E(x){if(x=="a5"){a5=H}1n(\'6v\');3L()};E 3L(){if(8P){ws.3L()}F{17.3L()}};G.eE=E(){!17.6v?3b():fn()};G.3P=E(x){if(L(v.fE)){x=x*(1/v.fE)}if(6f&&6q){o.3N.3C(x)}F{if(4G){if(v.Ve==1&&x>0&&n3()&&v.af==1){fC=1C.gl;1C.JV=0}}17.cA=x}};G.53=E(){17.3m=H};G.6l=E(){17.3m=K;if(o.2o=="1C"&&o.1h.4i&&v.1V==1){if(!L(o.JR)){a5=H;1n("4i 9B");17.3L();1w(E(){17.1t();a5=K},10);o.JR=H}}};G.3U=E(x){17.1I=x};G.JP=E(){if(o.K6!=17){B cp;B 8N;if(o.mW[17]){cp=o.mW[17];8N=o.so[17]}F{1z.mV=1z.mV||1z.Vf;if(L(1z.mV)){2R{8N=1u mV();cp=8N.YP(17);o.mW[17]=cp;o.so[17]=8N}2C(e){1n(e)}}}if(8N){B hC=8N.Vh();hC.hC.5H=v.pX;cp.Kp(hC);hC.Kp(8N.Vi);o.t9=H;o.K6=17}}};G.mY=E(){J!17.6v};G.5Q=E(){J v.5u==1||8P?H:o.5u};G.aj=E(){J 17};G.yP=E(){3V(17,{\'S\':\'1\'});J H};G.4C=E(){3V(17,{\'4C\':\'7J\'});if(4G&&!9P){d4(K)}if(6f&&!6q){mL(K)}};G.7e=E(){B 6V="8a";if(17.6v){6V="6v"}if(17.7l){6V="7l"}J 6V};G.sX=E(x,y){2a=x;y.1U(17);1K=y;if(x){if(v.2a.fw!=1){17.3m=H}F{if(!o.3m){17.3m=K}}mZ();if(o.2y.Q>0&&v.af==1){if(4G){hD=o.3h;1C.ov=0;1C.gl=0}}}F{if(!o.3m&&v.2a.fw!=1){17.3m=K}17.1I=2g(v.2a.1I)?v.2a.1I:v.1I;sY();if(o.2y.Q>0&&v.af==1){if(4G){1C.ov=-1;if(hD>-1){hD<1C.9V.Q?1C.sD=hD:\'\'}}}}};G.18=E(){J 46()};G.1m=E(){J 41()};G.ag=E(){B x=0;if(17.8p){if(17.8p.Q>0){B y=46();U(B i=0;i<17.8p.Q;i++){if((y>=17.8p.1v(i)||y>=17.8p.1v(i)-100)&&y<=17.8p.4b(i)){x=17.8p.4b(i)}}x==0?x=17.8p.4b(17.8p.Q-1):\'\'}}if(L(v.4b)){B ed=v.4b;if(7n([ed],\'-\')){ed=41()}x>ed?x=ed:\'\'}J x};G.2A=E(){J n3()};E n3(){B x=K;if(4G){if(9P){x=1C.Vj}}F if(6f){if(6q){x=o.3N.2A()}}J x}G.3F=E(){J{"Z":17.n4,"1c":17.fo}};G.3v=E(x){if(x){1n("3v");x=x.1O(/\\(5I\\)/g,2F.5I());x=gd(x);Y=x;o.9n!=2?o.9n=K:\'\';if(6f){if(6q){o.3N.cp(x)}}F if(4G){4G&&1C?1C.9Q():\'\';d4(o.1v||o.3j);tk()}F{3V(17,{\'3v\':x,\'3j\':0});tc();3L()}}};E gd(x){if(x){B y=x.I(\':Vk:\');if(y>0){o.gd=x.1i(y+6);x=x.1i(0,y)}}J x}E tc(){if(o.1h.6K&&17){B y=17.cg;if(y){U(B i=0;i<y.Q;i++){y[i].gf="Vl"}}y=17.ce;if(y){U(i=0;i<y.Q;i++){y[i].te=(i==0?1:0)}}}tk();if(v.sW==1){1D KZ!=="1E"?KZ(Y,17,1K):\'\'}}E L2(){if(o.2o=="1C"&&4G){}F{if(1z.Vm){na=H;KO()}}}E KM(){na=K}E KO(e){o.5e=H;1n("5e",o.5e);!2a?o.V.i2():\'\'}G.5e=E(){17.V2()};G.9b=E(){e6()};E tk(){if(o.1h.3J){if(L(17.Ue)&&!o.1h.7t){o.9b=H}if(1T.Tt&&!17.Ud){o.9b=H}}}E e6(){if(o.1h.6K){if(17.T6==="nd-in-nd"){17.Is("cU");o.9c=K}F{17.Is("nd-in-nd");o.9c=H}}F{if(!1T.T7){2f(\'17.T8().cE(p => {o.9c = H;}).2C(2u => {o.9c = K;});\')}F{2f(\'1T.T9().cE(ok =>{o.9c = K;}).2C(2u => {});\')}}};E ug(){o.9c=H};E tF(){o.9c=K};E tH(e){if(1D ID!=="1E"){!o.ng?o.ng=1u ID():\'\';o.ng.Go(17,e)}}G.IK=E(x){if(6q){o.3N.sF(x)}};G.IL=E(x){if(6q){if(17.8p.Q>0){o.3N.Ta(x)}}};G.Tb=E(x){if(o.ws){o.ws.IO(ws,x,-1)}};G.Tc=E(x){if(o.ws){o.ws.IO(ws,-1,x)}};G.IP=E(x){ot=x*1;sr(x)};E sr(x){if(9P){B y=2J(x);if(y>=1C.9V.Q){if(v.af==1){y=-1;1C.ov=-1}F{y=1C.9V.Q-1}}if(v.gk=="d9"){1w(8W,3Z);1C.gl=y}if(v.gk=="5B"){1n("8y 5B Td "+y);1C.sD=y}if(y==-1){o.3h=1C.ow}ox()}};G.oy=E(){J 1C};G.oz=E(){J 6q?o.3N.Te():K};G.9T=E(){J 9T()};E 9T(){B x=0;if(9P){if(1C.9V){x=1C.9V.Q}}J x}G.cj=E(){J cj()};G.gj=E(){gj()};E gj(){if(17){if(v.oB==1||v.6c==1){if(v.T5==1||v.6c==1){O(17,{\'3D-kP\':\'6c\'})}F{O(17,{\'3D-kP\':\'rz\'})}}F{O(17,{\'3D-kP\':\'rY\'})}}}G.4N=E(){2z()};E 2z(){if(v.8X){3r(\'1M\',6R(v.8X).1O(\'/\',\':\'))}}E cj(){B x=0;if(6q){x=o.3N.9V()}J x}G.I4=E(x){if(9P){1C.oD=2J(x)}};G.gh=E(x,y){if(y=="1C"&&9P&&sQ){sQ.Tf(x)}if(y=="Js"&&9P){if(a0[x]&&o.3z){U(B i=0;i<a0[x].Q;i++){o.3z.sV(a0[x][i])}}1w(E(){1C.Jv=x*1},3Z)}if(y=="3N"&&6q){o.3N.Th(x)}};G.gg=E(x){if(x){17.Ti=x}};G.un=E(){B x=17.Tj;B y=[];U(B i=0;i<x.Q;i++){if(x[i].oR.oQ()==\'a6\'){x[i].6x("dC",ux);y.2K(x[i])}}U(B i=0;i<y.Q;i++){17.3o(y[i])}U(B i=0;i<17.cg.Q;i++){17.cg[i].gf=\'3d\'}o.ur=K};G.JA=E(x,y,z){if(x!=\'\'){if(x.I(\' or \')>0){B xx=x.2k(\' or \');x=xx[0]}B a6=1T.1Y(\'a6\');a6.7f(\'3v\',x);a6.7f(\'8i\',y);a6.7f(\'Tk\',\'ut\');a6.7f(\'gf\',\'JH\');if(z){a6.7f(\'6X\',\'\')}17.1U(a6);a6.1y("dC",ux)}};E ux(e){if(e.4k.8i&&o.3z){U(B i=0;i<o.2V.Q;i++){if(o.2V[i]==e.4k.8i){o.3z.9l(i)}}}};G.hX=E(){J 2u?2u:\'\'};G.4s=E(){3K(o.Tl);4G&&1C?1C.9Q():\'\';6f&&6q?o.3N.Tn():\'\';8P&&ws?ws.2G():\'\';17.6x(\'2u\',uH);17.6x(\'7l\',8g);17.6x(\'1t\',ac);17.6x(\'3L\',ge);17.6x(\'JJ\',aR);17.6x(\'hy\',hc);17.6x(\'oN\',hf);17.6x(\'Jj\',ch);17.6x(\'IU\',ek);17.6x(\'7I\',8W);17.6x(\'IY\',a7);17.6x(\'J7\',ug);17.6x(\'J9\',tF);17.6x(\'Ja\',tH);17.3v=\'\';if(1K.oR=="Hf"){1K.tI.aL.3o(17)}F{1K.3o(17)}17=26}};B FR=E(){B b=[];B gE=[];B 5h=[];B 7I=K;B mw;B 7M=K;B 1f;B W;if(o.4B){o.4B.1k();o.4B=26}B mu;o.5S=[0.25,0.5,0.75,1,1.25,1.5,2];if(v.1f.To==1&&L(v.1f.hm)){v.1f.hm=v.1f.hm.1O(/\\n/ig,\'\');o.5S=v.1f.hm.2k(",")}o.er=7n(o.5S,1,H);o.a4==3?o.a4=o.er:\'\';U(B i in o.5L){if(o.5L.2r(i)){!L(v.1f[i])?v.1f[i]=5:\'\';o[\'6w\'+i]=[\'+ \'+v.1f[i]+\'%\',\'&Tp; \'+v.1f[i]+\'%\',(o.5L[i]*100+\'%\')]}}if(v.1p.dP==1&&o.1h.4i&&v.fU==1){v.1p.1k=0}B kY=K;B 91=0;B lc=0;B fZ=K;B tO=H;B ji;B bg=1u vo();B 1f;B 4Z=[];B tD=K;B tQ=K;B hw=0;B cn=[];if(v.fI.1q=="S-2t"){v.fI.1q="S"}U(B y in v){if(v.2r(y)){if(y.I("bz")==0&&v[y]){!L(v[y].tP)?v[y].tP=v[y].4Z:v[y].4Z=v[y].tP;if(4Z[v[y].4Z]){v[y].4Z+=v[y].4Z}4Z[v[y].4Z]=y;if(v.fI.1q!="S"){if(v[y].1q=="S-2t"){cn.2K([y,v[y].4Z]);tD=H}F{if(v[y].1q=="S"||v[y].1q==1E){tD?tQ=H:\'\'}}}hw<v[y].4Z?hw=v[y].4Z:\'\'}}}if(tQ){cn.Jf(E(a,b){J a[1]-b[1]});U(B i=0;i<cn.Q;i++){4Z[v[cn[i][0]].4Z]=26;v[cn[i][0]].4Z=hw+1;hw++;4Z[v[cn[i][0]].4Z]=cn[i][0]}}o.bC=v.1p.1k==1&&v.1p.DN==1;if(o.bC){o.1p=1Y("2c");o.1Q.1U(o.1p);O(o.1p,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'Z\':\'100%\',\'1c\':\'100%\',\'5q\':\'1b 0.3s 6z-5k\',\'4D-3i\':\'1S\'})}B 7q=1Y("2c");if(o.bC){o.1p.1U(7q)}F{o.1Q.1U(7q)}B aS;if(v.1p.Tq==1){aS=1u vo(H)}O(7q,{\'1q\':\'2B\',\'1a\':0,\'2N\':0,\'Z\':\'100%\',\'1c\':v.1p.h});7q.eU=E(){!o.1h.2e?o.V.IF():\'\'};if(v.w5==1){3g(bg.c());3g(7q)}U(B i=1;i<4Z.Q;i++){if(4Z[i]){B y=4Z[i];if(y){B 1d=v[y].1d;B Tg=v[y].1k;if(o.1h.2e){if(1d=="1I"&&v[y].7Q=="5c"){}F{if(1d=="1I"&&v.T3==1&&o.1h.2e){v[y].hP=0}F{if(1d=="1I"||(1d=="1Z"&&v.SS)){v[y].on=0}}}if(1d=="aK"){v[y].T2==1?v[y].on=0:\'\'}}F{if(1d=="aK"){v[y].SJ==1?v[y].on=0:\'\'}}if(v[y].1k==1){if(v[y].KL==1&&L(v[y].lk)){2H[v[y].lk]?v[y].on=0:\'\'}if(v[y].KJ==1&&L(v[y].l9)){!2H[v[y].l9]?v[y].on=0:\'\'}}if(v.w5==1){v[y].on=0}if(v[y].on==1){if(1d=="2E"||1d=="1I"){b[y]=1u DK(y,1d);b[y].2z(b[y].s("w"))}F{b[y]=1u JZ(y)}gE.2K(y);if(b[y].g("1d")=="1N"){if(b[y].s("1B")==\'\'){if(b[y].s("B")!=\'\'){if(!L(v[b[y].s("B")])){b[y].1R("2i",K)}}F{b[y].1R("2i",K)}}}if(b[y].g("1d")=="3G"){B lu=b[y].s("2Z");if(lu){if(lu.I("2T:")==0&&lu.I(",0/1")>0){B z=lu.2k(",");3r(z[0].1i(4))==0?b[y].cF(0):\'\'}if(7n([lu],"3a")){o.fB=H}}}b[y].1R("1M",b[y].s("1M"))}}}}if(L(v.1f)){if(1D(9g)==\'E\'){1f=1u 9g("1f");v.1f.6P==1?1f.1o():1f.1k()}F{o.SK=H}}if(L(v.W)){if(1D(9g)==\'E\'){W=1u 9g("W");if(L(o.W)){W.xa(o.W);if(v.W.qj==0||!L(v.W.qj)){v.W.6P==0?W.1k():\'\'}F{W.1o()}if(v.W.Jy==1){W.1o()}}F{W.1k(1)}i5()}}nV();rF();2z(H);4q();vG();tO=K;E JB(R){B x=0;B SL=K;if(R){if(R.g("1d")==\'2E\'){x=5h.1a+R.s("4A")+R.g("Z")/2;if(5h.fY!=26){}F{5h.fY=[]}}F{if(5h.fY!=26){B cv=R.g("Z")+R.s("4P")+R.s("4A");if(gt(R)){cv=0}if(R.s("3d")==1&&!R.g("1o")){cv=0}if(R.s("aD")>0){cv=0}x=bg.g("w")-v.1p.iU*1-cv+R.g("Z")/2+R.s("4A");B i=0;5h.2t-=cv;U(i=0;i<5h.fY.Q;i++){B cw=b[5h.fY[i]];if(cw.s("aD")>0){O(cw.c(),{"1a":(cw.g("x0")-cv)})}F{O(cw.c(),{"1a":(cw.g("x")-cv)})}cw.1R("x0",cw.g("x"))}5h.fY.2K(R.g("19"));R.1R(\'eL\',1)}F{if(R.s("3d")==1&&!R.g("1o")&&!R.g("fg")){if(R.g("1d")=="1I"){if(R.s("1k")==1&&R.s("hP")==1&&fZ){91+=R.g("Z")+R.s("4A")+R.s("4P");fZ=K}}}F{if(R.s("aD")>0){x=5h.1a+R.s("4A")+R.s("4P")}F{B 2G=K;if(R.g("1d")=="1I"){if(R.s("1k")==1&&R.s("hP")==1&&!R.g("fg")){if(!o.eC&&!o.9w){2G=H;fZ=K}F{if(!fZ){91-=R.g("Z")+R.s("4A")+R.s("4P");fZ=H}}}}if(gt(R)){2G=H}if(!2G){5h.1a+=R.g("Z")/2+R.s("4A");x=5h.1a;5h.1a+=R.g("Z")/2+R.s("4P")}F{x=5h.1a}}}}}}J x};G.JI=E(){nV();if(W&&v.W.6P&&!o.1v){W.1o()}};G.JG=E(x){if(W){W.6d(x)}};G.HG=E(){nV()};E nV(){if(o.fB){1D JE==\'E\'?o.3a=1u JE():\'\'}}E uP(R){B Z=o.1Z&&v.1p.kR==0?o.aH:o.2W;B 1c=o.4E;B bt=0;if(R!=bg){bt=Z/2+R.s("4A")-R.s("4P")}B e2=1c/2;B qz=R.g("Z");B nW=R.g("1c");B p=R.s("1q");if(p.I("7Z")>-1){bt=o.2W/2+R.s("4A")-R.s("4P")}if(p.I("1b")==0){e2=nW/2+(R.s("JC")*o.4E/100)}if(p.I("2N")==0){e2=o.4E-(R==bg?nW:nW/2)-(R.s("JD")*o.4E/100)}if(p.I("2t")>-1){bt=o.2W-qz/2+R.s("4A")-R.s("4P")-(R.s("Jw")*o.2W/100)}if(p.I("1a")>-1){bt=qz/2+R.s("4A")-(R.s("1F")=="1B"?0:R.s("4P"))+(R.s("iC")*o.2W/100)}if(p.I("8Y")>-1){e2=-o.qp/2-(R.s("JD")*o.qp/100)+(R.s("JC")*o.qp/100);bt=(p=="8Y"?-1:1)*o.yO/2+(R.s("iC")*o.yO/100)+R.s("4A")-R.s("4P")}if(p.I("S")>-1){B cx=JB(R);bt=(bg?(bg.c()?5d(bg.c().jc):0):0)+cx;if(p=="S-2t"){bt+=91}if(v.1p.1q=="1b"){e2=v.1p.h/2-(v.dp<0?v.dp:0)}F{e2=1c-v.1p.h/2}}J{x:bt,y:e2+R.s("bi")-R.s("eP")}}E 2z(9N){B w=o.1Z&&v.1p.kR==0?o.aH:o.2W;B h=o.4E;if(v.1p.SM==1){v.1p.Jx=2g(v.1p.Jz)&&o.ak?v.1p.Jz:v.1p.qW;v.1p.iU=o.2W*v.1p.Jx/100}F{v.1p.iU=v.1p.qW}O(bg.c(),{\'1b\':(v.1p.1q=="1b"?0:o.4E-v.1p.h)-v.dp});bg.1R("y0",(o.4E-v.1p.h-v.dp));if(v.1p.kR==0&&bg){O(bg.c(),{\'Z\':w,\'1a\':0,\'2S-1a\':0});bg.1R("w",w);if(o.1Z){O(bg.c(),{\'1a\':\'50%\',\'2S-1a\':-w/2})}}5h={"1a":v.1p.iU*1,"2t":(bg.g("w")-v.1p.iU*1)};B qD=K;if(!bg.g("1o")){bg.1R("2i",H);qD=H}B 19;U(B i=0;i<gE.Q;i++){19=gE[i];if(b[19]){B cc=uP(b[19]);if(cc){if(b[19].s("5V")=="1q"){if(L(o.7v[19])){if(b[19].g("x0")==cc.x&&b[19].g("y0")==cc.y){3p}F{o.7v[19].XY(b[19].g("x0"),cc.x,b[19].g("y0"),cc.y)}}}b[19].1R("x0",cc.x);b[19].1R("y0",cc.y);if(b[19].s("3d")==1&&!b[19].g("1o")&&!9N){xH(b[19])}F{O(b[19].c(),{"1q":"2B","1a":b[19].g("x0"),"1b":b[19].g("y0")})}}}}if(qD){bg.1R("2i",K)}91=0;U(19 in b){if(b.2r(19)){if(b[19].s("1q")=="S-2t"&&b[19].g("1d")!="2E"&&91>-1){91=5h.2t-5h.1a}if(b[19].g("1d")=="2E"&&bg){B bY;B ml=b[19].s("4A")+b[19].s("iC")*o.2W/100;B mr=b[19].s("4P")+b[19].s("Jw")*o.2W/100;if(b[19].s("SN")==1){if(b[19].s("SO")==1){bY=(o.2W*b[19].s("w")/100)-ml-mr}F{bY=b[19].s("w")}}F{if(b[19].s("1q").I("S")>-1){bY=5h.2t-5h.1a-ml-mr;O(b[19].c(),{"1a":(5d(bg.c().jc)+5h.1a+ml+bY/2)});91=-1}F{bY=bg.g("w")-ml-mr;if(bg.c()){O(b[19].c(),{"1a":(5d(bg.c().jc)+ml+bY/2)})}}}b[19].1R("x0",b[19].g("x"));b[19].2z(bY)}}}if(1f){hZ(1f)}if(W){hZ(W)}if(kY||o.1Z||lc!=91){4q()}}E xH(b){B 1a=0;B 1b=0;if(b.s("1q").I("2t")>-1&&b.s("1q").I("S")==-1){1a=o.2W+b.g("Z")+10}if(b.s("1q").I("1a")>-1){1a=-b.g("Z")-10}if(b.s("1q").I("1b")>-1){1b=-b.g("1c")*2}if(b.s("1q").I("2N")>-1||b.s("1q").I("S")>-1){1b=o.4E+b.g("1c")+b.g("Z")+10}if(1a>0){O(b.c(),{"1a":1a})}if(1b>0){O(b.c(),{"1b":1b})}}E hZ(x){B 1b=-4f;x.iX();B y=o.4E-v.1p.h*(x.s("1q").I("1b")>-1?1:2);if(x==W&&v.uM==1){y=o.4E}B mJ=(o.1h.2e&&o.4E<SP&&L(x.s("Ju"))?x.s("Ju"):x.s("qN"))*1;B jb=y-(o.1Z&&!o.1h.2e?100+mJ:mJ)-(x==W&&mJ==0?x.s("bi"):0);jb<100?jb=100:\'\';O(x.c(),{\'5W-1c\':jb});x.co()?O(x.co(),{\'5W-1c\':jb}):\'\';if(x.g("1o")){1b=o.4E/2-x.g("1c")/2+x.s("bi")-x.s("eP");if(x.s("1q").I("1b")>-1){1b=x.s("bi")-x.s("eP")}if(x.s("1q").I("2N")>-1){1b=o.4E-(v.1p.1q!=\'1b\'?v.1p.h:0)-x.g("1c")+x.s("bi")-x.s("eP")}1b<0?1b=0:\'\'}if(x.g("19")=="1f"&&o.cd){B Jt=o.2W-x.g("Z")-x.s("4P");if(o.cd>Jt){O(x.c(),{"1q":"2B","2t":x.s("4P"),"1a":"2A","1b":1b})}F{O(x.c(),{"1q":"2B","1a":o.cd,"2t":"2A","1b":(o.jt<1b?o.jt:1b)})}}F{if(x.s("1q").I("2t")>-1){O(x.c(),{"1q":"2B","2t":x.s("4P")-x.s("o5"),"1a":"2A","1b":1b})}F if(x.s("1q").I("1a")>-1){O(x.c(),{"1q":"2B","1a":x.s("4A"),"2t":"2A","1b":1b})}F{if(x.g("19")=="W"&&x.s("3A")==1){O(x.c(),{"1q":"2B","1a":o.2W/2-x.g("Z")/2+x.s("4A")/2-x.s("4P")/2,"1b":1b})}F{B l=o.2W/2-x.g("Z")/2+x.s("4A")-x.s("4P");O(x.c(),{"1q":"2B","1a":(l>0?l:0),"1b":1b})}}}x.ar()};G.fh=E(19){B R=b[19];B a=R.g("1d");if(a){B d=1u 7A();o.bq=d.9W();if(a&&a!=""){4Y(R);a=="3L"?o.Jr=1:\'\';a=="1t"?o.Jr=0:\'\'}}n9()};G.qX=E(z,x,y){U(B 19 in b){if(b.2r(19)){if(b[19].s(z)==x){b[19].1R(y?"6p":"3g")}}}};G.xZ=E(x,s){B y=6Q(s,x);J y};E 4Y(R,1F){o.d7=H;mu=R;B a=R.g("1d");if(a=="1t"){o.V.2x();if(o.3m&&v.Jq==1){o.V.6l();v.Jq=0}if(v.1L.on==1&&v.1L.2L==1&&v.1L.r4==1){7k(\'1t\',1)}js("Jo")}F{if(a=="3L"){o.o9=0;o.V.3b();if(v.1L.on==1&&v.1L.2L==1&&v.1L.r4==1){7k(\'1t\',0)}js("Jn")}if(a=="2G"){o.V.oa()}}if(a=="Jk"){o.V.3P(0,K)}if(a=="1Z"){!o.56?o.V.9M():\'\'}F{if(a=="IR"){o.V.8C()}}if(a=="2E"){B ld=o.P.1m();B lt=R.g("2p")*ld;if(v.4n>0){ld-=v.4n*1;lt=R.g("2p")*ld+v.4n*1}if(v.j9>0){if(v.j9/ld<=1-R.g("2p")){J}}js(a,lt);o.V.3P(lt,H);if(o.3p){o.3p.r5(lt,ld);o.2b>0?o.2b=1E:\'\'}js("mm",lt)}if(a=="1I"){B x=R.g("2p");x<0.SQ?x=0:\'\';x>1?x=1:\'\';if(R.s("7Q")=="5c"){x=3Y(x*o.5S.4M(-1)[0]).vC(1);o.V.9a(x,1)}F if(R.s("7Q")=="vN"){o.P.IQ(x)}F{if(o.5f&&v.uA==1){3S.9o("uk",x);if(R.g("2p")>0||o.1h.7t||v.oJ==0){3S.rK("jK")}F{3S.9o("jK",1)}}o.V.3U(x)}}if(a=="5i"){if(o.5f&&!o.1h.7t&&v.oJ==1){3S.9o("jK",1)}o.V.53();if(v.1L.2L==1&&v.1L.In==1){7k(\'5i\',0)}}F{if(a=="9B"){if(o.5f){3S.rK("jK")}o.V.6l();if(v.1L.2L==1&&v.1L.In==1){7k(\'5i\',1)}}}if(a.I("18")==0){R.SI()?R.iZ():R.On()}if(a=="pc"){o.P.rj()}if(a=="1M+"){o.P.dZ(0.1)}if(a=="1M-"){o.P.dZ(-0.1)}if(a=="1M"){o.P.dZ(0)}if(a=="5u"){3r("sg");R.1R("q7",1);R.1R("eJ",1)}if(a=="3a"){js("3a");rG()}if(a=="1f"){o.cd=1E;if(1f){if(!1f.g("1o")){1f.1o()}F{1f.1k()}}}if(a=="W"){if(o.fH==a){J}o.S.i7()}if(a=="5B"){o.S.bh()}if(a=="e9"){o.S.ey()}if(a=="3G"){if(R.s("ez")==1&&R.s("2Z")!=""){B x=4d(R.s("2Z"));if(o.fH==a+x){J}if(x.I(\'{18}\')>-1){x=x.1O(\'{18}\',(L(o.3p)?o.3p.aM().t:o.P.18()))}if(x.I(\'{3e}\')>-1){x=x.1O(\'{3e}\',o.P.cm())}if(x.I(\'{1N}\')>-1){x=x.1O(\'{1N}\',v.1N.1O(/,/ig," "))}if(x=="5e"){o.P.h5()}if(x=="gS"){o.al?o.al.6d():\'\'}if(x.I(\'7d\')==0){if(R.s("7d")>0){o.V.3P(o.cN?o.cN.SR():R.s("7d"))}}if(x.I(\'ST\')==0){if(o.cN){o.cN.SU()}}if(x=="SV"){o.V.3P(R.s("iC")*o.P.1m()/100);!o.1t?o.V.2x():\'\'}R.s("Il")==1?o.V.3b():\'\';B y=x.2k(",");if(x.I("2T:")==0){B z=x.1i(4).2k(";");U(B i=0;i<z.Q;i++){y=z[i].2k(",");if(y.Q>1){if(y[0]==\'3C\'){if(v.1L.2L==1&&v.1L.SW==1){7k(\'3C\',y[1]>0?1:0)}}3r(y[0],y[1],R);js("mm",y[1]);y[1]==\'0/1\'||y[1]==\'1/0\'?yb():\'\'}F{if(y[0]=="Ik"){B ss=3r(y[0]);if(ss){if(ss.I("22")>-1){if(v.SX==1){B 3E=1T.1Y(\'3E\');3E.7f(\'3v\',ss);O(3E,{1q:"rT",2t:(L(v.oe)?v.oe:20),2N:(L(v.oe)?v.oe:20),Z:0,5q:"Z 0.5s bP-SY(.75,-0.5,0,1.75)"});3E.C.4T=Ij;1T.aL.1U(3E);1w(E(){O(3E,{Z:(L(v.Ii)?v.Ii:4z)})},1);3E.eU=E(){G.4c.3o(G)}}if(v.SZ==1){B a=1Y("a");a.9f=ss;a.6O=y[0]+".iD";a.2p()}}}F{1n(y[0]+" 2u")}}F{3r(y[0])}}}}F{if(x.I("js:")==0){if(x.I("(")>0&&x.I(")")>0){2f(x.1i(3))}F{2f(y[0].1i(3)+\'(\'+(L(y[1])?\'"\'+y[1]+\'"\':\'\')+(L(y[2])?\',"\'+y[2]+\'"\':\'\')+\')\')}}if(x.I("1e:")==0){s6(x.1i(6),o.P.18())}if(x.I("3a:")==0&&o.3a){o.3a.2T(x.1i(6))}if(x.I("s7:")==0&&o.51){3r("s7",x.1i(7))}if(x.I("3R")==0||x.I("/")==0||x.I("?")==0||x.I("Y:")==0){x.I("Y:")==0?x=x.1i(4):\'\';1z.6d(x,R.s("Ih"))}if(x.I("6O")==0){o.V.iV()}if(x=="2T:9b"){o.P.e6()}}if(x.I("1f#")>-1){if(1f){B si=x.1i(9).2k(",");if(1f.g("1o")&&1f.g("6d")==si[0]){o.cd=1E;o.jt=1E;1f.1k()}F{o.cd=R.g("x")-R.g("Z")/2;o.jt=R.g("y")+R.g("h");U(B i=0;i<si.Q;i++){i==0?1f.1o():\'\';1f.6d(si[i])}W?W.Ie():\'\'}}}if(x.I("1f:")>-1&&v.1f.T0==1){if(!o.4B){o.4B=1u T1()}if(v.1f.fK==1){if(1F=="6r"){o.4B.1o(x)}F{o.4B.f3(x)}}F{if(!1F){o.4B.f3(x)}}}if(x=="F2"){o.V.gc();o.wn=0;R.1R("3g");B bl=6Q("2Z","4x");if(bl){bl.1R("3g")}}if(x=="4x"){R.62("OK");R.s("ib")?1z.8v.9f=4d(R.s("ib")):\'\'}}}};G.1N=E(t){B y=K;U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1N"){if(b[x].s("B")==t||t=="1N"){if(b[x].s("1k")==1&&b[x].s("x9")==1&&o.1t){y=H}if(v[t]==\'\'||y){b[x].1R("2i",K)}F{b[x].1R("2i",H)}b[x].62(v[t])}}}}sd()};G.I8=E(){sd()};G.sc=E(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="3G"){if(b[x].s("1F")=="1B"){b[x].9v()}}}}};E sd(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="3G"){if(b[x].s("1F")=="1B"){b[x].Fl(H)}}}}}E rG(){if(L(o.3a)){o.3a.nQ()}}G.I7=E(){rG()};G.GH=E(){if(v.1N!=\'\'){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1N"){B y=K;if(!b[x].g("1o")){y=H;b[x].1R("2i",H)}b[x].62(v.1N);if(y){b[x].1R("2i",K)}}}}}};G.rn=E(){rF()};E rF(){if(v.96){if(1D(v.96)=="3D"){U(B x in v.96){if(v.96.2r(x)){iS(x,v.96[x])}}}}};G.I6=E(y,z){iS(y,z)};G.r7=E(x){if(b[x]){b[x].sP()}};G.I5=E(){U(B x in b){if(b.2r(x)){if(b[x].g("xJ")){b[x].sP()}}}};E iS(y,z){if(y){U(B x in b){if(b.2r(x)){if(b[x].g("xJ")){if(b[x].s("4J")==y){if((!b[x].g("1o")||b[x].s("3d")==1)&&!gt(b[x])){b[x].1R("FB");b[x].1R("2i",H)}b[x].iS(z)}}}}}};G.4N=E(){2z()};G.I2=E(){2z(H)};G.mK=E(){hZ(1f)};G.iX=E(){hZ(W)};G.2x=E(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1t"){b[x].On()}if(b[x].s("pp")==1){b[x].r9(1)}}}o.c8?o.c8.1k():\'\';rh();o.1t=H;4q()};G.3b=E(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="3L"||b[x].g("1d")=="2G"){b[x].iZ()}if(b[x].s("pp")==1){b[x].r9(0)}}}if(W){if(!o.dQ&&v.W.EG==1&&!W.4I()){W.1o()}}o.1t=K;G.8E();4q();if(v.1p.1k==1&&v.1p.fO==1){gF(H)}if(o.P.18()>0){B y=6Q("1d","5u");if(y){y.1R("q7",0.5);y.1R("eJ",0)}}};G.53=E(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="5i"){b[x].On()}G.3U(0)}}4q()};G.6l=E(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="9B"){b[x].iZ()}}}if(v.1I<0.1){v.1I=0.5;o.V.3U(v.1I)}F{G.3U(v.1I)}4q()};G.3U=E(1I,y){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1I"){if(!b[x].s("7Q")||b[x].s("7Q")=="1I"){b[x].6s(1I,1,(y=="no"?y:H))}}if(b[x].g("1d")=="5i"){b[x].qS(1I)}}}4q()};G.9M=E(){B bl=6Q("1d","1Z");if(bl){bl.On();bl.1R("1M",bl.s("1M"))}4q();kY?1w(4q,3Z):\'\';if(o.1Z&&o.HX){if(o.1h.jf||o.1h.tv){1w(2z,10)}}gG();rf()};G.8C=E(){B bl=6Q("1d","1Z");if(bl){bl.iZ()}2z();3K(o.iH);4q();rf()};E rf(){if(o.cd){o.cd=1E;o.jt=1E;1f.1k()}}G.8g=E(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1t"){b[x].tS()}}}};G.qA=E(){4q()};G.G5=E(){rh()};E rh(){if(W){if(W.g("1o")&&v.W.ea==1){o.S.h7()}}}E 4q(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")!="aK"){bL(b[x])}}}bL(bg);if(lc!=91){lc=91;2z()}if(o.bC){fN(!o.gn&&!o.4v&&!o.1Z&&o.1t&&v.1p.dP!=1&&!o.56)}};E iG(){B 1o=7M&&v.1p.ir==1;if(v.1p.1k==1){if(!o.1t&&v.1p.fO==1){1o=K}}if(1o){U(B x in b){if(b.2r(x)){if(b[x].g("1d")!="aK"){bL(b[x],K)}}}O(o.1Q,{"6M":"6X"});o.jA=H;bL(bg,K);if(bg.g("1o")){ip()}fN(K)}}E gF(){B 1k=o.1t&&v.1p.ir==1&&!o.3y;if(o.dF&&v.1p.Tr==1){1k=K}if(!o.1t&&v.1p.1k==1&&v.1p.fO==1){if(o.4v&&v.1p.Io==1&&!o.1h.2e){}F{1k=H}}B l2;if(W){if(W.g("6d?")){l2=H}}if(1f){if(1f.g("1o")){l2=H}if(1f.g("1o")&&o.l4){1k=K}}if(l2&&v.1p.T4==1){B m=v.1p.Ts;if(m==1&&o.1h.2e){J}F{if(m==0||!L(m)){J}}}if(o.56){1k=K}if(1k){U(B x in b){if(b.2r(x)){if(b[x].g("1d")!="aK"){bL(b[x],H)}}}bL(bg,H);if(!bg.g("1o")){7M=H;o.P.uR();if(o.1t){O(o.1Q,{"6M":"1S"});o.jA=K}}fN(H)}}E gG(){if(v.1p.ir==1){if(v.1p.dP==1&&!o.1Z&&!o.aF){}F{3K(o.iH);o.iH=7O(gF,((v.1p.7B>0?v.1p.7B:v.1p.jB)*2h))}}}E bL(R,cY){B 1k=K;B 1o=K;B d2=K;if(v.1p.1k==1){if((!o.gn&&!o.4v&&!o.1Z&&o.1t&&v.1p.dP!=1&&!o.56)||(o.1Z&&7M&&!o.jA)||(o.V.go()&&o.7l&&!o.4v)){1k=H;1o=K;d2=H}F{1k=K;1o=H}if(L(cY)&&!o.56){1k=cY;1o=!1k}if(o.bC&&(R.s("1q").I("S")==0||R.s("1d")=="2E")){1k=K;1o=H}if(v.1p.fO==1&&!o.1t){if(o.4v&&v.1p.Io==1&&!o.1h.2e){}F{1k=H;1o=K;d2=K}}if(v.1p.TQ==1&&!o.7J&&o.1t){1k=K;1o=H}}F{if(R.s("1k")!=1){1o=H}}if(1o&&!o.jA){O(o.1Q,{"6M":"6X"});o.jA=H}B a=R.g("1d");if(a=="3G"&&R.s("1q").I("S")==-1){1k=K;1o=H}if(o.56){if(a=="2E"){if(o.P.1m()==-1){1k=H;1o=K}}}B rE=K;B hp=gt(R);if(R.s("1k")==1){if(R.s("EL")==1){if(d2||cY||(o.1t&&!o.4v)){!d2&&!cY?\'\':hp=H}}if(R.s("TS")==1){if(!d2&&!cY){hp=H}}if(R.s("TT")==1){if(o.1t&&!o.4v){hp=H}}if(R.s("Iu")==1||R.s("Iw")==1||R.s("Kx")==1){kY=H}}if(hp){1k=H;1o=K}F{!1k?1o=H:\'\'}if(R.s("1d")=="1I"){if(R.s("1k")==1&&R.s("hP")==1&&!R.g("fg")){1k=H;1o=K;if(!d2&&(o.9w||o.eC)&&!cY&&R.s("e8")!=1){1k=K;1o=H}F{rE=H}}}if(o.9i||(!o.1v&&v.1p.1k==1&&v.1p.lF==1)||(!o.7J&&v.1p.1k==1&&v.1p.KE==1)||(!o.1Z&&v.1p.1k==1&&v.1p.TU==1)){if((o.9i&&R.g("19")=="qa")||R.s("1q").I("S")>-1||R.s("1q").I("2N")>-1){1k=H;1o=K}if(v.1p.dP==1&&!o.1Z){1k=K;1o=H}}if(1f){if(1f.g("1o")&&v.1f.6P!=1){d2=K;cY=K}}if(W&&o.2M){if(v.W.TW==1){if(o.2M.rB()){J}}}if(a=="3a"){if(L(o.3a)){if(o.3a.4I()){1k=H;1o=K;R.1R("5V","1S")}}}if(a=="W"||a=="5B"||a=="e9"||R.s("Ir")==1){if(W){if(W.4I()&&R.s("Ir")!=0){1k=H;1o=K;R.1R("5V","1S")}}F{1k=H;1o=K}}if(o.TX==1){1k=H;1o=K}if(rE){B cc=uP(R);if(cc){cc.y>0?R.1R("y0",cc.y):\'\';O(R.c(),{"1q":"2B","1b":R.g("y0")})}}if(1k){8h(R,(tO?H:K))}if(1o){KQ(R)}if(R==bg){if(!1k&&1o){ip();6p(7q);aS?aS.1R("1A",aS.s("a")):\'\';7M=K;ji==0?js("ui",1):\'\';ji=1;o.6k&&o.9H?o.6k.1o():\'\'}if(1k&&!1o&&!o.56){o.P.uR();bm();3g(7q);aS?aS.1R("1A",0):\'\';7M=H;ji==1?js("ui",0):\'\';ji=0;o.6k&&o.9H?o.6k.1k():\'\'}if(1f){if(1f.tb()){if(!1f.g("1o")){1o&&!1k?1f.1o():\'\'}F{!1o&&1k?1f.1k(2):\'\'}}}if(W){if(v.W.6P==1&&!W.4I()){if(1o||o.9i){if(v.W.Iz==1&&o.1Z){}F{if(!W.g("1o")){if(v.W.Iy==1){!o.1t&&!o.dQ?W.1o():\'\'}F{W.1o()}}}}F{if(1k&&W.g("1o")){W.1k()}}}}}};E gt(R){B x=K;B a=R.g("1d");if(R.s("1k")==1){if(R.s("x9")==1){o.1t||o.dQ?x=H:\'\'}if(R.s("fO")==1){!o.1t&&!o.dQ?x=H:\'\'}if(R.s("TY")==1){o.7l?x=H:\'\'}if(R.s("eK")==1){x=H}F{if(R.s("TZ")==1){if(o.1h.g1){R.1R("eK",1);x=H}}if(R.s("U0")==1){if(o.1h.2e){R.1R("eK",1);x=H}}}if(R.s("Iw")==1){if(o.2W>R.s("Iv")){R.1R("e8",1);x=H}F{R.1R("e8",0)}}if(R.s("U1")==1&&!7I){x=H;o.lW=1}if(R.s("TR")==1&&!o.9n){x=H}if(R.s("U2")==1&&o.9n){x=H}if(R.s("U4")==1&&7I){x=H;o.lW=1}if(R.s("Iu")==1){if(o.2W<=R.s("It")){R.1R("e8",1);x=H}F{R.1R("e8",0)}}if(R.s("U5")==1){o.1v?x=H:\'\'}B t=o.P.18();B d=o.P.1m();if(R.s("F3")==1&&R.s("JK")>0){if(t>=R.s("JK")){x=H}}if(R.s("EX")==1&&R.s("IS")>0){if(t<R.s("IS")){x=H}}if(R.s("EN")==1&&R.s("JM")>0){if(t<d-R.s("JM")||d==0){x=H}}if(R.s("U6")==1){if(W){if(!W.bE()){x=H}}}if(R.s("U7")==1){if(o.1v||!o.3p||o.P.5Q()){if(R.s("lF")!=1){x=H}}if(o.3p){if(o.3p.aM().t==0){x=H}}}if(R.s("lF")==1){!o.1v?x=H:\'\'}if(R.s("p7")>0){x=H}if(R.s("KL")==1){if(L(R.s("lk"))){2H[R.s("lk")]?x=H:\'\'}}if(R.s("U8")==1){if(!L(R.s("96"))){x=H}}if(R.s("KJ")==1){if(L(R.s("l9"))){!2H[R.s("l9")]?x=H:\'\'}}if(R.s("U9")==1&&o.1h.4i){!o.1v||o.lj?x=H:\'\'}if(R.s("Ua")==1){!o.P.7l()?x=H:\'\'}if(R.s("Ub")==1){!o.P.5Q()?x=H:\'\'}if(R.s("Uc")==1){!o.4v?x=H:\'\'}if(R.s("U3")==1){!o.1Z?x=H:\'\'}if(R.s("Kx")==1){o.1Z?x=H:\'\'}if(R.s("TP")==1){!o.3m?x=H:\'\'}if(R.s("TE")==1){o.P.5Q()&&o.P.cm().I("?uq")==-1?x=H:\'\'}if(R.s("F8")==1){5T(o.29)?x=H:\'\'}if(R.s("KE")==1){!o.7J?x=H:\'\'}if(R.s("TO")==1){o.7J?x=H:\'\'}if(R.s("Tv")==1){o.lJ?x=H:\'\'}if(R.s("Tw")==1){!o.lJ?x=H:\'\'}if(R.s("Ft")==1){if(R.g("ij")){x=H}}if(R.s("Tx")==1){!o.ab?x=H:\'\'}if(R.s("Ty")==1){o.ab?x=H:\'\'}if(R.s("Tz")==1){if(v.4C==1&&v.dE==1){if(o.2o=="4S"&&!L(v.29)&&v.xo==0){if(!o.1v||o.P.7e()=="7l"){if(v.29==\'\'){}F{x=H}}}}}}if(a=="3G"){B lu=R.s("2Z");if(lu){if(lu=="2T:5e"||lu=="5e"){if(!o.5e&&!o.jl&&!o.TA){x=H}}if(lu=="2T:9b"){if(!o.9b||(!o.1v&&v.4C==0)){x=H}}if(lu=="2T:KB"){if(!o.lJ){x=H}}if(lu.I("6h")>-1){if(!o.6h){x=H}}if(7n([lu],"7d")&&!7n([lu],"js:")&&R.s("eK")!=1){B sk=K;if(L(v.7d)){if(!o.cN){1D KA==\'E\'?o.cN=1u KA():\'\'}if(o.cN){sk=o.cN.xB(R)}}!sk?x=H:\'\'}}}if(a=="W"||a=="5B"||a=="e9"){if(W){if(W.4I()){x=H}}F{x=H}}if(a=="1f"){if(1f){if(1f.4I()){x=H;o.2o!=\'1C\'?R.1R("5V","1S"):\'\'}}F{x=H}}if(R.g("1F")=="1B"){if(R.g("Q")==0){x=H}}if(R.g("1f#")){if(!R.g("1R#4h")){x=H}}if(R.s("3I")==1){B cb=1T.8z("TB"+v.id);if((o.P.1m()==0&&o.P.18()==0)||!o.4p||!5T(cb)||!o.TC){x=H}}if(R.s("ye")==1){!x?R.1R("ye",1):\'\'}if(a=="1m"){if(o.P.5Q()&&R.s("Tu")!=1){x=H}}if(R.g("19")=="qa"&&o.1h.2e){if(o.9i&&o.1h.cr){x=H}}J x}E 8h(R,yT){if(R.g("1o")){if(o.aF||R.s("5V")=="1S"||yT){R.1R("2i",K)}F{Kz(R)}R.1R("1o",K)}};E KQ(R){if(!R.g("1o")){if(R.s("5V")=="1S"||o.aF){R.1R("2i",H);if(o.aF){R.1R("1A",1)}if(R.g("1d")=="1I"){if(o.hI){xH(R)}}}F{Ky(R)}if(R.s("1d")=="1I"){o.S.3U(o.3m?0:v.1I)}if(R.s("1d")=="2E"){o.V.yj()}R.1R("1o",H)}};E Kz(R){yl(R.g("19"));B 5G="fF|";B 5l="0|";B 1k=1;B a=R.s("5V");if(R.s("KG")==1){5G=\'\';5l=\'\'}B p=R.s("1q");B iT=R.g("3n");2g(R.s("mq"))?p=R.s("mq"):\'\';gL(p,[\'2N\'])&&o.bC?p="":\'\';if(a=="1M"){5G+="1M|";5l+="0|"}if(a=="1q"){if(p.I("2t")>-1&&p.I("S")==-1){5G+="x|";5l+=5d(o.2W+R.g("Z")/2*iT)+"|"}if(p.I("1a")>-1){5G+="x|";5l+=5d(-R.g("Z")/2)*iT+"|"}if(p.I("1b")>-1){5G+="y|";5l+=(-R.g("1c")/2)*iT+"|"}if(gL(p,["2N","S","8Y"])){5G+="y|";if(R.g("1d")=="2E"||R.g("1d")=="1I"){5l+=5d(o.4E+R.s("h")+(R.s("h")<20?20-R.s("h"):0))+"|"}F{5l+=5d(o.4E+R.g("1c")/2)+"|"}}if(p=="7Z"){5G+="1M|";5l+="0|"}}B m=1u 5x({"mc":R,"me":R.g("19"),"1F":5G.1i(0,5G.Q-1),"to":5l.1i(0,5l.Q-1),"1k":1k})};E Ky(R){yl(R.g("19"));B 5G="";B 5l="";B a=R.s("5V");B p=R.s("1q");2g(R.s("mq"))?p=R.s("mq"):\'\';if(R.g("1A")!=1&&R.s("KG")!=1){5G="fF|";5l=(R.g("19")==\'bg\'?v.1p.a:"1")+"|"}if(a=="1M"){if(R.g("3n")!=R.s("1M")){5G+="1M|";5l+=R.s("1M")+"|"}}if(a=="1q"){if(p=="7Z"){if(R.g("3n")!=R.s("1M")){5G+="1M|";5l+=R.s("1M")+"|"}}F{if(p.I("S")>-1||p=="2N"){if(R.g("y")!=R.g("y0")){5G+="y|";5l+=R.g("y0")+"|"}}F{5G+="x|y|";5l+=R.g("x0")+"|"+R.g("y0")+"|"}}}if(5G!=""&&5l!=""){B m=1u 5x({mc:R,me:R.g("19"),1F:5G.1i(0,5G.Q-1),to:5l.1i(0,5l.Q-1),1o:1})}F{R.1R("2i",H)}};G.k5=E(19,1F,yT){B 4N=K;B 2G=K;B R=b[19];B 1d=R.g("1d");B 2Z=R.s("2Z");if(1F=="6r"){if(o.hI){if(1d=="1I"||1d=="5i"||1d=="9B"){if(!R.g("fg")){o.9w=H;o.eC=H;4N=H;4q();if(v.fI.KX==1){B bl=6Q("1d","2E");if(bl){3g(bl.c())}}}}}if(1f&&v.1f.fK==1&&((1d=="1f"||2Z.I("KS")==0)||2Z.I("1f:")==0)){2D(o.fJ);if(!1f.g("1o")||mu!=R){4Y(R,1F);o.fH=1d+2Z;1w(E(){o.fH=26},3Z)}}if(W&&v.W.fK==1&&1d=="W"){2D(o.yr);if(!W.g("1o")||mu!=R){4Y(R,1F);o.fH=1d;1w(E(){o.fH=26},3Z)}}}if(1F=="5k"){if(o.hI){if(1d=="1I"||1d=="5i"||1d=="9B"){o.9w=K;o.eC=H;1w(E(){if(!o.9w){o.eC=K;U(B x in b){if(b.2r(x)){if(!7M){if(b[x].g("1d")=="1I"&&!b[x].g("fg")){8h(b[x]);2z()}}if(b[x].g("1d")=="2E"){if(v.fI.KX==1){6p(b[x].c())}}}}}},3Z)}}if(1d=="2E"){o.V.6s(1)}if(v.1f.fK==1&&((1d=="1f"||2Z.I("KS")==0)||2Z.I("1f:")==0)){2D(o.fJ);o.fJ=1w(E(){if(!o.3y){bm(1)}},(v.1f.fL>0?v.1f.fL*2h:2h))}if(W&&v.W.fK==1&&1d=="W"){2D(o.yr);o.yr=1w(E(){if(!o.3y){W.g("1o")?W.1k(1):\'\'}},(v.W.fL>0?v.W.fL*2h:2h))}}if(4N){1w(2z,10)}};G.oU=E(){if(o.5j&&!o.1Z&&!o.aF){o.V.5j(K);o.5j=K}if(o.29){if(v.mz>-1&&5T(o.29)){O(o.29,{1A:v.mx})}}if(o.1t&&v.KW==1&&v.TD!=0){o.V.3b()}if(v.1p.7B>0){2D(o.KV);o.KV=1w(4q,v.1p.7B*2h)}F{4q()}};G.G8=E(){if(o.29){if(v.mz>-1&&5T(o.29)){O(o.29,{1A:v.mz})}}if(!o.1t&&v.KW==1){o.V.2x()}2z();4q();fN(K)};G.g8=E(b9,bb){B y;U(B x in b){if(b.2r(x)){y=b[x].g("1d");if(y=="2E"||y=="1I"){b[x].g8(b9,bb)}}}};G.n6=E(){if(v.1p.1k==1){if(v.1p.dP==1&&!o.1Z){J}if((!o.4v||o.1h.2e)&&o.P.7e()=="8a"){o.4v=H;4q();o.1h.2e?1w(E(){o.4v=K},3Z):\'\'}if(v.1p.ir==1){iG();gG()}fN(K)}};G.g2=E(b9,bb){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="2E"||b[x].g("1d")=="1I"){b[x].g2(b9,bb)}}}};G.jP=E(18,1m,KY){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="2E"){b[x].6s(18,1m,KY)}if(b[x].g("1d")=="18"){mb(b[x],18,1m)}if(b[x].s("ET")==1){b[x].rj()}if(b[x].s("ER")==1){b[x].Fc(18,1m)}if(b[x].s("EM")==1){if(b[x].s("2Z")=="Ey"||b[x].s("2Z")=="9K"){1D L0==\'E\'?L0(b[x]):\'\'}if(b[x].s("EK")==1&&!b[x].g("1o")&&7M){}F{if(b[x].g("1o")==gt(b[x])){4q();2z()}}}}}};E fN(x){if(v.1p.1k==1){x?bm():\'\';if(o.bC){if(!o.1t&&v.1p.fO==1){x=H}if(x&&!o.wb){O(o.1p,{"1b":bg.h()})}if(!x&&o.wb){O(o.1p,{"1b":0})}o.wb=x}}}E ip(){7M=K;o.P.ip();if(o.v5){o.v5=K;2z();1w(2z,ef)}}E mb(x,18,1m){if(v.4n>0){18-=v.4n*1;1m-=v.4n*1}B y=46(18);if(x.s("I3")=="1"){y=46(1m-18)}if(x.s("TF")=="1"){if(x.s("TG")=="1"){y=y+(1m>0?\' \'+2I(x.s("TH"))+\' \'+46(1m):\'\')}F{18==0?y=46(1m):\'\'}}x.62(y)}G.yK=E(18,1m){B x=6Q("1d","2E");if(x){x.E8(18,1m)}};G.kf=E(y){if(o.P.1m()>0){B x=6Q("1d","2E");if(x){x.kf(y)}}};G.9t=E(){if(!7I){if(v.g0==1){2D(mw);mw=1w(9t,3Z)}F{9t()}}};E 9t(){if(!7I){js("TI");7I=H;B x=6Q("1d","aK");if(x){x.F9();if(v.JS==1&&o.1t){2D(o.Kv);o.Kv=1w(JY,(v.K1>0?v.K1:1)*2h)}}o.lW?4q():\'\'}}E JY(){if(o.1t&&7I){o.V.7z()}}G.JU=E(y){U(B x in b){if(x==y){b[x].1R("3g")}}};G.8E=E(){2D(mw);if(7I){js("8p");B x=6Q("1d","aK");if(x){x.ja();if(v.JS==1&&o.1t){o.V.gs()}}7I=K;o.lW?4q():\'\'}};G.ih=E(){B x=6Q("2Z","1I 8V");if(x){x.1R("6p");x.62(2I(\'1I\')+\' \'+(o.3m?0:2F.qd(v.1I*100))+\'%\');2D(o.ih);o.ih=1w(JQ,2h)}};E JQ(){B x=6Q("2Z","1I 8V");if(x){x.62(\'\');x.1R("3g");2D(o.ih)}}G.3P=E(18,1m){if(v.4n>0){18-=v.4n*1;1m-=v.4n*1}U(B x in b){if(b.2r(x)){if(b[x].s("on")==1){if(b[x].g("1d")=="2E"){1m>0?b[x].1R("2p",18/1m):\'\';b[x].E9()}if(b[x].g("1d")=="18"){mb(b[x],18,1m)}if(b[x].g("1d")=="5u"){b[x].1R("q7",0.5);b[x].1R("eJ",0)}}}}};G.41=E(18,1m){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1m"){if(v.4n>0){1m-=v.4n*1}b[x].62(46(1m))}if(b[x].g("1d")=="2E"){b[x].6s(18,1m);b[x].Es(1m)}if(b[x].g("1d")=="18"){mb(b[x],18,1m)}}}};G.9g=E(){if(!o.4B){1f.g("1o")?1f.1k():1f.1o()}};G.bN=E(){if(1f){if(o.4B){J o.4B.5T()||1f.g("1o")}F{J 1f.g("1o")?H:K}}F{J K}};G.lM=E(x){if(1f){1f.5L(x)}};G.bm=E(){bm()};G.TJ=E(x){if(1f){1f.JO(x)}};G.FL=E(){if(1f){1f.i1()}};G.FM=E(x){if(1f){J 1f.K7(x)}};E bm(x){if(1f){1f.g("1o")?1f.1k(x):\'\'}o.4B?o.4B.1k():\'\'};G.h7=E(){if(W){if(W.g("1o")){W.1k(1)}F{W.1o()}}};G.i7=E(x){if(W){if(W.g("1o")&&x!=1){x!=2?W.1k():\'\'}F{1w(E(){W.1o()},100)}}};G.i6=E(){if(W){J W.g("1o")?H:K}F{J K}};G.K8=E(x){if(W){W.g("1o")?W.1k(x):\'\'}};G.bV=E(x){J W?W.g(x):\'\'};G.6a=E(x){if(W){W.xa(x)}};G.Ko=E(x){if(W){W.Kn(x)}};G.bh=E(){if(W){W.bh()}};G.lS=E(){if(W){W.lS()}};G.i5=E(){i5()};E i5(){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="5B"){O(b[x].c(),{"1A":(!W.bE()?0.5:1)})}if(b[x].g("1d")=="e9"){O(b[x].c(),{"1A":(!W.h0()?0.5:1)})}}}}G.bE=E(){if(W){J W.bE()}F{J K}};G.h0=E(){if(W){J W.h0()}F{J K}};G.gZ=E(){if(W){J W.gZ()}F{J K}};G.lT=E(){if(W){W.lT()}};G.ey=E(){if(W){W.ey()}};G.Km=E(x){if(x&&W){W.bF(x)}};G.Kj=E(x){if(x&&W){W.lV(x)}};G.Ka=E(x){if(x&&W){O(W.co(),{"TK":"1S","2P-2t":W.s("6Z")});1T.8z(x).1U(W.co());3g(W.c())}};G.TL=E(){};G.vS=E(x){if(1f){1f.5X();1f.g("1o")?1w(E(){1f.1k()},4z):\'\'}};G.i3=E(){if(1f){1f.5X()}if(o.4B){o.4B.dR()}};G.i2=E(x){if(1f){1f.h5()}2z();4q()};G.iv=E(x){if(1f){1f.iP(x);1f.g("1o")?1f.1k():\'\'}if(o.4B){o.4B.dR()}x=="5c"?vG():\'\'};E vG(){if(o.jL){B x=3Y(o.iI/o.5S.4M(-1)[0],1).vC(2);U(B i in b){if(b.2r(i)){if(b[i].s("7Q")=="5c"&&o.iI){b[i].6s(x,1)}if(b[i].s("2Z")=="2T:5c,1.0"){b[i].qS(x)}}}}}G.mk=E(x){if(1f){1f.iP("7F")}if(o.4B){o.4B.dR()}};G.b0=E(){if(1f){1f.9l();1f.g("1o")?1w(E(){1f.1k()},4z):\'\'}if(o.4B){o.4B.dR()}if(o.56&&o.4p){o.3I.ae()}};G.uW=E(){o.4B?o.4B.1k():\'\';if(1f){1f.uW()}};G.iQ=E(m7,2i,7K){U(B x in b){if(b.2r(x)){if(b[x].g("1d")=="1f"){if(b[x].s("eT")==1){b[x].Ew()}}if(b[x].g("FA")=="1f#"+m7){b[x].1R("1R#4h",2i);if(b[x].g("1F")=="1B"){if(7K){b[x].62(uY(7K))}}F{if(v.1f[\'1f\'+m7+\'1d\']=="1X"){if(7K==2I("7a")){b[x].cF(0)}F{b[x].cF(1)}}2z()}bL(b[x])}}}};G.Kh=E(){if(1f){1f.5X();1f.iP("7F");1f.iP("6O")}};G.jO=E(){B x=6Q("1d","2E");if(x){x.jO()}};G.4N=E(){2z();if(7M){o.v5=H}};G.r3=E(x){if(!7M||x==1){2z();4q()}F{v.1p.v6=H}};G.uS=E(){B b=6Q("1F","O");if(b){b.DY()}};G.4w=E(){4q();2z();4q();if(o.9i){3g(7q)}F{!7M?6p(7q):\'\'}};G.FT=E(1e){if(1z.eo==v.id&&v.1L.on==1){B x=1e.Kr;B y=K;if(x==1E){x=1e.Ks}if(L(o.1V)||L(o.8A)||o.wn==1){J K}if(o.1t&&v.1L.iO==1){y=H}if(((v.1L.8T==1&&x==32)||(v.1L.TM==1&&x==13)||(v.1L.k==1&&x==75))&&(o.5Y||o.4v||y)){if(v.1L.2L==1){7k(\'1t\',o.1t?0:1)}o.V.eE();1e.9z();J K}!v.1L.lI?v.1L.lI=0.2:\'\';!v.1L.1M?v.1L.1M=5:\'\';if(v.1L.Kf==1&&(o.5Y||y)){if(o.P.1m()>0){U(B i=48;i<58;i++){if(x==i){o.V.3P((o.P.1m()*(x-48)*10)/100,H)}}}}if((x==39||(v.1L.l==1&&x==76))&&(o.5Y||y)){my(v.1L.vh)}if((x==37||(v.1L.j==1&&x==74))&&(o.5Y||y)){mo(v.1L.vh)}if(x==38&&(o.5Y||y)){my(v.1L.vj)}if(x==40&&(o.5Y||y)){mo(v.1L.vj)}if(x==TN&&(o.5Y||y)){my(v.1L.Kl)}if(x==VL&&(o.5Y||y)){mo(v.1L.Kl)}}};E 6Q(y,z){U(B x in b){if(b.2r(x)){if(b[x].s(y)==z){J b[x]}}}}E my(x){if(x=="5B"){if(o.W){o.S.bh()}F{x="3C"}}if(x=="3C"){if(o.P.1m()>0){B sk=o.P.18()+3Y(v.1L.3C);if(sk<o.P.1m()){o.V.3P(sk,H);js("mm",sk)}}}if(x=="1I"){o.V.3U(3Y(v.1I)+3Y(v.1L.lI));1e.9z()}if(x=="1M"){o.P.1M(v.1L.1M/100);1e.9z()}if(v.1L.2L==1){7k(x,1)}}E mo(x){if(x=="5B"){if(o.W){o.S.ey()}F{x="3C"}}if(x=="3C"){if(o.P.1m()>0&&o.1v){B sk=o.P.18()-v.1L.3C>=0?o.P.18()-v.1L.3C:0;o.V.3P(sk,H);js("mm",sk)}}if(x=="1I"){o.V.3U(3Y(v.1I)-3Y(v.1L.lI));1e.9z()}if(x=="1M"){o.P.1M(-v.1L.1M/100);1e.9z()}if(v.1L.2L==1){7k(x,0)}};G.FV=E(1e){if(1z.eo==v.id){B x=1e.Kr;if(x==1E){x=1e.Ks}if(x==57){if(v.1n==1){}}if(o.1Z&&x==27){o.V.8C()}if(L(o.1V)||L(o.8A)){J K}if(v.1L.on==1){if(v.1L.f==1&&x==70&&v.g0!=1&&(o.5Y||o.4v)){if(v.1L.2L==1){7k(\'1Z\',o.1Z?0:1)}o.1Z?o.V.8C():o.V.9M()}if(v.1L.s==1&&x==83&&(o.5Y||o.4v)){if(o.3z){if(v.1L.2L==1){7k(\'1X\',o.4U?0:1)}3r("JN")}}if(v.1L.m==1&&x==77&&(o.5Y||o.4v)){if(v.1L.2L==1){7k(\'5i\',o.3m?1:0)}o.3m?o.V.6l():o.V.53()}}}};G.4s=E(){3K(o.iH);U(B x in o){if(x.I("X")==0&&x.I("Gg")>-1){3K(o[x])}}U(B i=0;i<gE.Q;i++){B 19=gE[i];if(b[19]){b[19].4s()}}if(1f){1f.4s()}if(W){W.4s()}bg.4s();aS?aS.4s():\'\';if(7q.4c==o.1Q){o.1Q.3o(7q)}F{o.1p?o.1p.3o(7q):\'\'}};G.iG=E(){iG()};G.gF=E(){gF();4q()};G.gG=E(){gG()};G.n7=E(){J 7M}};B JZ=E(19){B i;B C=[];B w;B h;B qV=0;B bg;B po;B 8I;B nv=0;B 4h=H;B Fr=K;B 3n=1;B 3u=1;B 2q;B ic;B 2O;B 8m;B 1d;B 9A=\'\';B x0;B y0;B on;B 6r=K;B cl=K;B iR=0;B Uf;B VM=0;B eL=0;B EI=0;B eS=0;B pT=K;B F7=K;B ij=K;B 3d=K;B im;B eT;B pN;B xN=K;C=bD(C,eV.R);C=bD(C,v[19]);B V=[C.1d];1d=V[0];L(C.K2)?V[1]=C.K2:\'\';L(C.K3)?V[1]=C.K3:\'\';L(C.1N)?C.1B=C.1N:\'\';if(2g(C.K4)){o.ak?C.1M=C.K4:\'\'}if(1d=="3a"){o.fB=H}if(L(C.2Z)){if(C.1F=="1B"&&C.2Z!=\'\'){if(L(v[C.2Z+\'1B\'])){C.1B=v[C.2Z+\'1B\']}}if(C.2Z.I("1f#")==0){9A=C.2Z;if(C.2O==\'\'&&9A.I(",")==-1){C.2O=2I(v.1f[\'1f\'+9A.1i(9)+\'1d\'])}}if(C.2Z.I("6h")>-1){v.K9=H}if(C.2Z.I("3a:")>-1){o.fB=H}if(C.2Z=="Xj"){C.XI=1u XJ(C)}}B 7h=C.2O?C.2O.2k("///"):[];if(C.HZ==1){C.1F="1B";C.1B=j0(0)+(V.Q>1?\'///\'+j0(1):\'\');if(2g(C.bu)){C.1r=C.bu}}C.it=[];C.il=[];B vW=0;B 2L=1u aq();B 1l=1u aq();B et=1u aq();B XK=1u aq();B j3=0;B b3;if(C.1F=="1B"){if(C.4J){if(L(v[C.4J+\'1B\'])){C.1B=v[C.4J+\'1B\']}}if(L(C.1B)){2L[0]=4d(C.1B);C.oZ=C.1B.Q;B wW=[\'/\',\'|\',\'-\'];wW.I(C.1B.1i(-1))>-1?C.rV=C.1B.1i(-1):\'\';wW.I(C.1B.1i(0,1))>-1?C.s0=C.1B.1i(0,1):\'\';if(1d=="18"||1d=="1m"){if(C.1B.I(\'0:\')==0){C.p4=H}if(C.1B.2k(":").Q==3){C.Fk=H}F{if(C.1B.I(\'cL:cL\')>-1){C.Fj=H}}if(C.ln==1){v.ln=1}}if(C.I3==1&&C.1B.I("-")==0){C.Fi=H}if(C.1B.I("///")>0&&(1d=="3G"||C.HZ==1)){C.fc=C.1B.2k("///");C.1B=2L[0]=C.fc[0]}}if(v.wZ==1){1w(9v,100);1w(9v,3Z);1w(9v,2h)}}F{if(L(C.1l)){2L[0]=C.1l;if(2L[0].I("///")>0&&2L[0].I("gU")==-1){2L=C.1l.2k("///")}if(L(C.pi)){2L[1]=C.pi}if(C.Fe==1){if(2g(C.FF)){2L.2K(C.FF);j3=2L.Q-1}}}}if(1d=="3G"){if(C.XL==1&&L(C.ib)){C.yL=C.2Z}}B X=1Y("2c");B sp=C.1q;if(sp.I(\'8Y\')>-1){o.8Y?o.8Y.1U(X):1w(E(){o.8Y.1U(X)},100);o.HX=H}F{if(o.bC&&((gL(sp,["2N"])&&C.XM!=1)||(gL(sp,["X"])))){o.1p.1U(X)}F{o.1Q.1U(X)}if(1d=="aK"&&C.XN==1){X.C.4T=q0}}if(C.ER==1){C.jz=1u XO(C,X)}B po=1Y("2c");X.1U(po);B ex=1Y("2c");O(ex,{"1q":"2B","1a":0,"1b":0});X.1U(ex);O(X,{"1q":"2B","1a":0,"1b":0,"1A":1,"eb":"lP","pk":"jX"});if(2g(C.4J)){3V(X,{"id":(v.id+"42"+"bz"+C.4J)})}if(C.ET==1||C.Fs==1){O(ex,{"5q":"2Y 0.2s 3f"})}if(2L.Q>0){U(i=0;i<2L.Q;i++){1l[i]=1Y("2c");O(1l[i],{"1q":"2B","1b":0,"1a":0,"9u":"1S","1A":C.a,"5q":"1A 0.1s 3f"});if(C.f0>C.1M){O(1l[i],{"5q":"1A 0.1s 3f,2Y 0.1s 3f"})}if(C.1F=="eY"&&C.3v!=\'\'){if(2g(C.4J)){3V(1l[i],{"id":(v.id+"42"+"X"+"42"+C.4J+"42"+"1l")});if(v[C.4J+\'3v\']){C.3v=v[C.4J+\'3v\']}}if(gL(C.3v,[".wU",".iD",".XP","gU",".gO"])){C.3v.I("//")==-1&&C.3v.I("gU")==-1?C.3v=\'//\'+C.3v:\'\';B z=1Y("3E");C.9j=1;z.1y("dC",ym);z.3v=C.3v;1l[i].1U(z);C.w=1l[i].28;C.h=1l[i].2U;if(C.EV>0){O(z,{1c:C.EV})}}}if(C.1F=="1B"){O(1l[i],{"1r":(C.1r),"eb":C.gP*2m(v.8B,1),"vT":h1(C.3X),"ki-fV":C.iB+\'px\',"2P":"0 cG 0 cG","bv-8T":"e0"});if(o.ak){if(2g(C.EP)){O(1l[i],{"eb":C.EP*2m(v.8B,1),})}}if(C.2p==1){if(C.1B.I("<a ")>-1||19=="cV"){O(1l[i],{"9u":"2A"})}}if(C.EW==1){O(1l[i],{"3X-dG":"EW"})}if(C.l6>0){O(1l[i],{"3X-dG":C.l6})}if(C.EY){O(1l[i],{"pk":C.EY+"em"})}2L[i]==\'5u\'?2L[i]=2I("5u"):\'\';1l[i].1P=uy(2L[i]);1w(qq,100);C.w=1l[i].28;C.h=1l[i].2U;if(2g(C.4J)){3V(1l[i],{"id":(v.id+"pW"+C.4J+"XQ")})}}if(C.1F=="O"){o.1v?1w(uD,4z):\'\'}B 9s=2L[i].6i();if(9s.I(\'B:\')==0){9s=2m(1z[9s.1i(4)],\'\')}B l8=9s.I(\'<2w\')>-1||9s.I(\'<XH\')>-1;if(C.1F=="2w"&&(9s.I(\'<g>\')>-1||l8)){if(1d=="5i"||1d=="3G"){9s=9s.1O(/jg/g,\'jg\'+v.id+19)}if(9s.I(\'4D\')>-1){d3(1l[i])}1l[i].1P=(!l8?"<2w Z=\'20\' 1c=\'20\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'>":\'\')+9s+(!l8?"</2w>":\'\');1l[i].28>20?C.w=1l[i].28:\'\';1l[i].2U>20?C.h=1l[i].2U:\'\';O(1l[i],{"Z":C.w,"1c":C.h});if(C.bu!=-1){p3(1l,C.bu)}if(2g(C.4J)){3V(1l[i],{"id":(v.id+"pW"+C.4J+"XR"+i)})}}ex.1U(1l[i]);if(C.2Z=="gS"){if(1D oV!=="1E"&&L(1z.lh)){!o.al?o.al=1u oV(1l[i]):\'\'}}i>0?1k(1l[i]):\'\'}aA();pN?ym():\'\';if(C.2Z=="3I"){C.3I=1;C.1k=1;o.3I?1l[0].1P=o.3I.mI(C.bu!=-1?C.bu:\'#3H\'):\'\';if(o.1h.2e){1l[0].F0=wG;1l[0].XT=5N;1l[0].wh=wH}F{1l[0].jZ=6u;1l[0].kz=5N;1l[0].jE=ep}}F{if((bg.28*C.1M<35||bg.2U*C.1M<35)&&C.1F!=\'1B\'){yt();d3(8I)}F{d3(bg)}}if(1d=="3G"){B lu=\'\';if(C.ez==1&&L(C.2Z)){lu=C.2Z;if(lu.I("2T:")==0){if(lu==\'2T:1t\'&&C.ib==\'2T:3L\'){C.pp=1}B 1H=lu.1i(4).2k(",");if(1H.Q==2){B wk=1H[1].2k("/");if(wk.Q==2){1H[0]==\'hd\'?1H[0]="4F":\'\';if(v[1H[0]]==wk[1]){C.a=1;O(1l[0],{"1A":C.a})}}}}if(lu=="F2"||lu=="4x"){o.V.gT();X.C.4T=q0;o.wn=1}}if((C.1k==1&&(C.F3==1||C.EX==1||C.EN==1))||lu.I("7d")==0||lu=="Ey"||lu=="9K"){C.EM=1;if(7n([C.1q],"X")||C.EL==1){C.EK=1}}if(lu.I("7d")==0){X.C.4T=q0}}U(B sf in C){sM(sf)}if(1d=="1f"&&C.eT==1){eT=1u EJ(X,bg,C)}if(C.2p==0){fi(X)}if(C.9j==1){1k(bg)}if(C.2q==1){pR()}if(C.1q.I("2t")>-1){eL=1}if(C.1q.I("1b")>-1){EI=1}if(C.1q.I("2N")>-1){eS=1;1d=="3G"&&2g(C.2Z)?X.C.4T=q0:\'\'}if(C.1q.I("X")>-1){eS=1}2z();B t=\'\';if(C.aI!=0){t+="pc("+C.aI+"xl)"}if(C.XU==1){t+=" 3n(-1)"}if(C.XV==1){t+=" 3u(-1)"}if(t!=\'\'){O(ex,{"2Y":t})}if(1d=="aK"){ja()}B 1H=[];B i;if(1d=="W"){1H=[\'c5\',\'EH\',\'qj\',\'EG\',\'x8\',\'oj\'];U(i=0;i<1H.Q;i++){if(L(C[1H[i]])&&!L(v.W[1H[i]])){v.W[1H[i]]=C[1H[i]]}}}if(1d=="1N"){1H=[\'pg\',\'wX\',\'wV\'];U(i=0;i<1H.Q;i++){if(L(C[1H[i]])&&!L(2H[1H[i]])){v[1H[i]]=C[1H[i]]}}}C.pw==1?9y():\'\';if(1d=="3G"&&C.on==0){3g(X)}if(C.1k==1&&C.p7>0){1w(EF,C.p7*2h)}}E EF(){C.p7=-1;o.S.4w()}E yt(){if(8I){8I.4c.3o(8I)}8I=1Y("2c");O(8I,{"1q":"2B","1b":0,"1a":0,"Z":C.1F=="eY"?bg.28:(bg.28>35?bg.28:35)*C.EE,"1c":C.1F=="eY"?bg.2U:(bg.2U>35?bg.2U:35)*C.wl});C=4u(C,\'hb\',\'hb\');X.1U(8I)}E d3(x){if(1d.I("18")==0&&V.Q==1){C.2p=0}if(1d=="3G"&&C.ez==0){C.2p=0}if(C.2p==1){if(C.kL==1){O(x,{"6M":"4D"})}O(x,{"9u":"2A"});if(o.1h.2e){x.1y("cl",E(e){wH(e)},{5y:K});x.1y("g5",E(e){wG(e)},{5y:K});x.1y("g6",E(e){EC(e)},{5y:K})}x.eU=aB;if(v.1p.hi==1||C.hi==1){O(x,{"2v-1r":"#qn","1A":0.5})}}F{O(x,{"6M":"6X"})}if(!o.1h.2e){x.jZ=6u;x.kz=5N}if(C.3d==1||C.2q==1){x.jE=ep}}E wH(e){js("XW"+19);e.av();cl=H}E wG(e){C.EB==1?6u():\'\';e.av()}E EC(e){e.av();e.9z();C.EB==1?5N():\'\';if(!cl){aB(e)}cl=K}E aA(){if(bg){bg.4c.3o(bg)}bg=1Y("2c");O(bg,{"1q":"2B","1b":0,"1a":0});if(2g(C.4J)){3V(bg,{"id":(v.id+"pW"+C.4J+"XX")})}w=C.w;h=C.h;C.eZ=-1;C.aJ=-1;C=4u(C,\'2S\',\'2S\');C=4u(C,\'9X\',\'9X\');if(C.aO&&o.ak){if(C.aO!=\'0 0 0 0\'){C=4u(C,\'9X\',\'aO\')}}if(C.1F=="1B"){w=1l[vW].28;h=1l[vW].2U;if(C.vp>0){w<C.vp?w=C.vp:\'\'}}C=4u(C,\'eM\',\'eM\');C=4u(C,\'EA\',\'EA\');if(2g(C.4J)&&L(v.3G)&&C.1d=="3G"){if(1D(v.3G)==\'3D\'){U(B i=0;i<7P.6o(v.3G).Q;i++){if(v.3G[i][C.4J]){if(v.3G[i][C.4J]=="7a"){C.on=0}F{B 1H=v.3G[i][C.4J].2k(":");if(1H[0]=="2S-1a"){if(1H[1].I("%")>0){C.iC=2J(1H[1])}F{C.4A=2J(1H[1])}}}}}}}C.h=h;C.w=w;if(C.bg==1){h=h+C.ax+C.ay;w=w+C.6U+C.6Z;C.h=h;C.w=w;if(C.1F=="1B"){C.jD=1l[0].2U}}F{C.5O=0}O(bg,{"Z":(C.Ez==1?F4:w),"1c":h,"wm":(C.lm*h)/2,"5q":"2v .1s 3f, 1A .2s, 2Y .1s 3f"+(2g(C.eB)?\', 6W .1s 3f\':\'\')});qo(C.59,C.5O);if(C.1F=="eY"){O(bg,{"Z":w,"1c":h,"wm":(C.lm*h/C.1M)/2,})}if(C.Ei==1){vr(bg,C.59,C.Ej,C.Ek)}if(C.oW==1){O(bg,{"2Q":2m(C.DX,1)+"px 6I "+C.pQ})}if(C.aa==1){O(bg,{\'k9-6W\':\'aa(b7)\'})}po.1U(bg);if(C.7q==1){O(1l[0],{\'2v\':5M(2m(C.XZ,\'3Q\'),2m(C.Y0,0.5),1l[0]),\'2Q-6A\':2m(C.Y1,0),\'2P\':F5(2m(C.Y2,0))})}}E qo(x,y){!2g(x)?x=C.59:\'\';!2g(y)?y=C.5O:\'\';O(bg,{"2v":(C.Fn==1?"3f-4R("+(C.XS==1?"to 2t,":\'\')+5M(x,y)+","+5M(C.XF,y)+")":5M(x,y,bg))})}E 2z(){B eZ=(-bg.2U/2);B aJ=(-bg.28/2);if(eZ!=C.eZ||aJ!=C.aJ){O(bg,{"1b":(-bg.2U/2),"1a":(-bg.28/2)});C.eZ=eZ;C.aJ=aJ}if(8I){B x=C.1F=="eY"?bg.28:(bg.28>35?bg.28:35);B y=C.1F=="eY"?bg.2U:(bg.2U>35?bg.2U:35);O(8I,{"1b":(-y/2)+C.Ef-C.Eh,"1a":(-x/2)+C.Xu-C.XE})}U(B i=0;i<2L.Q;i++){B it=C.1F=="2w"?2F.4r(2J(1l[i].C.1c))/2:2F.4r(1l[i].2U)/2;B il=C.1F=="2w"?2J(1l[i].C.Z)/2:1l[i].28/2;if(it!=C.it[i]||il!=C.il[i]){O(1l[i],{"1b":-it,"1a":-il});if(bg){O(1l[i],{"1b":(5d(1l[i].C.1b)+C.ax/2-C.ay/2+C.Xl/2+C.Xm/2),"1a":(5d(1l[i].C.1a)+C.6U/2-C.6Z/2+C.Xn/2+C.Xo/2)})}C.it[i]=it;C.il[i]=il}}}E 6u(){B i;6r=H;if(C.et==1){if(on&&L(C.pi)){i=1}F{i=0}if(b3&&et.Q>2){i=2}if(et[i]){pO();1o(1l[et[i]])}}if(C.bg==1){if(2g(C.a9)||2g(C.8w)){qo(C.a9,C.8w)}if(2g(C.eB)){O(bg,{"6W":"iM("+C.eB+")"})}}if(C.7y>-1&&!Fr){U(i=0;i<2L.Q;i++){if(1l[i].C.5F!="3d"){O(1l[i],{"1A":C.7y})}}}if(C.pZ!=-1){p3(1l,C.pZ)}if(C.Fs==1){iR+=45;iw(1l[0],iR)}if(C.f0>C.1M&&C.f0>-1){1M(C.f0)}if(1d=="1f"&&o.S.bN()){}F{if(C.2q==1&&C.pw!=1){B x=7h.Q>1&&!on?7h[1]:7h[0];if(x){if(x.I(\'B:\')==0){2O.1P=1z[x.1i(4)];9y()}}1o(2q);O(2q,{"1A":1})}}if(1d=="5i"){o.V.5j(H);o.5j=H}o.dF=H;o.S.k5(19,"6r")}E 5N(){6r=K;B i;if(C.et==1){if(on&&L(C.pi)){i=1}F{i=0}if(b3&&et.Q>2){i=2}pO();1o(1l[i])}if(C.bg==1){if(2g(C.a9)||2g(C.8w)){qo(C.59,C.5O)}if(2g(C.eB)){O(bg,{"6W":"iM(1)"})}}if(C.7y>-1){U(i=0;i<2L.Q;i++){if(1l[i].C.5F!="3d"){O(1l[i],{"1A":C.a})}}}if(C.f0>-1){1M(C.1M)}if(C.pZ!=-1){p3(1l,(C.bu==-1?\'#3H\':C.bu))}if(1d=="5i"&&!o.1Z){o.V.5j(K);o.5j=K}vy();o.dF=K;o.S?o.S.k5(19,"5k"):\'\'}E vy(){if(C.2q==1&&C.pw!=1){1k(2q);O(2q,{"1A":0})}}E aB(e){e?e.6G=H:\'\';if(!pT){o.S.fh(19);if(1d=="3G"){jw()}vy();if(C.Xp==1){iR-=30;iw(1l[0],iR)}ij=H;if(C.Ft==1||(19=="qa"&&C.1k==1&&C.x9==1)){o.S.4w()}}};G.Fu=E(){aB()};E jw(){if(2L){if(2L.Q>1){if(on==H){1o(1l[0]);1k(1l[1])}F{1o(1l[1]);1k(1l[0])}}if(C.2q==1&&7h.Q>1){2O.1P=o.ni+(on==H?7h[0]:7h[1])+o.jy;9y()}}if(L(C.yL)){if(on==H){C.2Z=C.yL}F{C.2Z=C.ib}}j1();on=!on;if(C.2Z){if(C.2Z.I(",0/1")>-1){js(C.2Z,on?1:0)}}if(C.bg==1&&L(C.yD)){if(C.yD!=-1){if(on){C.Fo=C.59;C.59=C.yD}F{C.59=C.Fo}aA();d3(bg);2z();if(C.1F=="1B"){9v()}F{1M(C.1M)}}}}E j1(){if(L(C.fc)){if(C.fc.Q>1){if(on==H){62(C.fc[0])}F{62(C.fc[1])}}}}E tS(1e){1e.6G=H;o.S.fh(19)}E pO(){U(B i=0;i<2L.Q;i++){if(1l[i].C.5F!="3d"){O(1l[i],{"1A":C.a});1k(1l[i])}}}E qq(1B){if(1l[0]){if(1l[0].28>o.2W-C.4A-C.4P-C.6U-C.6Z){if(C.yC==1){if(!1B){1B=1l[0].1P}1l[0].1P=\'<yC>\'+1B+\'</yC>\'}F{O(1l[0],{"bv-8T":"gX"})}O(1l[0],{"Z":o.2W-C.4A-C.4P-C.6U-C.6Z})}}}E ym(){if(bg){pN=K;C.9j=0;1k(bg);if(1l[0]){C.w=1l[0].28*C.1M;C.h=1l[0].2U*C.1M;1M(C.1M)}C.ag=0;aA();yt();d3(8I);1o(bg);2z();o.S.4N();if(!5T(X)){3g(X)}}F{pN=H}}E En(1e){1e.6G=H}E ep(){if(!o.1h.2e&&!o.dF){6u()}9y()}E 1M(x){if(x>0){O(bg,{"2Y":"1M("+x+")"});U(i=0;i<2L.Q;i++){O(1l[i],{"2Y":"1M("+x+")"})}if(C.jz){C.jz.1M(x)}3n=x;3u=x}}E pR(){2q=1Y("2c");O(2q,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'1c\':\'2A\',"1A":0,"5q":"1A 0.1s 3f"});ic=1Y("2c");C=4u(C,\'kl\',\'kl\');C=4u(C,\'Fv\',\'Fv\');O(ic,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'Z\':\'100%\',\'1c\':30,\'2v-1r\':C.jG,\'1A\':C.jU,\'2Q-6A\':C.xm});2O=1Y("2c");O(2O,{\'1q\':\'2B\',\'1a\':C.xM,\'1b\':C.q8,\'1r\':C.xr,\'3X-eG\':h1(C.xd),\'3X-3F\':C.xe*2m(v.8B,1),"ki-fV":C.xg+\'px\',"2E-1c":"1"});if(C.2O){if(C.2O.I("B:")==0){C.Fx=H}}if(!C.Fx){O(2O,{\'bv-8T\':\'e0\'})}if(C.f9==1){8m=1Y("2c");8m.1P=\'<2w Z="b7" 1c="xA" xG="0 0 8 6" 8r="1.1" 4a="3R://4g.w3.47/4f/2w" 4a:4e="3R://4g.w3.47/7V/4e"><fb id="H7" 4m="1S" 6c="#\'+C.jG.1O("#","")+\'" 6c-H8="H9" 8l="0 0 8 0 4 6"></fb></2w>\'}if(C.pw==1){O(2q,{"1A":1});d3(2q)}F{fi(2q)}X.1U(2q);2O.1P=o.ni+(C.2O==\'\'?2I(1d):7h[0])+o.jy;2q.1U(ic);2q.1U(2O);if(C.f9==1){2q.1U(8m);B yk=o.xD?\'-b7\':\'-xA\';B ps=C.Xq;if(!L(ps)){ps=\'\'}B tp=ps.I("1b")>-1;if(tp){iw(8m,\'-Xr\')}O(8m,{\'1q\':\'2B\',\'2t\':(ps.I("2t")>-1?10*C.1M:\'2A\'),\'1a\':(ps.I("1a")>-1?10*C.1M:(ps==\'\'||ps==\'1b\'?\'50%\':\'2A\')),\'2S-1a\':(ps==\'\'||ps==\'1b\'?\'-Hw\':0),\'2N\':(tp?\'2A\':yk),\'1b\':(tp?yk:\'2A\'),\'1A\':C.jU})}9y()}E 9y(){if(C.2q==1){O(2q,{"1b":(eS==1?-h-2q.2U+3:-2q.2U/2)+C.Xs-C.Xk,"1a":(eL==1?-2O.28:(eS==1?-w/2:+2O.28))-(eS==1?0:2O.28/2+5)+C.Xt-C.Xv,"1c":C.q8+2O.2U+C.xL,"Z":C.xM+2O.28+C.FE});O(ic,{\'1c\':2q.2U});2q.C.4T="2h"}}G.c=E(){J X};G.s=E(x){if(1d=="3G"){sM(x)}J C[x]};G.ss=E(x,x2){J L(C[x])?C[x][x2]:K};G.g=E(x){bJ(x){1j"Z":J w;1g;1j"1c":J h;1g;1j"h":J 2m(C.jD,h);1g;1j"x":J 5d(X.C.1a);1g;1j"y":J 5d(X.C.1b);1g;1j"1A":J X.C.1A?X.C.1A:1;1g;1j"1o":J 4h;1g;1j"3n":J 3n;1g;1j"3u":J 3u;1g;1j"1d":J 1d;1g;1j"FA":J 9A;1g;1j"ij":J ij;1g;1j"1F":J C.1F;1g;1j"Q":J C.oZ?C.oZ:0;1g;1j"19":J 19;1g;1j"x0":J x0;1g;1j"y0":J y0;1g;1j"6r":J 6r;1g;1j"1f#":J 9A.I("1f#")==0;1g;1j"1f:":J 9A.I("1f:")==0;1g;1j"xJ":J 1d=="3G"&&C.1F=="1B";1g;1j"1R#4h":J xN;1g;6X:J K}};G.1R=E(k,x){bJ(k){1j"1o":6r?5N():\'\';4h=x;1g;1j"2i":Fw(x);1g;1j"6p":6p(X);1g;1j"3g":3g(X);1g;1j"FB":C.3d=0;1g;1j"ye":if(C.FC>0&&C.3d!=1&&!im){2D(im);im=1w(E(){3g(X);(C.Xw!=1?C.3d=1:\'\');im=1E},C.FC*2h)}1g;1j"1M":1M(x);1g;1j"Xx":O(X,{"2Y":"1M(0)"});1g;1j"3n":O(X,{"2Y":"3n("+x+")"});3n=x;1g;1j"3u":O(X,{"2Y":"3u("+x+")"});3u=x;1g;1j"1A":O(X,{"1A":x});1g;1j"q7":O(1l[0],{"1A":x});1g;1j"eJ":O(1l[0],{"6W":"eJ("+x+")"});1g;1j"1a":O(X,{"1a":x});1g;1j"1b":O(X,{"1b":x});1g;1j"Z":O(X,{"Z":x});1g;1j"1c":O(X,{"1c":x});1g;1j"tZ":C.tZ=x;1g;1j"eL":eL=x;1g;1j"1R#4h":xN=x;1g;1j"x":O(X,{"1a":x});1g;1j"y":O(X,{"1b":x});1g;1j"5V":C.5V=x;1g;1j"7d":C.7d=x;1g;1j"x0":x0=x;1g;1j"y0":y0=x;1g;1j"eK":C.eK=x;1g;6X:J K}};E Fw(x){if(x&&o.1h.2e){pT=H;1w(Fm,ef)}if(!x){if(pn()&&b3){1k(1l[j3]);1o(1l[0]);b3=K}}if(C.9j==1){x?1o(X):1k(X)}F{if(19=="Xy"||19=="Xz"){x?1o(X):1k(X)}F{O(X,{"2i":(x?"4x":"1S")})}4h=x;x?1o(X):\'\'}if(x&&C.qm){C.qm=K;1w(9v,100)}}E Fm(){pT=K}G.62=E(x,y){if(9A!=\'\'&&(C.1B==\'x\'||C.1B==\'1x\')){x=x+\'x\'}if(y){x=C.1B+x}62(x);!5T(X)?C.qm=H:\'\'};B r6;G.iS=E(x){if(r6!=x){C.96=x;62(x);!5T(X)?C.qm=H:\'\';o.S?o.S.4N():\'\'}r6=x};G.rj=E(){iw(ex,nv);nv+=20};E iw(x,y){O(x,{"2Y":"pc("+y+"xl)"+(x==1l[0]&&!F7&&3n!=1?\' 1M(\'+3n+\')\':\'\')})};G.Fl=E(x){if(C.1B.I("{1N")>-1){62(C.1B)}};G.jw=E(){jw()};G.r9=E(x){on=x==0;j1()};E 62(1B){if(C.1F=="1B"){if(L(1B)){if(C.Fk){if(1B.Q==4){1B=(C.p4?\'0:0\':\'cL:0\')+1B}if(1B.Q==5){1B=(C.p4?\'0:\':\'cL:\')+1B}if(1B.Q==7){1B=(C.p4?\'\':\'0\')+1B}}if(C.Fj){if(1B.Q==4){1B=\'0\'+1B}}C.oZ=1B.Q}1B=(C.s0?C.s0+(C.Fi?\'\':\' \'):\'\')+1B+(C.rV?\' \'+C.rV:\'\');B Fg=1l[0].28+(C.bg==1?C.ax+C.ay:0);B Ff=1l[0].2U+(C.bg==1?C.ax+C.ay:0);1l[0].1P=o.ni+(1d=="3G"?uy(1B):1B)+o.jy;if(C.XA==1){1l[0].1P+=\'<7u C="2i:cU-4x;Z:e7"></7u><7u C="2Q-1b: cG 6I \'+3t(C.1r)+\';2Q-1a: cG 6I dS;2Q-2t: cG 6I dS;1q: 2B;2t:cG;1b: 50%;2S-1b: -4t;"></7u>\'}if(1d=="1N"){O(1l[0],{"Z":"2A","bv-8T":"e0"});qq(1B)}C.w=1l[0].28+(C.bg==1?C.6Z+C.6U:0);C.h=1l[0].2U+(C.bg==1?C.ax+C.ay:0);if(Fg!=C.w||Ff!=C.h||(C.w>0&&qV==0)){9v()}if(1l[0].28>0){qV=C.w}F{9A!=\'\'?1k(1l[0]):\'\';if(1B!=\'\'){1w(9v,10)}}}}G.9v=E(){9v()};E pn(){J!o.P.5Q()&&C.Fe==1}E 9v(){if(C.1F=="1B"){if(1l[0]){if(1l[0].28>0){9A!=\'\'?1o(1l[0]):\'\';w=C.w=1l[0].28;h=C.h=1l[0].2U;aA();d3(bg);2z();if(o.S){if(7n([C.1q],"X")){o.S.r3()}F{o.S.4N()}}}}}}G.qS=E(x){if(C.Fd==1){B n=4;if(19=="XB"){if(o.1h.2e){J}}F{n=8}B y=\'jg\';B z=[];U(B i=1;i<n;i++){z[i]=1T.8z(y.ah(v.id,19,\'XC\',i))}if(z[1]){U(B i=1;i<n;i++){z[i]?1k(z[i]):\'\'}if(n==4){U(B i=1;i<n;i++){x>(i/n)&&z[i]?1o(z[i]):\'\'}}F{U(B i=n;i>0;i--){if(x*1+(1/n)>=(i/n)&&z[i]){1o(z[i]);1g}}}}}};G.On=E(){if(!on){if(2L){if(2L.Q>1&&V.Q>1){1k(1l[0]);1o(1l[1])}}if(V.Q>1){1d=V[1];if(C.2q==1){2O.1P=j0(1);9y()}}if(pn()&&b3){1k(1l[j3]);b3=K}if(C.pp==1){jw(1)}j1();on=H}};E j0(x){J o.ni+(C.2O==\'\'?2I(V[x]):(7h.Q>1?7h[x]:7h[0]))+o.jy}G.cF=E(x){cF(x)};G.Fc=E(x,y){if(C.jz){C.jz.dR(x,y)}};E cF(x){B y=\'jg\';B z=1T.8z(y.ah(v.id,19,\'XD\'));if(z){O(z,{"5q":"2Y 0.1s 6z-5k"});if(x==1){z.C.2Y=\'Fb(0, 0)\'}F{z.C.2Y=\'Fb(-Fa, 0)\'}}F{if(x==1){C.a=1}F{C.a=0.5}}on=x==1;if(C.2q==1&&7h.Q>1){2O.1P=(on?7h[0]:7h[1])}O(1l[0],{"1A":C.a})};G.iZ=E(){if(on){if(2L){if(2L.Q>1&&V.Q>1){1o(1l[0]);1k(1l[1]);O(1l[0],{"1A":C.a})}}1d=V[0];if(V.Q>1){if(C.2q==1){2O.1P=j0(0);9y()}}j1();on=K;b3=K}};G.tS=E(){if(pn()){pO();1o(1l[j3]);b3=H}};G.F9=E(){B 2G=K;if(C.1k==1){if(C.F8==1){if(5T(o.29)){2G=H}}if(C.Y3==1&&!o.1Z){2G=H}if(C.XG==1&&o.1Z){2G=H}}if(!2G){6p(X);B f7=X.bA("*");U(B i=f7.Q;i--;){O(f7[i],{"5V-1t-6V":"Y4"})}4h=H}};G.ja=E(){ja()};E ja(){3g(X);B f7=X.bA("*");U(B i=f7.Q;i--;){O(f7[i],{"5V-1t-6V":"6v"})}4h=K}G.4s=E(){if(2L.Q>0){U(i=0;i<2L.Q;i++){if(1l[i].4c==X){X.3o(1l[i])}1l[i]=26}}if(bg){bg.dz("eU");bg.dz("jZ");bg.dz("kz");bg.4c.3o(bg);bg=26}if(C.1q.I(\'8Y\')>-1){if(X.4c==o.8Y){o.8Y.3o(X)}}F{if(X.4c==o.1Q){o.1Q.3o(X)}F{if(o.1p){if(X.4c==o.1p){o.1p.3o(X)}}}}if(2q){if(2q.4c==X){X.3o(2q)}}X=26};G.Ew=E(){eT?eT.f3():\'\'};G.DY=E(){uD()};E uD(){Ev(2L[0],C.1r,1l[0])}E uy(x){B z=x+\'\';if(x.I(\'{\')>-1){if(x.I(\'{18}\')>-1&&L(o.3p)){x=x.1O(\'{18}\',f1(o.3p.aM().t))}if(x.I(\'{1N\')>-1){B y=o.cX?o.cX:(v.1N?v.1N:\'\');if(x.I(\'{cz}\')>-1&&o.S){x=x.1O(\'{cz}\',o.S.bV(\'cz\'))}if(o.cs&&o.S){y=o.S.bV(\'cs\')}x=x.1O(\'{1N}\',y);if(o.cs&&!o.S){1w(62,100,z)}}if(x.I(\'{1B\')>-1){U(B i=1;i<6;i++){if(x.I(\'{1B\'+i+\'}\')>-1){if(L(v[\'1B\'+i])){x=x.1O(\'{1B\'+i+\'}\',v[\'1B\'+i])}F{x=x.1O(\'{1B\'+i+\'}\',\'\')}}}}if(x.I(\'{5B}\')>-1){o.hx=19;if(o.S){x=x.1O(\'{5B}\',o.S.bV(\'DI\'))}}}J x}G.sP=E(){62(C.1B)};E sM(sf){if(2g(C[sf+\'42\'+\'B\'])){B x=v[C[sf+\'42\'+\'B\']];if(2g(x)){if(1D(x)=="4y"){C[sf]=x}}}}E p3(1l,6j){U(B i=0;i<1l.Q;i++){DJ(1l[i],6j)}if(C.2Z=="3I"){if(o.3I){o.3I.Ys(1l[0],6j)}}}};B DK=E(19,1d){B i;B C=[];B w;B h;B bg;B 4h=H;B x0;B y0;B 3n=1;B 3u=1;B f6=0;B 9h=0;B Yu;B 3y;B q6;B 6r;B 6v;B 2p;B 3w;B E7;B Eb;B rP;B Ea;B 2q;B 2O;B 8m;B f4;B uL;o.Eg=-1;B pD;B 6r;B t8;U(i in eV.R){C[i]=eV.R[i]}B 1d=v[19].1d;B 1F=v[19].1F;U(i in eV[1d]){C[i]=eV[1d][i]}U(i in v[19]){C[i]=v[19][i]}C.w=2J(C.w);C.h=2J(C.h);C=4u(C,\'2S\',\'2S\');C=4u(C,\'9X\',\'9X\');if(o.ak){if(C.DM>0){C.w=2J(C.DM)}if(C.aO){if(C.aO!=\'0 0 0 0\'){C=4u(C,\'9X\',\'aO\')}}}B X=1Y("2c");if(v.1p.DN==1&&v.1p.1k==1){o.1p.1U(X)}F{o.1Q.1U(X)}1d=="2E"?o.8Y=X:\'\';B 7Y=K;if(C.7Q){if(C.7Q!=\'1I\'){7Y=H}}O(X,{"1q":"2B","1b":0,"1a":0,"1A":1,"eb":"lP","pk":"jX"});if(C.DH==1){X.C.4T=C.4Z}aA();B 92=1Y("2c");O(92,{"1q":"2B","2N":2F.4r(-C.h/2),"1a":2F.4r(-C.w/2)});if(C.7w>0&&C.Dr==1){O(92,{"2Q-6A":C.7w*C.h/2,"1c":C.h,"6D":"3d","4D-3i":"1S"})}if(2g(C.4J)){3V(X,{"id":(v.id+"pW"+C.4J)})}X.1U(92);if(1d==\'2E\'&&v.ts==1){E5()}if(C.2q==1){pR()}B 9e=1Y("2c");he(0,9e,0.3,(C.4R==1?"3f-4R("+(C.t0==1?"to 1a,":\'\')+3t(C.DO)+", "+3t(C.pS)+")":3t(C.pS)),C.w,C.Yv);if(C.DF==1&&L(C.qc)){B hG=1Y("2c");hG.1P=C.qc.1O(/\\#Dq/g,3t(C.pS));9e.1U(hG);O(hG,{"1q":"2B","2N":-2F.4r(C.h/2),"1a":0,"4D-3i":"1S"});O(9e,{"6D":"3d","2v":"1S"});B x=["rq","fb","q4","jn","dv"];U(B y=0;y<x.Q;y++){B z=hG.xR("2w "+x[y]);if(z.Q>0){U(B y2=0;y2<z.Q;y2++){z[y2].C.6c=3t(C.pS)}}}}92.1U(9e);B Yw=[];B cQ=1Y("2c");he(1,cQ,C.DR,(C.4R==1?"3f-4R("+(C.t0==1?"to 1a,":\'\')+3t(C.DS)+", "+3t(C.DT)+")":C.DT),0,C.Yx);92.1U(cQ);if(C.7y>0){B es=1Y("2c");he(2,es,C.DU,C.Yy,0,C.7y);92.1U(es)}B 7j=1Y("2c");he(3,7j,C.DV,(C.4R==1?"3f-4R("+(C.t0==1?"to 1a,":\'\')+3t(C.DP)+", "+3t(C.1r)+")":C.1r),0,C.a);if(C.DF==1&&L(C.qc)){B qb=1Y("2c");qb.1P=C.qc.1O(/\\#Dq/g,3t(C.1r));O(qb,{"1q":"2B","2N":-2F.4r(C.h/2),"1a":0,"4D-3i":"1S"});O(7j,{"6D":"3d","2v":"1S"});7j.1U(qb)}if(C.5H==1){B d0=1Y("2c");C=4u(C,\'tq\',\'tq\');C=4u(C,\'sm\',\'sm\');O(d0,{"1q":"2B","2N":C.h/2,"1a":0,"4D-3i":"1S","3X-3F":C.DE*2m(v.8B,1),"1r":C.5Z,"2E-1c":"100%","2P-1b":C.Yz,"2P-2N":C.YA,"2P-1a":C.YB,"2P-2t":C.YC,"2S-1b":C.Yt,"2S-2N":C.YD,"2S-1a":C.YF,"2S-2t":C.YG,"2Q-6A":(C.Dz+"px"),"2i":"1S"});if(C.Dy==1){O(d0,{"2v":3t(C.Dx)})}7j.1U(d0);B kk=K;B YH=K}o.qp=C.h;92.1U(7j);if(C.eW==1){B 8l=[];if(1D Dv!=="1E"){B 9q=1u Dv(X,8l,w,C)}}if(C.3w==1){if(C.dK.6i().I(\'<2w\')==-1){C.dK==\'\'?C.dK="<2w Z=\'20\' 1c=\'20\'><g><dv ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' 6c=\'#eg\'/></g></2w>":\'\'}3w=1Y("2c");3w.1P=C.dK.6i();C=4u(C,\'Du\',\'Du\');O(3w,{"1q":"2B","1b":-10+C.YI-C.YJ,"1a":-2h,"4D-3i":"1S","1c":20,"Z":C.fe,"1A":C.sJ,"5q":"2Y 0.1s 3f, 1A 0.1s 3f"});if(C.kp==1||C.qG==1){O(3w,{"2Y":"1M(0)"})}F{if(C.p5!=1){O(3w,{"2Y":"1M("+C.p5+")"})}}if(C.YK==1){O(3w,{"6W":"YL-9G(4t 4t cG 5m(0, 0, 0, .7))"})}X.1U(3w);if(C.y9!=-1){B x=["rq","jn","dv"];U(B y=0;y<x.Q;y++){B z=3w.xR("2w "+x[y]);if(z.Q>0){U(B y2=0;y2<z.Q;y2++){z[y2].C.6c=3t(C.y9)}}}}C.El=3w.28}if(C.aI!=0){O(X,{"2Y":"pc("+C.aI+"xl)"})}if(C.3d==1){1k(X);4h=K}if(1d=="1I"&&!7Y){if(C.1k==1&&C.hP==1){o.hI=H;C.3d=H}F{o.hI=K}}C.aD=0;if(C.aI!=0){C.hE=2F.Gm(C.aI);if(C.hE>45&&C.hE<135){C.aD=90}if(C.hE>YM&&C.hE<Dt){C.aD=Er}}if(7Y){C.7Q?o[\'2E\'+\'42\'+C.7Q]=C.7Q:\'\';w=C.w;C.7Q=="5c"?6s(1,o.5S.4M(-1)[0],"no"):\'\';if(C.7Q=="vN"){B pv=v.1I;v.2a?(v.2a.1I?pv=v.2a.1I:\'\'):\'\';6s(pv,1,"no")}}E he(n,x,y,z,Ds,DW){O(x,{"1q":"2B","2N":0,"1a":0,"Z":Ds,"1c":(C[\'h\'+n]>0?C[\'h\'+n]:C.h),"2v":z?(z.I("3f")>-1?z:3t(z)):\'\',"2Q-6A":(C.Dr==1?1:C.7w*C.h/2),"1A":DW,"4D-3i":"1S","5q":"2Y 0.2s 6z-in-5k"})}E aA(){bg=1Y("2c");C=4u(C,\'eM\',\'eM\');B jD=C.h+C.ax+C.ay;B DG=C.w+C.6U+C.6Z;if(C.bg==1){}F{C.5O=0}C=4u(C,\'hb\',\'hb\');if(v.1p.hi==1||C.hi==1){C.59=\'#qn\';C.bg=1;C.5O=0.5}O(bg,{"1q":"2B","1b":0,"1a":0,"Z":DG,"1c":jD*C.wl,"wm":(C.lm*jD)/2,"2v":5M(C.59,C.5O),"9u":"2A","5q":"1A .1s 3f, 2v .1s 3f"});if(C.aa==1){O(bg,{\'k9-6W\':\'aa(b7)\'})}if(C.oW==1){O(bg,{"2Q":2m(C.DX,1)+"px 6I #"+C.pQ})}if(C.2p==1){if(C.kL==1){O(bg,{"6M":"4D"})}if(!o.1h.2e||v.g1==1){bg.eU=aB;bg.YN=t7;bg.YE=q5;bg.jE=ep}}F{O(bg,{"6M":"6X"})}if(!o.1h.2e){bg.jZ=6u;bg.jE=ep;bg.kz=5N}if(o.1h.vn&&C.2p==1){bg.1y("g5",E(1e){1e.6G=H;if(!L(1e.6m)&&1e.7T.Q>0){1e.6m=1e.7T[0].k1;1e.8K=1e.7T[0].oS}pD=1e;6u(1e);q5(1e)},{5y:K});bg.1y("g6",E(1e){1e.6G=H;o.3y=K;5N(1e);t7(pD)},{5y:K});bg.1y("2p",E(1e){1e.6G=H});bg.1y("cl",E(1e){if(!L(1e.6m)&&1e.7T.Q>0){1e.6m=1e.7T[0].k1;1e.8K=1e.7T[0].oS}pD=1e;o.3y=H;ep(1e);if(o.1h.vn){q5(1e)}},{5y:K})}O(bg,{"1a":2F.qd(-C.w/2-C.6U)});O(bg,{"1b":2F.qd(-C.h/2-C.ax+C.Ef-C.Eh)});if(C.Ei==1){vr(bg,C.59,C.Ej,C.Ek)}X.1U(bg)}E 2z(Z){if(Z!=w){w=Z;o.yO=w;B b6=w/9e.28;O(bg,{"Z":(w+C.6U+C.6Z),"1a":-w/2-C.6U,});O(92,{"1a":-w/2});O(9e,{"Z":w});O(92,{"Z":w});B xx=cQ.28*b6;if(xx>9e.28){xx=9e.28}O(cQ,{"Z":xx});B wp=7j.28*b6;O(7j,{"Z":wp});kn(wp);if(1d=="2E"){Ha()}if(C.eW==1){9q?9q.Et(w):\'\'}if(o.6k){o.6k.2z()}}}E kn(x){if(C.3w==1){B cT=C.El/2;if(x<cT&&C.fe!=20){x=cT}if(x>w-cT&&C.fe!=20){x=w-cT}B x2=x-w/2-cT+C.Yr-C.Yg;if(x2>w/2-cT){x2=w/2-cT}O(3w,{"1a":x2})}}E qy(){O(3w,{"2Y":"1M("+C.p5+")"})}E 6u(1e){o.S.k5(19,"6r");if(C.bg==1){if(C.8w!=-1){B m=1u 5x({"mc":bg,"1F":"8f","to":C.8w,"18":0.1,"me":(19+"bg")})}if(2g(C.a9)){O(bg,{"2v-1r":C.a9})}}if(2g(C.rC)){O(7j,{"2v-1r":C.rC})}if(C.3w==1){if(C.Em==1&&L(C.qU)){if(C.qf==1&&3y){}F{3w.1P="<2w Z=\'"+C.fe+"\' 1c=\'20\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'>"+C.qU.6i()+"</2w>"}}if(C.kp==1){if(C.qG==1&&!o.1v){}F{qy()}}F{if(C.pb!=-1){B m2=1u 5x({"mc":3w,"1F":"8f","to":C.pb,"18":0.1,"me":(19+"3w")})}}}if(C.2q==1&&(o.P.1m()>0||1d=="1I"||7Y)){kw()}if(C.eR>0){O(bg,{"2Y":"3u("+((C.eR-1)/5+1)+")"});sy(C.eR)}if(C.3w==1&&C.qJ==1){kn(8b(1e.6m)-9h)}if(1d=="1I"){o.V.5j(H);o.5j=H}6r=H;o.dF=H}E sy(x){O(9e,{"2Y":"3u("+x+")"});O(cQ,{"2Y":"3u("+x+")"});es?O(es,{"2Y":"3u("+x+")"}):\'\';O(7j,{"2Y":"3u("+x+")"})}E 5N(){if(!q6){if(C.7y>0){O(es,{"Z":0})}if(2g(C.rC)){O(7j,{"2v-1r":C.1r})}if(C.bg==1){if(C.8w!=-1){B m=1u 5x({"mc":bg,"1F":"8f","to":C.5O,"18":0.1,"me":(19+"bg")})}if(2g(C.a9)){O(bg,{"2v-1r":C.59})}}if(C.3w==1){if(C.Em==1&&L(C.qU)){if(C.qf==1&&3y){}F{3w.1P="<2w Z=\'"+C.fe+"\' 1c=\'20\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'>"+C.dK.6i()+"</2w>"}}if(C.kp==1){O(3w,{"2Y":"1M(0)"})}F{if(C.pb!=-1){B m2=1u 5x({"mc":3w,"1F":"8f","to":C.sJ,"18":0.1,"me":(19+"3w")})}}}if(C.eR>0){O(bg,{"2Y":"3u(1)"});sy(1)}if(1d=="1I"&&!o.1Z){o.V.5j(K);o.5j=K}o.S.k5(19,"5k")}if(C.eW==1&&9q){9q.5k()}if(C.2q==1&&(o.P.1m()>0||1d=="1I")){qh()}if(o.pB&&1d=="2E"){o.th.1k();o.Eg=-1}6r=K;o.dF=K}E aB(1e){1e.6G=H}E En(1e){1e.6G=H}E t7(1e){if(1d=="1I"){if(o.9w){q6=H;2D(t8);t8=1w(E(){q6=K;5N()},2h)}}rU();o.3y=K;if(C.3w==1){if(C.qf==1&&L(C.ty)){3w.1P="<2w Z=\'20\' 1c=\'20\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'>"+C.dK.6i()+"</2w>"}}d1(1e.6m,1e.8K);o.S.fh(19);o.S.g2(1e.6m,1e.8K);sO();1e.6G=H}E q5(1e){3y=H;if(C.3w==1){if(C.qf==1&&L(C.ty)){3w.1P="<2w Z=\'20\' 1c=\'20\' 4a:4e=\'3R://4g.w3.47/7V/4e\' 4a=\'3R://4g.w3.47/4f/2w\'>"+C.ty.6i()+"</2w>"}}f6=8b(jH(bg));9h=8b(fA(bg));d1(1e.6m,1e.8K);if(C.ue==1){if(C.Eu==1&&o.1t){6v=H;o.P.3b(\'a5\')}}6s(2p,1,"no")}E d1(di,de){B x;di=8b(di);de=8b(de);B Eq=2F.5W(1T.pM.aY,1T.aL.aY);B Ep=2F.5W(1T.pM.d6,1T.aL.d6);if(o.1h.2e){}F{de=de+Ep;di=di+Eq}if(C.aD>0){x=de-f6-C.6Z;2p=x/w;if(C.aD==Er){x=de-f6-C.6U;2p=x/w;2p=(2p-1)*-1}}F{x=di-9h-C.6U;2p=x/w;if(C.aI>134&&C.aI<Y7){x=di-9h-C.6Z;2p=x/w;2p=(2p-1)*-1}}2p>1?2p=1:\'\';2p<0?2p=0:\'\'}G.Es=E(){9q?9q.Et(w):\'\'};G.jO=E(){9q?9q.dR(w):\'\'};E rU(){3y=K;sO()}E sO(){if(C.ue==1){if(C.Eu==1&&6v){6v=K;o.P.2x(\'a5\')}}}E ep(1e){9h=8b(fA(bg));if(C.7y>0){O(es,{"Z":8b(1e.6m)-9h})}if(C.2q==1&&(o.P.1m()>0||1d=="1I"||7Y)){kw();f6=jH(bg);d1(1e.6m,1e.8K);if(1d=="2E"){if(v.Y8==1){if(o.P.5Q()&&o.P.cm().I("?uq")>0){2O.1P=\'- \'+f1((1-2p)*o.P.1m(H))}F{2O.1P=f1(2p*o.P.1m())}}F{B d=o.P.1m();if(v.4n>0){d=d-v.4n*1}B bs=\'\';if(C.eW==1&&9q){bs=9q.2q(2p*d);bs!=\'\'?bs=bs+\'<br>\':\'\'}if(o.eF&&o.Eo){2O.1P=o.eF.Tm(o.Eo+2p*d*2h)}F{2O.1P=bs+f1(2p*d)}}}if(1d=="1I"||7Y){2O.1P=vA(2p)}9y(1e)}if(o.pB&&1d=="2E"&&o.th){uL=1e;if(!f4||v.Ee!=1){uJ()}if(v.Ee==1){2D(f4);f4=1w(uJ,50)}}if(C.3w==1&&(C.qJ==1||3y)){kn(8b(1e.6m)-9h)}}E uJ(){2D(f4);f4=1E;if(C.2q==0){f6=8b(jH(bg));9h=8b(fA(bg));d1(1e.6m,1e.8K)}6r?o.th.bI(uL,w,2p,9h):\'\'}E 9y(1e,t,l){B tw=2O.28;B 1a=(-w/2+(8b(1e.6m)+1T.pM.aY-9h)-tw/2)+(l?l:0);B kx=0;if(v.xk!=1){if(1a+w/2+tw+10>o.2W){kx=1a;1a=o.2W-w/2-tw-10}if(1a+o.2W/2<0){kx=1a;1a=-o.2W/2}}if(1a>w/2-tw/2){1a=w/2-tw/2}if(1a<-w/2){1a=-w/2}B x={"1b":(-2O.2U-C.DZ*1-C.q8-C.xL)-(C.Ed==1?(C.h/2)*(C.eR>0?C.eR:1):0)+(t?t:0),"1a":1a};O(2q,x);if(C.f9==1){O(8m,{\'1q\':\'2B\',\'1a\':2O.28/2-4+(kx!=0?kx-1a:0),\'1b\':2O.2U-6})}}G.kw=E(e,x,t,l){kw();2O.1P=x;9y(e,t,l)};E kw(){if(!5T(2q)||2q.C.1A==0){1o(2q);O(2q,{"1A":1})}}G.qh=E(){qh()};E qh(){1k(2q);O(2q,{"1A":0})}G.c=E(){J X};G.s=E(19){J C[19]};G.ss=E(x,x2){J C[x][x2]};G.g=E(x){bJ(x){1j"Z":J w;1g;1j"Y9":J 9e.28;1g;1j"1c":J C.h;1g;1j"x":J 5d(X.C.1a);1g;1j"y":J 5d(X.C.1b);1g;1j"1A":J X.C.1A?X.C.1A:1;1g;1j"1o":J 4h;1g;1j"3n":J 3n;1g;1j"3u":J 3u;1g;1j"1d":J 1d;1g;1j"19":J 19;1g;1j"x0":J x0;1g;1j"y0":J y0;1g;1j"2p":J 2p;1g;1j"fg":J 7Y;1g;6X:J K}};G.1R=E(19,x){bJ(19){1j"1o":4h=x;1g;1j"3y":3y=x;1g;1j"2i":1d=="2E"||C.1k==1?O(X,{"5F":(x?"4h":"3d")}):O(X,{"2i":(x?"4x":"1S")});4h=x;1g;1j"3n":O(X,{"2Y":"3n("+x+")"});3n=x;1g;1j"3u":O(X,{"2Y":"3u("+x+")"});3u=x;1g;1j"1A":O(X,{"1A":x});1g;1j"1a":O(X,{"1a":x});1g;1j"1b":O(X,{"1b":x});1g;1j"2p":2p=x;1g;1j"e8":C.e8=x;1g;1j"Z":O(X,{"Z":x});1g;1j"1c":O(X,{"1c":x});1g;1j"tZ":C.Ya=x;1g;1j"x":O(X,{"1a":x});1g;1j"y":O(X,{"1b":x});1g;1j"x0":x0=x;1g;1j"y0":y0=x;1g}};G.2z=E(x){2z(x)};G.oU=E(x){};G.g8=E(b9,bb){if(3y){if(1d=="1I"||7Y||C.ue==1){d1(b9,bb);o.S.fh(19)}if(1d=="1I"){o.9w=H}d1(b9,bb);6s(2p,1,"no")}};G.g2=E(b9,bb){if(3y){rU();3y=K;d1(b9,bb);o.S.fh(19);6s(2p,1,"no")}};E 6s(18,1m,x){18<0?18=0:\'\';if(v.4n>0&&1m>1){1m=1m-v.4n;18=18-v.4n}if(C.3w==1&&C.qG==1&&C.kp!=1){if(!C.Ec&&18>0){qy();C.Ec=H}}if(3y&&1m!=1){}F{B 4o;if(1m>0&&18>0){if(18>1m){18=1m}4o=w*(18/1m);if(4o==7j.28){4o=-1}}F{4o=0}if(4o>=0){O(7j,{"Z":4o});if(C.qJ==1&&6r&&!x){}F{kn(4o)}}if(L(d0)){if(1m<2&&1d=="2E"){if(kk){3g(d0);kk=K}}F{if(!kk){6p(d0);kk=H}d0.1P=1d=="2E"?46(18==0?1m:18):vA(18)}}}};G.6s=E(18,1m,x){if(1m!=Eb||18!=Ea||x){6s(18,1m,x)}};G.E9=E(){2p>1?2p=1:\'\';2p<0?2p=0:\'\';O(7j,{"Z":(2p*w)})};G.E8=E(18,1m){if(1m>0&&18>0){B 4o=w*(18/1m);4o>w?4o=w:\'\';O(cQ,{"Z":5d(4o)});E7=1m;rP=18}F{rP=0;O(cQ,{"Z":0})}};G.kf=E(x){if(C.6k==1){if(!o.6k){if(x!=0){if(1D E6!=="1E"){o.6k=1u E6(X,C,x);o.9H=H}}}F{if((!L(x)||x==0)&&o.9H){o.6k.1k();o.9H=K}F{if(!o.9H||(L(x)&&x!=1&&x!=0)){o.6k.sg(x);o.9H=H}}}}};E E5(){o.bI=1Y("2c");O(o.bI,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'Z\':v.E4,\'1c\':v.E3,\'6D\':\'3d\',"4D-3i":"1S","2v-1r":"#f8","2Q-6A":v.E2+\'px\',"2i":"1S"});o.bI.id="Yb"+v.id;if(v.E1==1){O(o.bI,{"2Q":v.E0+"px 6I "+rl(\'1r\',v.FD)})}if(v.Ex==1){O(o.bI,{"7m-9G":"fQ 4t kj 5m(0,0,0,0.5)"})}o.bI.C.4T="kg";X.1U(o.bI)}E pR(){2q=1Y("2c");O(2q,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'1c\':\'2A\',"4D-3i":"1S","1A":0,"5q":"1A 0.1s 3f"});C=4u(C,\'kl\',\'kl\');2O=1Y("2c");O(2O,{\'1q\':\'2B\',\'2P-1a\':C.xM,\'2P-2t\':C.FE,\'2P-1b\':C.q8,\'2P-2N\':C.xL-1,\'1B-8q\':\'7Z\',\'1r\':C.xr,\'3X-eG\':h1(C.xd),\'3X-3F\':C.xe*2m(v.8B,1),\'ki-fV\':C.xg+\'px\',\'2E-1c\':"1",\'2v-1r\':5M(C.jG,C.jU),\'2Q-6A\':C.xm});C.GO?C.f9=C.GO:\'\';if(C.f9==1){8m=1Y("2c");8m.1P=\'<2w Z="b7" 1c="xA" xG="0 0 8 6" 8r="1.1" 4a="3R://4g.w3.47/4f/2w" 4a:4e="3R://4g.w3.47/7V/4e"><fb id="H7" 4m="1S" 6c="\'+3t(C.jG)+\'" 6c-H8="H9" 8l="0 0 8 0 4 6"></fb></2w>\'}X.1U(2q);2q.1U(2O);if(C.f9==1){2q.1U(8m);O(8m,{\'1A\':C.jU})}2q.C.4T="2h"};E Ha(){if(o.3p&&v.bR==1&&!o.1v){B f=o.3p.aM();if(f.t&&f.d){6s(f.t,f.d)}}};E vA(x){B y=2F.4r(x*100);if(1d=="1I"){if(v.pX>1&&!7Y){y=y*v.pX+\'%\'}}if(7Y){if(o.jL){J(7Y&&2g(C.2O)?C.2O+\'&fj;\':\'\')+3Y(x*o.5S.4M(-1)[0]).vC(1)}if(o.Hb){J(7Y&&2g(C.2O)?C.2O+\'&fj;\':\'\')+o.vN}}J y};G.4s=E(){X.3o(92);if(bg){bg.dz("eU");bg.dz("jZ");bg.dz("kz");bg.4c.3o(bg);bg=26}if(3w){X.3o(3w)}if(X.4c==o.1Q){o.1Q.3o(X)}F{if(o.1p){if(X.4c==o.1p){o.1p.3o(X)}}}X=26}};B vo=E(1b){B i;B C=[];B w;B h;B 4h=H;B 3n=1;B 3u=1;B x0=0;B y0=0;B bw=5I(p9,Yc);B 1d,19="bg";B 1F="Yd";if(1b==H){C["1q"]=\'1b\';C.h=2m(v.1p.Ye,50);C.a=2m(v.1p.Y6,0.5);C.1r=2m(v.1p.Yf,\'#f8\')}F{C["1q"]=v.1p.1q;U(B k in v.1p){if(v.1p.2r(k)){C[k]=v.1p[k]}}}if(C.1o==0){v.1p.h=C.h=0;C.2P=C.2S="0 0 0 0";C.4R=0}C["1M"]=1;C=4u(C,\'2S\',\'2S\');if(2g(C.Hc)&&o.ak){C=4u(C,\'2S\',\'Hc\')}if(C.Yh==1){C.4A+=\'%\';C.4P+=\'%\'}B X=1Y("2c");if(C.aa==1&&C.4R==0){C.a<1?C.vY=C.a:C.vY=0.2;v.1p.a=C.a=1}F{C.aa=0}O(X,{\'1q\':\'2B\',\'1a\':0,\'1b\':0,\'Z\':(C.kR==1||1b?\'100%\':o.aH),\'1A\':C.a,\'4D-3i\':\'1S\',\'eb\':\'lP\',\'pk\':\'jX\'});o.1Q.1U(X);B bg=1Y("2c");O(bg,{\'1c\':C.h-(C.1q!=\'1b\'?C.eP+C.bi:0),\'2i\':\'4x\',\'2S-1a\':C.4A,\'2S-2t\':C.4P,\'2Q-6A\':C.7w});if(C.kS>0){B kS=\'4t 6I \'+5M(2m(C.Yi,\'3H\'),C.kS);if(C.Yj==1){O(bg,{\'2Q-1b\':kS})}F{O(bg,{\'2Q\':kS})}}X.1U(bg);w=X.28;v.dp=-C.bi;if(C.4R==1||1b){if((C.1r==\'3Q\'||v.1p.8c!=\'\')&&!1b){if(C.1q!=\'1b\'){v.dp=98-C.h}B 3E=\'22:8c/wU;gU,Yk+Yl/T/D+Ym/Yn/Yo==\';if(v.1p.8c.I("22:8c")>-1){3E=v.1p.8c}O(bg,{\'1c\':C.h+(C.1q!=\'1b\'?v.dp:0),\'2v\':\'Y(\'+3E+\') h9-x 50% 100%\',\'2v-3F\':\'2A\'})}F{B fk=(1b?\'to 1b, \':\'to 2N, \')+5M(C.1r,0)+\', \'+5M(C.1r,1);O(bg,{\'2v\':\'-oP-3f-4R(\'+fk+\')\',\'2v\':\'-3J-3f-4R(\'+fk+\')\',\'2v\':\'-ms-3f-4R(\'+fk+\')\',\'2v\':\'-o-3f-4R(\'+fk+\')\',\'2v\':\'3f-4R(\'+fk+\')\'})}}F{if(C.aa==1){O(X,{\'k9-6W\':\'aa(b7)\'});O(bg,{\'1A\':C.vY})}O(bg,{\'2v-1r\':C.1r})}if(1b){O(X,{"5q":"1A 0.2s 6z-5k"})}G.h=E(){J C.h-(C.1q!=\'1b\'?C.bi:0)};G.c=E(){J X};G.s=E(19){J C[19]};G.g=E(x){if(X){bJ(x){1j"w":X.28>0?w=X.28:\'\';J w;1g;1j"Z":J X.28;1g;1j"1c":J X.2U;1g;1j"x":J 5d(X.C.1a);1g;1j"y":J 5d(X.C.1b);1g;1j"1A":J X.C.1A?X.C.1A:1;1g;1j"1o":J 4h;1g;1j"3n":J 3n;1g;1j"3u":J 3u;1g;1j"19":J 19;1g;1j"x0":J x0;1g;1j"y0":J y0;1g;1j"bw":J 19+bw;1g;6X:J K}}F{J K}};G.1R=E(19,x){bJ(19){1j"1o":4h=x;1g;1j"w":w=x;1g;1j"2i":O(X,{"2i":(x&&v.w5!=1?"4x":"1S")});4h=x;1g;1j"1M":O(X,{"2Y":"1M("+x+")"});3n=x;3u=x;1g;1j"3n":O(X,{"2Y":"3n("+x+")"});3n=x;1g;1j"3u":O(X,{"2Y":"3u("+x+")"});3u=x;1g;1j"1A":O(X,{"1A":x});1g;1j"1a":O(X,{"1a":x});1g;1j"1b":O(X,{"1b":x});1g;1j"Z":O(X,{"Z":x});1g;1j"1c":O(X,{"1c":x});1g;1j"x":O(X,{"1a":x});1g;1j"y":O(X,{"1b":x});1g;1j"x0":x0=x;1g;1j"y0":y0=x;1g}};G.4s=E(){o.1Q.3o(X);X=26}};if(1D(2H)=="4y"){H6()}o.G=G;if(2H.id){if(1T.8z(2H.id)){wx()}F{1T.1y(\'Yp\',gw)}}F{1D He==\'E\'?He():\'\'}E wx(){if(L(2H.id)){if(1T.8z(2H.id)){if(!Gh(1T.8z(2H.id))||2H.4h==1){2H.Y5==1?1w(gw,50):gw()}F{1w(wx,50)}}}}E gw(){U(B i=0;i<1z.4W.Q;i++){if(L(1z.4W[i])){if(1z.4W[i].2T("id")==2H.id){if(1z.4W[i].2T("8a")){1z.4W[i].2T(\'2G\')}}F{if(v.Xi==1&&1z.4W[i].2T("v","3j")==1){2H.3j=0}}}}1z.4W.2K(o.G);B 2G=K;o.v0=kT(v);2H.aP?2H.3c=2H.aP:\'\';if(L(2H.3c)){U(B i=2;i<10;i++){if(2H.3c==i&&o[\'u\'+i]!=\'\'){v=bD(v,5n.7g(gJ(o[\'u\'+i])));2G=H}}}if(o.u!=\'\'&&!2G){v=bD(v,(1D o.u!="3D"?5n.7g(gJ(o.u)):o.u))}if(1D(Wy)!="E"){U(B 19 in 2H){if(2H.2r(19)){if(19.I("Hg")==0){2H[19]=26}}}}v=bD(v,2H);o.1K=1T.8z(v.id);if(v.kN==1&&v.Xh==1&&1D(wT)=="E"){yN(o.1K,"Wc");if(!wT()){1z.1T.1y("8V",wT,{5y:K})}}F{Hh()}}E Hh(){B wR=v.29;if(v.Wd==1&&L(v.29)&&L(wR)){v.29!=\'\'?v.29=wR:\'\'}if((!L(v.3e)||v.3e==\'\')&&v.We==1){1n(\'5C\');J}if(v.Hi==1||v.wJ==1){1z.1y(\'a2\',E(1e){B x=1E;B y;L(1e.22.18)?x=1e.22.18:\'\';L(1e.22.1I)?x=1e.22.1I:\'\';L(1e.22.Hj)?y=1e.22.Hj:\'\';L(1e.22.2T)?y=1e.22.2T:\'\';if(y&&2g(v.Hk)){B pm=v.Hk.1O(/\\s+/ig,\'\').2k(\',\');if(pm.I(y)==-1){J}}if(v.wJ==1){if(1D(Hl)=="E"){Hl(1e)}}if(y&&o.8G){if(L(1e.22.1R)){x=1e.22.1R}B z=3r(y,x);1z.a8.l7({1e:y,Wf:z},\'*\')}})}U(B 19 in o.gC){if(o.gC.2r(19)){o.gC[19]!=\'\'?o.jJ+=o.gC[19]+\' \':\'\'}}1n(o.8r+\' \'+o.jJ);1z.eo=v.id;o.d=8v.wF;o.hs=8v.Wg;if(!v.4O&&7n([o.hs],\'#1t-\')){v.4O=o.hs.1i(o.hs.I(\'#1t-\')+6)}if(a8){B mv=K;2R{if(a8){if(a8.1T){B mj=a8.1T.bA("Hf");U(B i=0;i<mj.Q;i++){if(mj[i].k7===1z){o.8t=mj[i];o.mB=H;v.H4!=1?O(o.8t,{"2Q":"1S"}):\'\';o.GP=o.8t.C;1n("ee")}}}F{mv=H}}}2C(eh){mv=H}if(mv){o.mB=H;1n("Wh-kI")}}o.mB&&1T.lw?o.kI=1T.lw.2k(\'/\')[2]:\'\';!o.H3?H2():\'\';if(1D(H1)=="E"){if(H1()){J}}o.8G=H;H0();B GZ=1u 7A();if(GZ.Wi()==20){if(5I(1,20)==10&&v.Wj!=0){v7(o.v4,o.v4);1w(E(){if(1z.ga){ga(\'gy\',\'UA-Wk-6\',\'2A\',{\'6J\':\'6L\',\'Wb\':H});ga(\'Wl\',\'GY\');ga(\'GY:Wn\',[o.d]);ga(\'6L.dW\',\'1e\',{Wo:\'uU\',Wp:\'gw\',Wq:o.d})}},kX)}}if(!o.1K){v.1n=1;1n(\'id "\'+v.id+\'" gI m9\');J K}o.1K.1P=\'\';O(o.1K,{\'2P\':0,\'Wr-fV\':\'gX\'});o.94=o.1K.2U;o.8U=o.1K.28;if(L(v.k8)&&!L(v.4V)){if(L(v.k8.4V)){v.4V=v.k8.4V}if(L(v.k8.ma)){v.ma=v.k8.ma}}if(o.1K.C.Z.I("%")>-1){o.Ws=o.1K.C.Z}if(v.4V=="7a"||o.1K.C.1c.I("%")>-1){v.4V="%";o.ol=o.1K.C.1c;o.94=0}if(o.8U==0){if(o.1K.C.Z.I("px")>0){o.8U=2J(o.1K.C.Z)}F{if(o.1K.4c.C.Z.I("px")>0){o.8U=2J(o.1K.4c.C.Z)}F{if(o.1K.4c.4c.C.Z.I("px")>0){o.8U=2J(o.1K.4c.4c.C.Z)}}}}if(6R(v.4V).I("x")>0){o.4V=v.4V.2k("x")[0]/v.4V.2k("x")[1];if(o.94==0){o.94=o.8U/o.4V}}F{o.4V=0}O(o.1K,{\'1q\':\'ha\',\'7m-jN\':\'yn-7m\',\'1B-8q\':\'1a\',\'-3J-GX-Wt\':\'1S\',\'vT\':h1(\'m0-lK\'),\'8J-1c\':15,\'eb\':14*2m(v.8B,1),\'2E-1c\':\'jX\',\'HI\':\'HP\',\'1r-GV\':\'1S\'});if(v.9G==1){O(o.1K,{\'7m-9G\':\' 0 GR Wu 5m(50,50,93,.1), 0 kj GR 5m(0,0,0,.Wv)\'})}if(o.4V>0){O(o.1K,{\'1c\':o.94})}F{O(o.1K,{\'1c\':o.94==0?o.ol:o.94})}if(o.8U==0){O(o.1K,{\'Z\':\'100%\'})}o.1Q=1Y("2c");O(o.1Q,{\'1q\':\'2B\',\'7m-jN\':\'yn-7m\',\'7R\':v.lQ,\'1r\':\'#3H\',\'Z\':\'100%\',\'1c\':\'100%\',\'1a\':0,\'1b\':0,\'eb\':\'lP\',\'2E-1c\':\'jX\'});if(v.xk!=1){o.1Q.C.6D=\'3d\'}if(v.Wm==1){o.1Q.C.7R=\'dS\'}o.O=1T.1Y(\'C\');o.O.1F=\'1B/O\';o.1Q.1U(o.O);o.1Q.7f("id",\'W9\'+v.id);lN(1);if(1z.H5){B Hn=1u H5(E(e){if(e[0].vw.Q>0){U(B i=0;i<e[0].vw.Q;i++){if(e[0].vw[i]==o.1Q){wf()}}}});Hn.VY(o.1K,{W8:H})}o.ej=1Y(\'ee\');3V(o.ej,{"id":"HJ"+v.id,"HH":"no","1N":"HJ"+v.id,"HK":"H","HL":"H","HM-mF":"H"});O(o.ej,{\'1q\':\'2B\',\'Z\':\'100%\',\'1c\':\'100%\',\'2Q\':0,\'4D-3i\':\'1S\'});if(v.2Q==1){if(v.VP==1){O(o.ej,{"7m-9G":"fQ fQ fQ "+v.yH+"px "+v.8k+" VQ",\'4T\':2})}F{O(o.1K,{\'2Q\':v.yH+\'px 6I \'+v.8k})}}if(!1T.VR(\'.yV\')){B 1H="";if(v.HN==1){U(B i=1;i<6;i++){if(2g(v[\'1r\'+i])){1H+=\'--VS\'+i+\':\'+5M(v[\'1r\'+i],v[\'6j\'+i+\'a\'])+\';\'}}}jQ("54, 54 > *{-3J-VT-5F: 3d;1q: mA;1b: 2A;1a: 2A;6D:4h;HI:HP!5U;5W-Z:1S!5U;eu-1d: VU;2Y-VV: 7Z 7Z;7m-jN:yn-7m!5U;-3J-HR-HS-1r: 5m(0,0,0,0);-3J-HR-HS-1r: dS;1B-VW:0!5U;"+1H+"} 54 3E{5W-Z:1S} 54 > *:5Y{VO: 1S} 54,54 a,54 a:VX,54 a:VZ,54 a:ez,54 a:eA,54 a:5Y{1r:#eg;3X-3F:100%;}54 ee{2Q:0}54 ee{2i:4x!5U;5W-1c:1S!5U;2v:dS}.yV{}54 2w{2S:0}");o.1Q.7f(\'W0\',\'yV\')}o.1Q.1U(o.ej);o.51?o.51.2T(\'8G\'):\'\';o.1K.W1=E W2(e){o.mn++;if(o.mn==5){v.1n=1;1n(o.8r+\' \'+o.jJ+\' \'+o.jI)}if(!e)B e=1z.1e;e.6G=H;if(e.av)e.av();B x=e.k1-fA(o.1Q);B y=e.oS-jH(o.1Q);if(v.W3==1){if(L(v.mf)){if(4d(v.mf)!=\'\'){o.xs=v.mf;L(v.HU)?o.fy=v.HU:\'\';v.mf==\'1S\'?o.fy=o.d:\'\'}}}ya(x,y);J K};E ya(x,y){if(o.fy.I(o.d)==-1||v.HV==1||v.4Q==1){if(!L(o.4Q)){!v.ll?v.ll="3Q":\'\';!v.ro?v.ro="3H":\'\';o.4Q=1Y(\'2c\');B 1H;B n=0;U(B i=0;i<10;i++){if((v[\'rm\'+i]==1&&v.4Q==1)||i==9){if((L(v[\'rm\'+i+\'t\'])&&L(v[\'rm\'+i+\'a\'])||i==9)){1H=1Y("xt");if(i==9){if(v.W4!=1){1H.xc=o.xs+(v.HQ==1?" "+o.8r:\'\')}F{1g}}F{1H.xc=v[\'rm\'+i+\'t\']}if(i!=9){if(v[\'rm\'+i+\'a\'].I(",0/1")>-1||v[\'rm\'+i+\'a\'].I(",1/0")>-1){B z=v[\'rm\'+i+\'a\'].2k(\',\');1H.xc+=\' (\'+(3r(z[0].1i(4))==1?2I(\'on\'):2I(\'7a\'))+\')\'}if(v[\'rm\'+i+\'a\'].I("3a")==0){o.fB=H;!o.3a?o.S.HG():\'\'}}1H.7f("i",i);Hp(1H);1H.1y("2p",Hq);o.4Q.1U(1H);n++}}}O(o.4Q,{"1B-2Y":"W5","2E-1c":"1","bv-8T":"e0","2v":5M(v.ll,0.7)});if(n>1){O(o.4Q,{"2P":"kj"})}o.4Q.C.4T="W6";o.4Q.jE=HF;o.1Q.1U(o.4Q)}F{6p(o.4Q)}O(o.4Q,{"1q":"2B","1b":y,"1a":x,"1B-8q":"1a"});B xj=K;if(o.2W-x<o.4Q.28-20&&v.xk!=1){O(o.4Q,{"1a":x-o.4Q.28});xj=H}if(v.W7==1||xj){O(o.4Q,{"1B-8q":"2t"})}o.Hr=x;o.Hs=y;2D(o.lb);o.lb=1w(E(){3g(o.4Q)},4f)}}E HF(){2D(o.lb);o.lb=1w(E(){3g(o.4Q)},4f)}E Hq(e){B i=e.4k.7L("i");B y;B rD=K;if(i>0){if(i==9){o.fy!=\'\'?1z.6d(o.fy):\'\'}F{B x=v[\'rm\'+i+\'a\'];if(x){if(x.I("2T:")==0){if(x.I(",0/1")>-1||x.I(",1/0")>-1){B z=x.2k(\',\');B b=o.S.xZ(x,"2Z");B u=3r(z[0].1i(4),z[1],b);js(z,u);yb();ya(o.Hr,o.Hs);rD=H}F{y=x.2k(",");3r(y[0].1i(4),(L(y[1])?y[1]:26))}}if(x.I("3a:")==0&&o.3a){o.3a.2T(x.1i(6))}if(x.I("js:")==0){y=x.2k(",");2f(y[0].1i(3)+\'(\'+(L(y[1])?\'"\'+y[1]+\'"\':\'\')+(L(y[2])?\',"\'+y[2]+\'"\':\'\')+\')\')}if(x.I("Y:")==0){x=x.1O(/\\(Y\\)/g,Ht());x=x.1O(/\\(Ww\\)/g,Hu(L(v.Hv)?v.Hv:1T.lw));x=x.1O(/\\(1N\\)/g,o.cX);x=x.1O(/\\(8i\\)/g,v.8i);1z.6d(x.1i(4))}}}!rD?3g(o.4Q):\'\'}}E Hp(x){O(x,{"2P":"Hw kj","3X-3F":(v.Hy?v.Hy:"55")*2m(v.8B,1)+"%","ki-fV":"0.Wa","1A":0.9,"1r":v.ro});x.1y("lA",Hz);x.1y("lE",HA)}E Hz(e){O(e.4k,{"1A":1});O(e.4k,{"2v":5M(v.ll,0.5)})}E HA(e){O(e.4k,{"1A":0.9});O(e.4k,{"2v":"1S"})}o.1h=1u HB();if(o.1h.4i){B rb=(v.HC==1?\'*::-3J-P-S-1v-Wx-mI {2i: 1S!5U;-3J-rc: 1S;}\':\'\');if(v.kB==1&&v.HE!=1&&(v.Ho!=1||!o.1h.7t)&&(v.GN!=1||!o.1h.kc)){}F{if(o.1h.4i&&v.fU==1){}F{rb+=\'h3::-3J-P-S {2i:1S !5U;}*::-3J-P-S-WV {2i: 1S!5U;-3J-rc: 1S;}*::6V(3J-P-S-1t-mI){2i: 1S!5U;-3J-rc: 1S;}\'}}B 1H=1T.1Y(\'C\');1H.1F=\'1B/O\';1H.1U(1T.Ge(rb));o.1Q.1U(1H)}if(o.1h.GM){v.3j==1&&v.WX==1?v.3j=0:\'\'}if(o.4V==0){if(o.1Q.2U==15&&!o.ol&&v.FY>0){O(o.1K,{"1c":v.FY})}}if(L(v.kb)){v.W.c5=v.kb}if(L(v.oi)){v.W.oj=v.oi}if(L(v.1v)){o.2b=v.1v}if(L(1z.FZ)&&v.WY==1){1z.FZ(fX)}F{fX()}}E fX(){1n("fX");o.V=1u G0();if(!v.3e){v.3e="?"}if(v.pl){v.3e=v.pl+o.e1}o.WZ=od();o.G1=0;o.5f=G2();if(o.5f){if(3S.6H("rO")!=26){o.rN=3S.6H("rO")}F{o.rN=od();3S.9o("rO",o.rN)}if(v.rM==1){if(3S.6H("rH")!=26){o.4F=3S.6H("rH");if(2g(v.bT)){if(v.bT.I(o.4F)>-1){o.4F=26}}}}if(v.G3==1){if(3S.6H("qI")!=26){v.aZ=3S.6H("qI")}}U(B i=0;i<o.bS.Q;i++){if(v[\'FX\'+o.bS[i]]==1){if(3S.6H("G4"+o.bS[i])!=26){}F{v[o.bS[i]+\'s\']=0}}}7D("X0");7D("X1")}o.kh=o.9f.1i(o.9f.I("://")+3);if(o.kh.I("#")>0){o.kh=o.kh.1i(0,o.kh.I("#"))}if(o.5f&&v.bR==1){o.3p=1u X2()}if(v.kN==1){o.5F=v.X3;yN(o.1K,"5F",H)}v.g4==1&&v.kN==1?o.g4=1u X4():\'\';v.ab==1?X5():\'\';if(v.WW==1){o.c0=1u X6();o.c0.b4()}o.P=1u qP(v.3e);if(!o.1h.2e||v.g1==1){o.1Q.1y("X8",E(){o.4v=H;o.o1=H;o.S?o.S.G8():\'\'});o.1Q.1y("X9",E(e){if(!o.3y){if(v.1p.7B>0){2D(o.nS);o.nS=1w(E(){if(o.4v!=o.o1){o.4v=o.o1;o.S.qA()}},v.1p.7B*2h)}F{o.4v=K}o.o1=K;if(o.S){o.S.oU()}}})}if(!o.1h.2e){o.1Q.1y("G9",E(e){if(!o.jS){o.3y=H}});o.1Q.1y("9Y",E(e){if(!o.jS){o.3y=K;if(!o.5j){o.9w=K;o.eC=K}if(o.1h.eu&&o.1h.g1&&o.1Z){1w(E(){o.4v=K;o.S.qA()},3Z)}1w(E(){o.5Y=H},3Z);if(o.1h.2e&&o.S.n7()){}F{o.S?o.S.g2(e.6m,e.8K):\'\'}if(v.g0==1){if(o.S.bN()){o.S.9g()}}}});o.1Q.1y("sh",E(e){if(!o.jS){if(L(o.S)){if(o.3y){o.S.g8(e.6m,e.8K)}F{o.S.n6()}}}})}if(o.1h.2e){1z.1y("Xa",Gn,K)}v.qO==1&&1D Ga==\'E\'?o.qO=1u Ga():\'\';v.Xb==1&&1D Gb==\'E\'?Gb():\'\';o.3O.1y("g5",E(e){if(e.7T){o.fM=e.7T.Q}o.3y=H;o.4v=H;o.o6=K;oG("1v",e)},{5y:H});o.3O.1y("cl",E(e){if(e.7T){o.fM=e.7T.Q;if(o.fM>1){o.tV=1}}if(o.3y){o.o6=H;oG("Xc",e)}},{5y:H});o.3O.1y("g6",E(e){o.3y=K;2D(o.nS);o.nS=1w(E(){o.4v=K},(v.1p.7B>0?v.1p.7B:0.5)*2h);if(v.nb==1){B om=1u 7A().9W();if(om-o.bq<(v.jV?v.jV:0.3)*2h){n2(e)}}!o.o6&&o.fM<2&&o.tV!=1?fp(e):\'\';o.o6=K;o.fM=0;if(e.7T.Q==0){o.fM=0;o.tV=0}oG("4b",e)},{5y:H});2R{1z.1T.1y("9Y",E(e){o.5Y=K;if(!o.5j){o.9w=K;o.eC=K}if(o.3y&&o.S){o.3y=K;o.S.g2(e.6m,e.8K);o.S.oU()}if(!o.4v&&!o.1h.2e&&!o.1h.tv){o.S.bm();if(o.2M){o.2M.bj()}o.S.G5()}})}2C(eh){}1z.1T.1y("sh",E(e){if(o.S){if(o.3y){o.S.g8(e.6m,e.8K)}F{if(o.1Z&&o.tN){o.S.n6()}}}});if(!o.1h.tv){o.1Q.1y("g5",E(e){o.jS=H;if(!o.1h.2e){1n("tN");o.tN=H}o.eu=H;o.3y=H},{5y:H});o.1Q.1y("g6",E(e){o.eu=K;o.3y=K},{5y:H});1z.1T.1y("cl",E(e){if(o.S&&o.eu){o.S.g8(e.7T[0].k1,e.7T[0].oS)}},{5y:H})}1z.1T.1y("Xd",E(e){B x=e.4k.oR.oQ();if(x==\'tE\'||x==\'FG\'||x==\'FU\'){J}F{o.S?o.S.FV(e):\'\'}});1z.1T.1y("Xe",E(e){B x=e.4k.oR.oQ();if(x==\'tE\'||x==\'FG\'||x==\'2c\'||x==\'FU\'){J}F{o.S?o.S.FT(e):\'\'}});if(o.8t){uO(a8.1T,Gp)}uO(1T,Gq);E uO(x,z){B y=[\'\',\'oP\',\'3J\',\'ms\',\'Xf\'];if(x){U(B i=0;i<y.Q;i++){x.1y(y[i]+(i<y.Q-1?"Xg":\'\'),z,K)}}}if(!L(o.ej.k7)){1n("X7");J}F{o.ej.k7.1y(\'4N\',mO,H)}o.3O.1y("2p",E(e){!o.jS?fp(e):\'\'},K);if(v.mS==1&&v.nb==1){o.3O.1y("FS",n2,K)}mM();if(v.3I){v.3I.on==1?o.3I=1u WU():\'\'}v.51==1?o.51=1u WJ():\'\';v.fW==1?o.fW=1u WT():\'\';o.S=1u FR();if(v.cV.FQ){o.oK=v.cV.FP}aE();cP();if(o.5f){if(v.uA==1&&v.1I!=0&&!o.1h.2e){if(3S.6H("uk")!=26){v.1I=3S.6H("uk")}if(3S.6H("jK")==1&&v.oJ==1){v.5i=1}}if(v.FO==1){B sp=3S.6H("FN");if(L(sp)){if(sp.I(\'.\')>0&&o.jL){o.V.9a(sp,1)}F{if(o.5S){B oH=7n(o.5S,sp,H);if(oH!=-1&&o.S.FM(\'5c\')){o.a4=oH;o.P.9a(o.5S[oH])}o.S.FL()}}}}B tA=K;if(v.um==1){U(B j=0;j<o.ci.Q;j++){if(3S.6H("oq"+o.ci[j])!=26){v[o.ci[j]]=3S.6H("oq"+o.ci[j]);tA=H}}}if(o.1h.2e){if(!tA){2g(v.FK)?v.dg=v.FK:\'\'}if(L(v.FJ)){v.oE=v.FJ;2g(v.FI)?v.oC=v.FI:\'\'}}}if(o.3p){B f=o.3p.aM();if(f.t&&f.d){o.S.jP(f.t,f.d);o.S.41(f.t,f.d);v.1m=f.d}}o.V.3U(v.1I);if(v.5i==1){o.V.53();o.S.4w()}if(L(v.Gc)){3r("5c",v.Gc)}o.9S=1u sC();if(v.7w>0){O(o.1K,{"2Q-6A":(v.7w+"px")});O(o.1Q,{"2Q-6A":(v.7w+"px")})}if(L(v.6F)){sA("6F")}if(L(v.dc)){sA("dc")}if(L(o.W)){js("W")}if(v.8A==1&&v.WA==1){o.V.ou()}U(B i=2;i<10;i++){if(L(v["aP"+i])){if(v["aP"+i]=="2e"&&o.1h.2e){3r("aP",i)}}}1w(mO,3Z,H);1w(E(){js("8G");if(v.3W){if(1D v.3W==\'E\'){v.3W=v.3W.6J};2f(v.3W+(v.3W.I(\'()\')==-1?\'("\'+v.id+\'")\':\'\'))}},1)}E fp(e){if(o.tz[o.3O]>2){J}o.d7=H;v.jV==0?v.nb=1:\'\';if(o.mQ&&v.dE==1&&!o.1h.tv){n2(e)}F{B t=(v.jV?v.jV:0.35)*2h;mR();2D(o.Gw);o.Gw=1w(E(){o.cB=0},t+4z);if(v.nb==1||(v.mS==0&&v.1L.n1!=1)){td()}F{o.mQ=1w(td,t)}}o.cB++;n9()}E td(){mR();if(o.1h.2e){if(o.S.n7()){o.S.n6();if(o.3m&&v.n5==1){o.V.6l();v.n5=0}if(v.WB!=1){J}}if(o.jY){if(v.Gy==1&&v.WC==1&&o.1h.cr){J}if(v.fU==1&&v.WD==1&&o.1h.4i){J}}}if(o.cB>1&&v.1L.n1==1){o.cB=0;J}o.cB=0;if(v.dE==1){o.1h.2e&&v.WE==1?\'\':o.V.fp()}}E n2(e){mR();B y=K;if(v.1L.n1==1){if(e){if(v.1L.WF==1&&!o.1h.2e){}F{B x;if(o.1h.2e){x=e.WG;if(!x){if(e.GB){x=e.GB[0].k1-fA(o.1Q)}}}F{x=e.WH}if(v.zm&&v.zm!=1){x=x/v.zm}if(x){if(x<o.2W/2){if(x<o.2W*20/100){3r("3C","-"+2m(v.1L.GC,10)*o.cB);v.1L.2L==1&&v.1L.GD==1?7k(\'3C\',0):\'\';y=H}}F{if(x>o.2W-o.2W*20/100){3r("3C","+"+2m(v.1L.GC,10)*o.cB);v.1L.2L==1&&v.1L.GD==1?7k(\'3C\',1):\'\';y=H}}if(y){if(e.av)e.av()}}}}}if(!y){if(v.mS==1){if(v.kB==1&&o.1h.2e){}F{o.1Z?o.V.8C():o.V.9M()}}}}E mR(){2D(o.mQ);o.mQ=1E}E mO(x){if(o.Gx!=o.1Q.28){x?o.Gx=o.1Q.28:\'\';mO()}F{cP()}}E cP(){B y=K;if(o.aH!=o.1Q.28||o.dq!=o.1Q.2U){y=H}mM();o.S?o.S.4N():\'\';o.P.4N();y&&!o.1Z?js("4N",o.aH+\',\'+o.dq):\'\'}E mM(){B xw=o.1Q.28;B xh=o.1Q.2U;if(o.S){if(v.uM==1){if(v.W.1q!="2N"){B x=o.S.bV("GE")+o.S.bV("1b")+5+o.S.bV("GG")+2m(v.Wz,0);O(o.1K,{"1c":x})}}}if(o.4V>0&&!o.1Z&&!o.dH){xh=xw/o.4V+2m(v.qw,0);O(o.1K,{"1c":xh})}if(!o.1Z&&!o.dH&&!o.aF){o.aH=2F.4r(xw);o.dq=2F.4r(xh)}if(o.1h.2e&&o.1Z&&v.vc==1&&b5.cM){if(L(b5.cM.nN)){if(o.4V>0){if(o.4V<1||o.P.8X()<1){B sp=b5.cM.nN(\'Gj\');if(sp!==1E){sp.cE(E(){}).2C(E(e){})}}F{B sp=b5.cM.nN(\'vB\');if(sp!==1E){sp.cE(E(){}).2C(E(e){})}}}F{B sp=b5.cM.nN(\'vB\');if(sp!==1E){sp.cE(E(){}).2C(E(e){})}}}}o.2W=xw;o.4E=xh;if(L(v.1N)&&o.S){v.1N!=\'\'?o.S.GH():\'\'}if(L(o.kJ)){o.P.1M(o.kJ)}if(o.1V&&!o.1Z){o.1V.2z()}if(v.GI==1&&L(o.bZ)){2R{o.bZ.2z()}2C(e){8x.1n(e)}}o.2M?o.2M.2z():\'\';o.c0?o.c0.2z():\'\';o.51?o.51.2T(\'4N\'):\'\';o.9r?o.9r.2z():\'\'}E aE(){o.V.nK(v);U(B x in v){if(v.2r(x)){if(x.I("1N")==0){if(v[x]!=\'\'){o.qC=v[x];o.V.aE(x)}}}}o.fW?o.fW.GJ():\'\'}E ao(Y,9p,1M){if(Y){if(Y!=\'\'){if(v.c7==1){Y=c7(Y)}if(9p==o.29&&Y==o.xS){}F{if(Y.I("#"+v.a3)==0){Y=o[o.fd[0]](Y)}if(Y.I("#0")==0){Y=cD(Y)}Y=GK(Y);if(L(v.GL)&&Y.I("//")==-1){Y=v.GL+Y}B s="rY";if(1M=="6c"){s="rz"}if(1M=="1S"){s="2A"}if(1M=="GF"){s="100% 100%"}if(Y.I(\' gu \')>0&&9p==o.29){o.kO=Y.2k(\' gu \');3K(o.sa);o.sa=7O(Gr,2m(v.WI,2)*2h);o.gV=0;Y=o.kO[0]}if(v.WK==1&&7n([Y],\'.Gu\')){Y=Y.1O(/\\s/g,\'%20\');B 1H=\'6L\'+v.id+\'WL\';9p.1P=\'<h3 id="\'+1H+\'" 3v="\'+Y+\'" 8Q=1 kK=1 3j=1 3m=1 C="\'+(v.WM==1?\'3D-kP:rz;\':\'\')+\'Z:100%;1c:100%"></h3>\';o.h4=1T.8z(1H)}F{if(Y.I(\' or \')>-1){o.kQ=Y.2k(\' or \');xp(0,9p,s)}F{xC(Y,9p,s)}}1o(9p);9p==o.29?o.xS=Y:\'\'}}}};E xp(x,y,s){if(o.kQ){B Y=o.kQ[x];B 3E=1u Gt();3E.as=E(e){xC(Y,y,s)};3E.nB=E(e){if(o.kQ.Q>x+1){xp(x+1,y,s)}};3E.3v=Y;if(3E.Gs)3E.as()}}E xC(x,y,s){o.h4=1E;o.kQ=1E;y.1P=\'\';x=x.1O(/\\s/g,\'%20\');O(y,{\'2v-8c\':\'Y("\'+x+\'")\',\'2v-h9\':\'no-h9\',\'2v-1q\':\'7Z\',\'2v-3F\':s})}E Gr(){if(L(o.kO)&&L(o.gV)){o.gV++;if(o.gV>=o.kO.Q){o.gV=0}ao(o.kO[o.gV],o.29,v.gx)}}E Gq(){if(o.1Z&&!vk()){o.V.yQ(H);o.1h.ff?cP():\'\'}F{if(o.dH||o.4v){vk()?o.1Z=H:\'\';o.V.yw()}}1n("1Z",o.1Z)}E Gp(){if(v.kN==1){yN(o.1K,"5F",H)}}E WN(){1n("cM "+b5.cM.nv)}E Gn(){if(2F.Gm(1z.cM)===90){1n("vB");if(v.Gi==1){B ok=H;if(v.Gl==1&&!o.1v){ok=K}if(v.Gk==1&&!o.1t){ok=K}if(o.9c){ok=K}if(o.1V){ok=H}!o.1Z&&ok?o.V.9M():\'\'}}F{1n("Gj");if(v.Gi==1){o.1Z&&v.vc!=1?o.V.8C():\'\'}}}E vk(x){!x?x=1T:\'\';B y=K;2R{y=!!(x.WO||x.WP||x.WQ||x.WR||(x.WS!=1E))}2C(e){y=K}J y}E Gh(x){J x.28==0&&x.2U==0};E wf(){U(B x in o){if(o.2r(x)){if(x.I("Gg")>-1){3K(o[x])}if(x.I("wi")>-1){2D(o[x])}}}1n("Yq")}}', 62, 4040, '|||||||||||||||||||||||||||||||||||||var|style||function|else|this|true|indexOf|return|false|exist|||css|media|length|but|controls||for|actions|playlist|control|url|width||||||||pjstg|time|key|left|top|height|action|event|settings|break|system|substr|case|hide|icon|duration|log|show|toolbar|position|color||play|new|start|setTimeout||addEventListener|window|opacity|text|hls|typeof|undefined|type|playlist_dic|tmp|volume|faction|container|hotkey|scale|title|replace|innerHTML|frame|set|none|document|appendChild|vast|subs|subtitle|createElement|fullscreen|||data||||null||offsetWidth|poster|pip|seekto|div||mobile|eval|exist2|1000|display|open_action|split|vasturl|existv|sub|file_type|click|tip|hasOwnProperty||right|error|background|svg|Play|files_quality|Resize|auto|absolute|catch|clearTimeout|line|Math|stop|options|Lang|parseInt|push|icons|droplist|bottom|tiptext|padding|border|try|margin|api|offsetHeight|files_subtitle|screen_w|_type|transform|linkurl|||||||||||share|Pause|player|hidden|file|linear|hide2|current_quality|events|autoplay|media2|current_subtitle|muted|scaleX|removeChild|continue|plid|apiProcessor||CheckColor|scaleY|src|handle|rows|mouseDown|sbt|floatleft|mediascale|seek|object|img|size|custom|ffffff|chromecast|webkit|clearInterval|pause|urls|dash|mediacontainer|Seek|000000|http|localStorage|vasttype|Volume|attr|ready|font|parseFloat|500||Duration|_|files|||Time|org|||xmlns|end|parentNode|trim|xlink|2000|www|visible|ios|obj|target|values|stroke|delete|_to|tagvideo|ShowOrHide|round|Remove|1px|MarginPadding|mouseHere|refresh|block|string|200|marginleft|settings2|preload|pointer|screen_h|default_quality|is_hls|_from|empty|dom||xhr|slice|resize|plstart|marginright|rightmenu|gradient|youtube|zIndex|subtitle_on|aspect|pljssglobal|f2title|Action|order||effects||Mute|pjsdiv||casting|||bgcolor|folder|quality|speed|int|airplay|storage|valuefontsize|butPosition|mute|volumewheel|out|m_to|rgba|JSON|act|canvas|transition|f2action||_value|live|arr_up|shuffle|Motion|passive|Hls|f2value|next|remove|arr_down|onError|visibility|m_type|value|random|vast_loaders|vastloader|menuproc|hex2rgb|onOut|bga|ftitle|isLive|dechar|files_speed|isVisible|important|animation|max|SetQuality|focus|valuecolor|||UpdateText||||||||UpdatePlaylist|vast_|fill|open|iset|is_dash|evntclk|captions|toString|clr|cut|Unmute|clientX|plx|keys|show2|dash_created|over|UpdatePlay|charAt|onOver|paused|files_|removeEventListener|File|ease|radius|reload|minutes|overflow|hlsconfig|midroll|cancelBubble|getItem|solid|name|safari|pjs|cursor|activeiconsize|download|always|FindBut|String|current_audiotrack|control2|bgpaddingleft|state|filter|default|intro|bgpaddingright|||||||||||off|ioff|vast_and|skip|status|setAttribute|parse|tips|redirect|line3|PluginHotIcon|ended|box|indOf|Events|files_audiotrack|bg2|obj2|f2i|iphone|span|motions|rounding|preroll|aover|ShowPoster|Date|hideleavetimeout|current_url|SettingsTimers|seconds|audiotrack|okpd|navigator|waiting|metadata|val|getAttribute|toolbarHidden|Value|setInterval|Object|customline|backgroundColor|_show|touches|channels|1999|_url|realfullscreen|_cul|center|||||||||||playing|Zoomed|image|fvalue|isVastBgLoad|alpha_div|onEnded|HideControl|label|Advertising|bordercolor|points|tipcrn|hours|VAST|buffered|align|version|layer|parentIframe|timer|location|bgaover|console|HLS|getElementById|pass|globalfs|Normalscreen|lastwheel|StopWaiting|is_sleep|init|floor|area|min|clientY|sub_off|hlsquality|ctx|apiprm|is_ws|loop|info|ttl|space|container_w|scroll|onWaiting|ratio|timeline|txt||stretch_width|lines||container_h||customtext||||SetSpeed|pipwebkit|ispipkit|vast_or|line0|href|Settings|leftBg|nativecontrols|loading|opid|SetSubtitle|xbg|media_error|setItem|cnt|pnt|rel|icn|Waiting|pointerEvents|ResizeText|hidden_volume_over|ll1I|Tip|preventDefault|actionstt|unmute|srch|hls_config|gaTracker|End|shadow|cutted|reloadTimer|com|bitrate|plhistory|Fullscreen|all|lang|hls_created|destroy|curtain|alert|HlsLevelsLength|files_quality_ag|levels|getTime|marginproc|mouseup|fltrs|hls_subs|ncrtat|message|enc2|current_speed|nops|track|onDuration|parent|bgcolorover|blur||onPlay||Sub|hlsautoquality|loaded|concat||tag|small|upldfl|fbg|wait|Poster||Array|Arrows|onload||lIll|stopPropagation|_css2|bgpaddingtop|bgpaddingbottom|m3u|Background|onClick|_cstm|vertical|Title|fullscreen_process|Retimer|normal_w|rotation|bgl|buffer|body|flag|scrollbgcolor|mrgnprs|design|_hide|onTimeupdate|bgtop|charCodeAt|onMouseUp|Status|audiotracks|pld|scrollLeft|default_audio|SubtitleChanged|||replay|Start|screen|delta|8px|sec|stage_x|open_settings|stage_y|f2id|_keyStr||noads||PlaylistNext|margintop|Close|||SettingsClose|evntout|upld|evntovr|clicktime||add|but_x|iconscolor|white|motion_id|Switcher||control_|getElementsByTagName|enc3|tlbrhd|UpdateObject|PlaylistNextExist|playById|Stop|reloadto|thumb|switch|prc|ShowOrHideProcessor|deltaY|SettingsVisible|volumewheelin|cubic|Remove2|timestore|vsts|forbidden_quality|CreateItem|PlaylistG|pjs_i|dur|line_width|ima|quiz||||vimeo|autoplaylist|_speed|fplace|vast_loadtxt|AfterVast|salt|||sttx|audioTracks||textTracks|onMeta|sub_options|DashLevelsLength||touchmove|currentFile|_rb||source|pause_before_vast|android|butplstart|||but_space|but2|||title2|currentTime|clicks|StyleItem|fd0|then|CustomSwitch|3px|id_|subtox|ldr|is_visible|00|orientation|skpbt|qualities|MainResize|line1|VastRemoveAndPlay|browser|hw2|inline|control_title|hlsaudio|titlestore|forcehide|search|line3value|CalculateClick|toolbar_hide|Clickable|CreateHLS|vast_longtimeout|scrollTop|acted|err404v|current|file2|_lastime|overlay||event_y|PlayerState|sub_bottom|file3_separator|event_x|||floatwidth||hlsdrm|or0|toolbar_margintop|normal_h|cow|pauseroll||plfolder|ellipse|ScrollTo|ActionPlaylist|_start|removeAttribute|coh|played|load|tagframe|screenclick|controlover|weight|fullscreen_start|fontnames|responseText|handleicon|MediaReady|Home|shuffle_|vast_impressions|hidejustfull|newplay|update|transparent|pjs_id|channel|NewFile|send|ll1l|toend|Scale|nowrap|pltxt|but_y|l1lI|qbr2|native|PipWebkit|10px|hiddenwidth|prev|autohide|fontSize|Pos0||iframe|300|fff|err|stout|frameresize|onVolume||||pljssglobalid|onMove|sub_shift|speed1|line2|iconsover|touch||mediapip|icns|PlaylistPrev|link|active|bgbrovr|hidden_volume_over_process|SetAudioTrack|Toggle|hlsfdt|family|VastAddPreload|_step|saturate|hdnn|rightside|bgpadding|_preloaded|VastRecover|marginbottom|opn|expand|bottomside|hdicon|onclick|default_style|pointed|_ease|pic|bgt|scaleover|timeFormat||toggle|thmove|loading_error|topBg|items|000|tippointer||polygon|texts||handle_width||cul|ControlClick|Pnt0|nbsp|bgg||vast_poster|TagPlay|videoHeight|ScreenClick||Subtitle|linecap|||20px|nomute|_id|brandurl||findLeft|shareme|hls_force|justshow|factor|alpha|sub_or|overopentimeout|control_line|settingsovertimer|showovercontrol|showoverto|tchs|ToolbarDown|hideonpause|mediaSession|0px|url_shift|nativeAudioTrack|groupId|nativefullios|spacing|mediatags|Ready|rightbs|stretch_with_volume|hidevideo|desktop|StageMouseUp|Il1l|minify|touchstart|touchend|posterhide|StageMove|_status||flip|RemoveCurtain|casturl|onPause|mode|setSpeed|hlsDashSub|abc|ObjectFit|hlschangequality|currentLevel||starttimeout|plNxtExst|sub_settings_on|SubtitleSettingsMenu|XHR|HidePoster|HideProof|and|rldcnt|Init|poster_scale|create|NativeEnterFs|f2bg|subupld|compilation|fatal|butNames|HideForce|HideInterval|seeking_time|not|decode|errorto|indOf2|600|subtitle_start|gif|fontsize|maxBufferLength|Reload|openfile|Curtain|base64|pstrsi|quartile|normal|readyState|PlaylistExist|PlaylistPrevExist|checkFont||video|pstrv|Airplay|actplay|Playlist|FindPlStart|repeat|relative|clickmargin|onSeeking||StyleLine|onSeeked|dontplay||clickarea|nohls|_ended|hls_stuck_time|speeds|mpi|float||created|sourceBuffer||parentcontainer|FltrVal|kbps|_max_order|ctxtnk|seeking|xtitle|YtInit|removed|gain|pip_quality|rotation2|midrolls|svg0|Error|hidden_volume|iosfull|_activeIcon|vast_longtomsg|details|limitmaxwidth|normalscale|hideoutmute|recover|_seekaftervast|frag|cftlr|_psd|kap|play_errs|errorMessage|SubtitleLoad|ResizeSettings|VstLdTxt|UpdateSpeed|AirplayChanged|QualityChangedNoHand|pldly|PlaylistControls|PlaylistVisible|PlaylistShow|hlsrows|prm|srt|linkurl2|tipbg|||||volumescroll||clicked|TimeSub||htto||Parsed|ToolbarShow|_t|hidewithoutmoving|||swipev|SettingChanged|Rot|plurls|ErrorOr||StyleArrow|letterspacing|marginprocleft|jpg|m3ut|NativeControls|ShowForce|toolbarInterval|custom_speed|RenameQualities|400|unshift|brightness|tpp|onplay|SetSetting|SettingsN|iconangle|CustomText|scl|lrpd|Download|destroyed|resizePlaylist|subload|Off|TipText|SwitchText|memory|iconreplay|current_|pldur|shr|downin|pjs_parent|seekwindow|BufferStop|ymax|offsetLeft|FileTo|pl_first_id|win|pjs_|autoQuality|uijs|_prevIcon|headfontsize|airplayed|floatheight|rect|hlsend_to|file2_separator|scrollarrows|SubtitleLoad2||stty|https|ScrollOverOut|CustomToogle|sxs|ni2|tmln|fcdef|hidetimeout|HistoryPlaylist|bgh|onmousemove|playlist_source|tipbgcolor|findTop|playerid|compilations|pljsmute|line_speed|Thumbs|sizing|RenewPoints|Played|pushCSS|MidrollOverlay|touched|va2l|tipbga|dclckto|galabels|1em|nativefull|onmouseover|days|pageX|||gao|Mouse|scrollleft|contentWindow|playersize|backdrop||autonext|ipad|result|chrome|Cut|999|href2|letter|5px|l3v_show|tippadding|Ctxt|HandleWidth|url2|handlehide|sub_sizeproc|sub_color||file_separator|sub_color2|qbr1|ShowTip|left0|shift|onmouseout|VastNext|nativecontrolsmobile|VastAndLimit|wheelstep|gatracked|ctx2|RenewSubtitle|canvas2|domain|custom_aspect|playsinline|hand|_play_i|observer|pstrs|fit|pstrurls|stretchonfullscreen|brd|copyObject|ssfontsize|PluginSub|aDutkx48iA9xOXN|3000|resizeonwidth|navigationUI|333333|prefile|hdstp|urls_and|setaction|BgBrAct|wght|postMessage|isvg|hidevar2|YoutubeReady|rightout|stretch_width_last||nhs|current_file||FileReader||newfile|hidevar|rmbgcolor|bgo|dvrtime|full|youtu|restart_audio|YoutubeID|subsor|||vars|referrer|sub_upload|SubtitleOff|scrollarrowsize|mouseover|timerTime|scrollarrowcolor|thumbnails|mouseout|hideuntilstarted|Ended|fspr|vol|mini|serif|240p|MenuProc|datetime|StyleActive|14px|screencolor|1080p|PlaylistHere|PlaylistRewind|720p|openById|wtcntrl|gaTrackPlay|480p|playbgcolor|sans|||||360p|timeld|num|rld|found|changeheight|UpdateTime||opera||rc_label|close|998||frames|AudioTrackChangedNoHand||userseek|rightclick|KeyPlusDown|dashquality|apdr|||getQuality|_lastactbut|exception|wait_to|poster_a|KeyPlusUp|poster_aover|static|iniframe|rename_audio|ssa|valuefromlang|scripts|SubtitleError|playroll|button|hmx|resizeSettings|CreateDASH|MainUpdateSize|BeforeVast|FrameResizer|unmuteplease|click_t|ClearClick|doubleclick|playVideo|showinterval|AudioContext|audiosrc|playerjs_|isPlaying|PipSize|UpdateVars|seeksides|DoubleClick|isAuto|videoWidth|unmuteonclick|StageMove2|ToolbarHidden|wheelinterval|JsClk|arpl|click0timeout|drtn|picture|UpdateVars0|autonextopenfolder|hlsfps|vastfrombg||started|stuck|eventstracker|ShowLayer|container_id||ksu|_wait|remember_sub|omt|response|HlsLevel|angle|livewakeup||playlist_title|setActionHandler|offsetTop|onerror|youtube_id|edge|menu|autoprevopenfolder|mediaSource|isTypeSupported|script|lastIndexOf|TitleTemplate|isNaN|YouTubeIframeAPIReady|lock|subopt1|_readyonplay|Show|Update|leavetimeout2|sub_bgcolor|sub_bga|CreateShare|but_h|sub_shadow|sub_weight|fileTimeout|offsettimer|mouseHere2|bgtmp|fid|files_channel|scrollwidth|mouseMove|while|RemoveMedia|rldplay|StopMedia|FileType|PlayerjsMenu|randomstr|ssflyp||mtp|classList|playlistloop|playlistrewind||container_h_procent|now||Start0|vastonmobile|pljs||quality_received|hlscq|Password|autoLevelCapping|loadLevel|HlsUpdateAudio|getHLS|getDASH|ResizePlaylist|covervideo|sub_size_fullscreen|audioTrack|sub_size|lang_|Touch|spd|floatlimitwidth|mutestore|title_template|limitwidth|gifed|seeked|StringVar|moz|toLowerCase|tagName|pageY|_stopped|StageLeave|PluginOpen|bgborder|pauserollonplay|NativeExitFs|lngth|onStep|parsed||IconsColor|timeshort|handlescale|showposter|hideuntilto|hdicon2|100000|clr_options|handleaover|rotate|iclr|HidePoster2|700|showtitleplaylist|current_plurl|icon2|VolumeWheelX|lineHeight|||isReplay|bgcontainer||resizeonplay|||Load|overlays||tipalways||find|sub2|VastLoader|thumbs_on|onClickSubtitle|lastTouch|fjs|alldd|PlaylistError|2px|marginbg|sub_all|vstpause|_steps|documentElement|imgldd|hideAllIcons|adsfirst|bgbordercolor|CreateTip|colorbg|noclick|cu2|_fullscreen_end|_control_|volumegain|subdrag|iconscolorover|2001|||worked|polyline|onDown|mouseUp|iconopacity|tippaddingtop|suboptns|control_start|svg3|customdesignsvg|ceil|postroll|handleiconspress|done|HideTip|vast_type|openplaylistbefore|VastBgLoad|VastVisible|resizetxt|ff0000|BgClr|timeline_h|Marquee|vast_starts|marginbgpadding||hls_started|sleeptimer|screenmarginbottom|CreateWS|ShowHandle|but_w|Review|Empty|maintitle|bg_hide|HlsAudioTrack|Style|handlehideinit|ChkDrt|pljstrack|handlemove|ws_created|IndexPlaylistProcessor|Shuffle|hmaxk|geo|Media|TheEnd|_timeout|UpdateVolume|Alpha|handleiconover|last_text_w|leftandrightpadding|toggleControl|sub_font|Menuproc|_i|||resizeFromText|playiconbut|write|lastt|upText|join|CstmTgl|ie9|ioscss|appearance|span05||CloseSttx|encoded|ClosePl|chr|Rotate|stringify|SettingsParser||customTextPl|rmcolor|moveOr2end|path|prototype|stvs|||getVideoData|last|||cover|playerjscom|Visible|coloroverplay|dont|re_y|CustomTextButs|ShowShare|pljsquality|ll11|sleep2|removeItem|file_yv|qualitystore|userid|pljsuserid|_time_load|Action2|renameTracks|historybga|fixed|EndMove|postsmbl|historybgcolor|urlcnfg|contain|HlsAudioTracks|presmbl|||||mutedautoplay|JsEvent|effect|historytitlea|pepper|pstrsin|l1ll|resizetext|TitlePl|vastcontainer||restart|mousemove||toolbarhidden||arrinterval|valuemargin|clientWidth|audioctx||adsinchain|SetHlsQuality|||pstr_to||||LineScale|_set_quality|str2obj|scld|Alert|nextLevel|_recover|setQuality|posteronpause|ControlOut|yamtrid|handlea|nohead|other|CheckHideVars|pauseVideo|Mvskpl|UpText|_hlssubtracks|wheel|sepia|ytautoquality|getDuration|hlsSub|v360|ChangePip|PlayerSize|outro|grdlft||||||VisibleItems|onUp|onup_to|gained|midrollo||tagSrc|ScreenClick2|enabled|vast_midroll_limit|PluginMovable||tagsurl|RadioTags|CheckPip|SubtitleTimerMenu|settimer|spn|||valuepadding|mediadrag|thumbs||insertBefore|||xy00|handleiconpress|moving|substore|rename|vstdwn|_rights|input|onPipLeave|downi|onWkitKey|contentDocument|pjs_parent_i|paddingleft|paddingright|Text|mobiled|firstly|order0|_move_rights|sub_x|ReplayIcon|Recover|pp2|tchs2|vastgo|VastVideo|autoplaymute|over_final||floatmarginright||||||||||splice|sub_stroke|_stop|moveseek||onPipEnter|sub_reset||xvalue|pljsvolume|marginbgcolor|sub_designstore|removeTracks|VastCheckNext||DVR|nativesub|Preload|subtitles|CreatePoster||VastGo|iOSTrackLoaded|Places|stopotherplayers|volumestore|playsinlineonmobile|_css|SetCSS|logout|IndexPlaylist|vastclick|onTagError|NewAspect|Thumb2|removebykey|movevent|change2playlist|fromCharCode|FSL|ControlCoordinate|sub_upload0|ToolbarHide|startcss|lastsub|Player|dontload|SubOpt|sstext|NoSpan|pjslng||introstart|SubtitleLoadAll|ssfontcolor|gaurl|resizeonmouse|resizeme|Script|fileorto|EarlyEnd|SubUpload|UpdateStart|landfullmobile|startwait_t|DrmVars|m3ui|clck|leftright||updown|isFullscreen|VolumeWheel|VastPreloaded|mobtch|ControlsBg|minw|StartSpeed|Bglines|UpdateDt|StartTimeout|subpausehide|activeicon|removedNodes||TipHide|1440p|TipVol|landscape|toFixed|drawImage|_blank|sub_store|SpeedChanged|pljssubtitle|sleep_timeout|play25|play50|play75|HlsSleep|volume2|NxtExt|PlaylistLoad|Captions|playbgcolored|QualityChanged|fontFamily|reloadlog|urlsl|_currentIcon|2160p|blra|_tags|Youtube|fzoom|||onYtPlayerReady|nocontrols|cntrls|filerorto|SubRem|ErrorMsg|bordercolored|toolbarisdown|StyleSubtitle|maxMaxBufferLength|reloadfirst|Destroy|dash_subs|ontouchmove|timeout|ActionOptions|tmp2|clickscaley|borderRadius|stopkeys|reloadtimeout||ErrorReload|fullblack||ahd|volumewheelfull|||VisibleCheck|checknative|150|submm|onClick2|160p|hlserror|requestFullscreen|hostname|onMobOver|onMobMove|requestFullScreen|pjsframed|mozRequestFullScreen|webkitRequestFullScreen|SetSubtitle2|msRequestFullscreen|onYoutubeReady|exitfullscreen|scrpt|pstr|RemoveForNextAd|InitVisible|png|addtitleplaylistbr|smbls|addtitleplaylist|deltaX|fonts||||||Metadata|piped|Seeked|openplaylistroot|hideonplay|updatePlaylist|start2|innerText|tipfont|tipfontsize|posterhidepause|tipletterspacing||csta|tmpr|notofh|deg|tipbgrounding|Prefile|youtubeposter|PstrLd|utx|tipcolor|brand|div2|Open||||mdswp|vtt|6px|check|PstrLdd|doctype|noprevicon|hdbrdclr|viewBox|HidePositionControl|pipto|ctxt|getAudioTrack|tippaddingbottom|tippaddingleft|settingsNumberVisible|embed|cpm|3600|querySelectorAll|currentposter|End2|MseIsSupported|End3|scrollarrowbgcolor|scrollarrowbg|LoadedData|butByS||||||timerInterval|nativehlsios|SubtitleParse|heightInterval|handlecolor|RightMenu|reRightMenu|WaitSize|plopt|hidetime|poster_float|Playing|sub_bgpadding||Loading|btm|killMotion|imageLoaded|content|is_hls2|NativeSubtitle|pldur2|playlistovertimer|network|ClickArea|code|ass|FullscreenUI|SetCurrentQuality||MediaSess|sub_off0|HlsSleep0|marquee|bgcolorlink2|nwfl|onDash|VastPreloadLoad|bordersize|CheckDash|advertising|Loaded|linkurl0|plopenid|Visibility|timeline_w|nativeControls|NormalscreenUI|vast_preload|tem|quick|match|pjscssed|pldur3|decoration|last_ors|adscounter|||VastInfo|youtubeready|mpd|SetChannel|shwvstfnsh|PlayerjsEvents|PluginDash|PLAYING|hlsmto|hlsaudio_off|setVolume|playlist_id|Playerjs|onQualityChanged|m3u8|onYtPlayerStateChange|last_subtitle|isyoutube|customBuffer|anonymous||gtag|disableRemotePlayback|FindIdPl|dashjs|MediaVideo|preloaddash|hlsquality_off|audio||preloadhls|yterrors|time2||seekTo|index|getPlayerState|vast_adid|hdiconlist|hlsdebug|geobj|VastBreak|PluginCam|isSupported|api_|vpaid_starts|nameofyoutubequality|mss|playsinlineonmobileiphone|ENDED|hlsvastwait|hlscookies|Qualities|PlugDsgn|getContext|Papi41|pjsfrm|maxLoadTimeMs|skipads|wrapper|dasherror|hlsfto|pjslog|pmevnts|customyterror|framei|cuid|reHls|alert404text|preloaded|yamtr|redirectonplay|RenameTracks||upDT|PluginIntro|subtitle2|redirectonclick|seeked_time|endfull|timelimited|reloadlive|fullonplaymobile|720|access|denied|sub_bg|timelimit|timebreak|nomidroll|nooverlay|passontime|ffect|175|PluginTrack|swipep|PluginRel|trkp|incorrect|swiping|maxTouchPoints|autoplayed|Swiping|dashaudio|PluginThumbs|Exit|fullonplay|Hide|msie|removeNativeSubtitle|minduration|firefox|nativeSubtitle|rest|935|adblock|resume|PluginSlides|PluginHeart|InvertPlaylist|recovery|scrollwheelfull|whlskfll|tagsinterval|iosExitFullscreen|cancelFullScreen|exitFullscreen|cancelFullscreen|onPlayTag|mozCancelFullScreen|webkitCancelFullScreen|fs_error|msExitFullscreen|frmvst|alerts|alert404|ReloadTimeout|unset|PluginErrorVideo|zoom|alert404video|alert404v|posterhidestart|PluginPip|Quartile|norld|playedstore|playedquartile|ct2|360|640|openpl|1800|1550|Stopped|finishrewind|PostFullscreen|intros|1150|900|540p|TheEnd2|pipSrc|006|playId|playByYoutubeId|ChkHlsEnd|reverse|MSIE|full_hours|PlgnVstPstr|vast_prestarttimeout|isArray|width_div|High|current_time|height_div|vast_longtimemsg|PlgnVstLdtx|Start00|comment|GET|PipToggle|reYT|movable|PipSwitch|Timeout|filetod|FileTimeout|fileto|isVpaid|together|parentElement|XMLHttpRequest|Playback|ga_event|full_minutes|limit|toLocaleTimeString|SubtitleBottom|sub_split2words||posterhidetime|notag|andlimit|Scripted|Yandex|slng|Number|HidePoster3|yaCounter|yamtr_event|menufltr|StopOtherPlayer|VastLongTimeout|keyframes|_html|styleSheet|device|_ue|subshift|url3|globalfontname|maxresdefault|sub_lineheight|getBoundingClientRect|str|offset|MediaYoutube|ShuffleEnd|elastic|heartbeat|current_vast_url|Timer|castname|file_type_old|crt|ParseUrl|outside|sub_bgo|update_|after|rand|midrollimprsd|notv|FindFileInPlaylist|callback|_ud|ovr|sub_allmyt|sub_big_fullscreen|Drt|sub_off_title|224|toUpperCase|CreateMedia|imageExists|scrollX|plcontinue|default_subtitle|PjsFramed|pjsframe|sfjs|YouTube|plapto|apto|sugar|Ease|rgb|PlayerjsAsync||PlayingChecker|FFFFFF|roundout|_w|315|handlemargin|PluginPoints|smallfontsize|valuebgcolor|valuebg|valuerounding|floatwidthsmall|floatheightsmall|220|PluginPlSrch|valuesize|customdesign|bgw|ontop|nxtttl|SvgColor|ControlLine|ControlOver|wps|hidedown|gradientcolorbg|gradientcolor|Wheel|linespeed1|gradientcolorload|colorload|linespeed2|linespeed3|_a|bgbrdrw|setcss|linetipmarginbottom|thumb_borderwidth|thumb_border|thumb_radius|thumb_height|thumb_width|CreateThumb|PluginCut|_duration_load|UpdateLoad|UpdatePlaySeek|_time_play|_duration_play|handleinit|toptip|thumb_move|clickmargintop|current_thumb|clickmarginbottom|bglines|bgline1|bgline2|handlewidth|handleiconsover|CancelBubble|hlsptm|yOffset|xOffset|270|PlacePoints|place|mvskps|controlCSS|HdIcon|thumb_shadow|bandwidth|bgstretch|iconmargin|mobileover|onMobOut|onMouseDown|clickscalex|Hideuntilto|openplaylistpause|openplaylistafter|topside|PluginHdIcon|often2|hideonleaveandplay|often|hidebefore2|setupx|fontsizesmall|ffeeab|svgtmln|second|rotateplaying|minute|picheight|bold|hidebefore|lineh|hour|ontouchstart|_reset|unblock|hideafter|5000|MarPad|DownIn|zoomed|hidewithposter|Buffer|7px|translate|Tmln|displayvolume|iconsreplay|prevorius_default_h|prevorius_default_w|iset2|minus4back|with_min|with_hours|RenewFromTitle|noClickTimeout|bggr|bgcolorlink0|_xIcon|pressed|selectOpen|rotateonhover|hideafterclick|Click|tipmargin|DisplayControl|tipvar|_subfile|cstm|action_settings|unhidden|hidesec|thumb_bordercolor|tippaddingright|icon3|textarea|sYDbYdrs|sub_sizemobfull|sub_sizemob|sub_bottommob|SettingsSpeed|SettingsExist|pljsspeed|speedstore|template|templated|Controls|dblclick|KeyDown|pjsin|KeyUp|byEDDsra|vast_nofirst|playerheight|requestAnimationFrame|Actions|sesstime|StorageSupport|trackstore|pljsfirst|closePl|lI1l|I1lI|StageOver|mousedown|PluginGeo|PlugScaled|default_speed|analytics|createTextNode|aENRkXWqmA1wOhvWadOsm256kiHtHwz0NXDsN2ktNX09H3cwjh5xmED0kdR1JAyxIdN|Interval|isHidden|landscapefull|portrait|lsfullplay|lsfullstart|abs|OrientationChange||ParentFS|FullscreenChange|Posters|complete|Image|mp4|aFztmFWqlh5WGFztlh50Nx0YKA41MeK3LdyuJUb4LBK4GBysLejwLdyvKw41Kef2KwyvKd40KxN1GBNRKA41MeK3LdyuJUb4LBK4HwzXlhvqadNUkXkXkXkXH1utaUvNJ2N|click_t2|screen_lw|nativefulldroid|noindex|playerjs|changedTouches|seeksidesec|seekicon|scroll_height|stretch|margin_bottom|updateTitle|vast_ima|read|checkBase64|preposter|mobiletv|nativenotipad|linetippointer|parentIframe_style|alertscolor|15px|alertspaddingv|alertspaddingh|alertsbga|scheme|alertsfontsize|user|linker|today|CustomFonts|PjsFr|prtObj|prted|notframe|MutationObserver|optStr|Rectangle|rule|evenodd|Continue|line_volume2|mrgnsmll||PluginReplace|IFRAME|rc_|Init2|postmessage|method|postmessages|PjsFrMsg|alertsbgcolor|obsrvr|nativenotiphone|RightCSS|RightClick|right_x|right_y|Href|encodeURIComponent|parent_domain|4px|arial|rmsize|RightOver|RightOut|System|hidestartbutios||nativenotios|RightMove|CrShr|scrolling|direction|pjsfrrs|allowfullscreen|allowtransparency|allow|clrs|666666|ltr|rc_version|tap|highlight|ffdd1f|rc_labelurl|rc_anyway|helvetica|rszr|butseekto|liketext|youtubecontrols|historycolor|resize2|inversetime|setHlsAudioTrack|upTexts|customText|showShare|titlepl|historytitlestrike|MediaSource|onLoadedData|PlaylistBack|changeAspect|plclose|language|width100|linktarget|ssflyw|1001|screenshot|linkpause|offsetwrite|muteiconbut|hidepsms|ScrollLeft|iframe_api|hidewithoutplaylist|webkitSetPresentationMode|hideonwidthlimit|hideonwidth|hideoverwidthlimit|hideoverwidth|ArrowsInterval|alwaysjustpause|alwaysnotfullscreen|SubtitleSettingsClose|ScrollDown|ScrollUp|PluginHlsFps|SourceBuffer|ControlsBgClick|ScrollRight|HlsQualityLevels|sourceBufferValidAPI|mimeCodec|setDashQuality|setDashAudioTrack|SubtitleSettings|showById|setTracks|setHlsQuality|pipVol|normalscreen|hidebeforesec|hlsdrmfp|volumechange|drm|show1value|FlussonicMsePlayer|durationchange|debug|supported|hlsTextTracks|livewakeuptime|HlsLiveWaiting|loadSource|wrong|pljs_yt_|enterpictureinpicture|onLoadStart|leavepictureinpicture|webkitneedkey|scrollHeight|paddingtop|Width|iosexfull|sort|webkitendfullscreen|valuealign|unpause|loadedmetadata|back|ytcl|MetaAudio|userpause|userplay|nopause|unmuteonplay|actpause|hls2|sttr|hmaxk2|subtitleTrack|marginprocright|lrppp|always2|lrpps|addTrack|ControlX|marginproctop|marginprocbottom|PluginShare|HideLayer|OpenPl|showing|NewPl|timeupdate|hideaftersec|renameQualities|hidebeforesec2|togglesubs|UpdateTimer|Gain|Volumescrolled|um1|posteronwait|hls_stuck_duration|HideElement|nextAutoLevel|aborted|nameofhlsquality|WaitPoster|Control|CheckTop|pstrwt|action2|opposite|scalesmall|PlgHlsFdt|gainedsource|Exist|PlaylistClose|hlscaptions|PlaylistMove|18px|onClickTimer2|onClickSubtitle2|pldelay|nums|Pldelay|UpdateSettings|startLoad|PlaylistOpenId|dvr|plusminus|PlaylistPlayId|prenewpl|PreNewPl|connect|hidecontrol|which|keyCode|ShowTimeout|borderbottom|wtpstr_to|scroll_down|hideonfullscreen|ShowAnimate|HideAnimate|PluginSkip|unfixing|playedstored|_nextIcon|hideuntilmeta|bgbract|apdra|40px|scrollarrowgradient|hidewovar|scrollarrowbgover|hideonvar|UnArpl|scrollarrowbgovercolor|Arpl2|audioGroupIds|ShowControl|hlsmaxlvl|setting|hlslowquality|brda|leavetimeout|playonhover|hideonvolume|upd|PjsCheck360|PluginMbps|scroll_left|Arpl|headbordercolor|Font|Bottom|Tiny|Small|444444|stripsw|ffce00|posterheight|ipod|clipboard|Shadow|Copied|Safari|stripsspace|copied|setPlaybackRate|tippmargin|Previous|tipa|posters|pointcolor|Reset|Windows|platform|getCurrentTime|All|hd1080|medium|large|__storage_test__|previous|roll|wkdt|eff252b33313w351y371e25222q193v3c1d3q001z1m27213o2m252e2q2m2w233a1g232z1g2e2b361a2v3u113z1m360y113z39213x2139361a2x3u1z3z1m21182t3z2n112238231q27353c142z2x253c1w3s29111z38231s27333c1421281w101z1611133v392q192z341s3u2v2z3n1z3w263c133v3b2q172z3412111m231z3w281z3u26113w261z3u2q2139213v2e2b213v29233x252y393x2e1z1z2235163o00302e2b3w121m2e1d3o0z3z2m241z3z1m21111z3s2711211d393v2e1a1w10302x3w2s333c12111c1m1z153x27211t322q12232522352c162635211d1e182e163z261w11121z303s2911101m3s37013z223316352g1p3d1l1g1i1d1d1e1q3d1h2e1q3f1d3e163g1k1e1g1c1h2f1c3c1q3f1k2c1r3c1z2e1s2e1w2e1t2c1w2c1s3f1i2c1q2e182c1q3c1r2e1s2c1o2e1t1c1e2c1u2e122c1s2e1z2c1q2c1b2e1s2e1c2e1t3e1h2c1s2e1s2c1q1g142c1s2e1r2e1q2c1x2e1u2c1e2c1u3e1r2c1s2g1w2c1r2c1t2e1s2e1e2e1t2c1v2c1u2f1w2c1s2e182c1q2e1x2e1s2e192e1s1d142c1u3g1t2c1q2f192c1q3d192e1q1d162e1s3d1x2c1s2f172c1q3e1i2c1q2d172e1s3d122e1s2d152c1t3f1j2c1q2f192c1s3d142e1q3d172e1u3c1a2c1s2f152c1s3f1d2c1q3d172e1r3d1d2e1s3d152c1s3g192c1q2f172c1r3d1z2e1q3d142e1u3e182c1s2f162c1s3g1v2c1q3d172e1q3e172e1s3d1s2c1s2e1s2c1d1e1h3d1e1e1g3g1s1e121g1s2e1b3c1i3f101e123f1g1c1e3c1s1g1o3e1d3e1j3c1d1d1b3f1h2d163f123c173d1f1g1e3d1e2e1f3d1q3e1k3e1j1c1g1f1h3d1a1c1h3e191d1i3f183d1d3c1a1f1e3e121f1h1c101c1a1e181c181e1a3d1k1e1s1f191d191f1m3d1d3d1g1g1b1e1k3e122c123e101e1d3d1d3f1k3d1r1e1s1e1b1d183g1s1c1q3c1g3f1c3e121f1i1e1q1d1g3e1s1e1f3f1c3c1d1e1k3e103e1d3f1g1e122c1u2e1s1e1q2e1t1c1b2c1s2g132c1r2e1f2c1x3e1t2e1s3c1q2e1u3e1t2c1s2e1r2c1r2e1y2c1d2c1q2e1q1c1f2e1t2c1t2c1u2e1h2c1r2g1w2c1d3c1s2f162d1r2e12122h203e161c1k3e1g2g1c3d122e1i3d1a1e1g1f1q1e1h1e123e1c1c1r3g142c1s2g1r2c1s2c1z2e1u2c1e2e1u3c1t2c1u2g1w2c1r2e1t2c1u2e1g2e1t2c1v2e1u2d1y2c1u2e182c1q2g1x2c1u2e1b2e1s1d142e1s2c1z2c1s1g1g2c1s1e1u2c1t3c1k2e1u2c142e1s2e1p2c1s1f192c1s2g1m2c1u2e1x2e1s2e1w2e1s3d102c1s2e1w2c1q1f1k2c1r2e1v2e1t3e1e2e1s1d192c1u3f182c1q3f192c1t3d162e1s3d152e1u3d1c2c1s2f172c1s3g1g2c1s3d192e1u3d1b2e1s3d182c1u3g1b2c1q3f172c1s3d172e1s2d152e1u3c1a2c1s3f182c1q3g1a2c1s3d182e1s3d182e1s1d172c1t3f1b2c1q3f192c1s3d152e1s2d152e1u3e1w2c1s1f172c1q3f1e2c1s1d172e1s3c1x2e1s2c1w2c1k1e123d1j1g1k1d141d121f141e1q2g1f3d141d103f1i1d1b3e1d1d161e1f1f1b1d1o3f1f3e1g3d1g3e1d1c1d1e1f1e1p3c1f1e183d111g1h2c1b2d1k3f1c1c1e2e1s1e1j3e1d3e1j3c1d2f1b3e1j1d181e122c172f1b1d1b2d1b1f1b3c161e1d3d183d153e1i1d1q3f1f1e1c1d1f1e1c3c191e191d1r1d1s3g123c1s1g143d1c3d171f1h1d1q2g1j2e1p1c1a3g181d1k3g1d1c1h1c1f1e1g2c1d1g1h2c1i2e1f3f1f2c1s2e1f2c1s1c152e1s2e1d2e1s1e1i2c1s2f1s2c1u2g1k2c1s3c1w2e1u1c1f2e1s2e1o2c1u2e1f2c1t2e1r2c1s2c1j2e1s2e152e1s3e1t2c1u1g1p2c1u2e1s3d1u3c1v2e172i1g1f1e3e1a1c1i3e1p1e1j1f1k1c1b3c1g1f1g1d1g2e1h1e192c152e1u1c1o2e1t2c132c1s1e1o2c1s3g1f2c1s2c1e2e1s3e1g2e1u1d1v2c1t2g1j2c1u2g1t2c1s3e1z2e1s2c1c2e1u1c1v2c1u2e1h2c1s1e1u2c1q2c1w2e1t2c102e1u2c1x2c1t2f1u2c1s1e152c1r3e1y2e1u2c152e1t3e1s2c1u2e1k2c1u1e1z2c1s1c1x2e1s2d1w2e1t2c1r2c1s2f172c1t3e1z2c1q3d182e1s3c1b2e1s3d172c1u3f1d2c1s3f182c1q3d1d2e1s2d172e1t3d1x2c1s1f172c1s3e1k2c1q3d172e1s3d162e1s1d172c1s3f152c1s3f182c1q3d1v2e1s2d192e1s3e1e2c1s2f192c1s3f1e2c1q1d172e1s3c1q2e1s3d172c1u3f1t2c1s3f182c1s3e1y2e1s3d172e1s3d172c1s3f172c1s2e1u2c1q2e1f1e123e193f1q1c1k3d1r3d1d3d1c3e1b2c1k3c1y2f1k3e1c3e1f1e1k3c1d1e183d133g1h2c192d1k1f1c3c1g2e1s1e1a3e1f1e1j3c1d1f1b3d1h3d181e122c193f1f1e1e3d1g2e1c3d1s1f1k3c1j1c1i1f1h3d1c2f1k3d1i1d1k3f1k3d1c3f1f3e1h1e1h3f143c1c1g1f3d1q3c1d1e1c1c1i2f121d121d1f2f1b1d1h3d1s2d1q2d1f3e1d2d143f1l1e181e1i3e1j1c1c1g1f3c1v1c122e193d1s1f1b3d1u1e1s2g1f3c192e1t3e1f2c1u2g1u2c1s2e162c1r3e1z2e1t1c1z3e1r1c132c1t2e1k2c1u2f1h2c1s1e1f2e1t1e1w2e1u3e162c1u1g1s2c1s3f1h2c1q2e192e1s2d1s2e172c153d1s2e121c2k1f1t1f1r2r1s2h1c1e141|WebkitAppearance|matchMedia|4171bm3q1v3s221a291u3b3v2z1d3q01101m27212q193v3e1k1b3v1z1k1c21173s3y1121141z153x3b2o1732261u3s2t322p113u243e153x392o1922261z3z1o252e1g3c2b381y2v3s11121o260w11122b213v312b381w2v3u11121m3c182v212n1z323a251q25352e162z2v252e182s2711113a231q27352e142z381y1c2s271y2u29163s291u2u271o3e113w261z113w281z3u263u2o3o0z11212b3w121o272e2o1z1z23141z101o272e2o2m37222q1z3z312b233v3038163q0z1c1e2v2e292o142u11101d311q112z3825373w253u273t15362111113a371z31161j1z1c1o2e182t3z2r2e2b213v312q1i27313e2b3y121m141u2e1d1d1e1e1h1c102g1k1e1a2e1m1e1a3e161g151g1i1c1k1f1f2c1q1f1r2e1r2e1t2e1s2c1u2e1s2g1c2c1u1e1z2c1q3e1r2e1s2c142e1s2e1k2e1u1e1i2c1u3e1h2c1s2f1z2e1q3c1z2e1t1d1s2e1s1f1s2c1s2e1u2c1r3g1v2e1s2c1v2e1u2e172e1u1f1w2c1t2g1q2c1q2f1y2e1r2e1l2e1t1c1s2e1t2e1q2c1s2e1y2c1q3e192e1s2e102e1s3c152e1t3g1r2c1s2f172c1q3f1x2e1q3d172e1s3d1c2e1s2f172c1s3f1a2c1q1f192e1r3e162e1s3d162e1s3f1t2c1s1f172c1r3g1c2e1q3d182e1s3d122e1s3f172c1u3f1a2c1q3f182e1q3d1h2e1s3d172e1s3f1b2c1s3f172c1q3f1t2e1q2d192e1s3d142e1s3f152c1t3e1i2c1q2f172e1q3d192e1s3d152e1u2e1s2c1s2e1e1c1d1e1m1g1a1c1k2f1d3c192e141e101d143f1s3d1a1g1u1f1u2d1j2f183d101d1f3g1c3d1m1e1b3c1d3f1j3f113d1l1e1i1d1f3f1g2e161c1f1f161e1q1g1j3e1d1c1g3g141d1f3g193f1d3d1s1g1m3c1d1e1f3f1d3d1f3f1f3d1d3f1f1f192d1e3f1e3d1c1g1s3e1d1c141g1s1e1d3g1r3d1d3d1f3e1f3c161e1f2g192c1c1g1b3d1e2e1f2e1d1e1k1e1d3c1e1f1g2e1h1d1t2e1s1d1h3e1d3f161c1d3g1i3d1d1e1g3e1r2e1j2e1u2d1i2e1s1g1y2c1t3g1m2c1s1e1f2e1s2e1t2e1u2c1q2e1t2g132c1t2g1j2c1q2g1f1e1s2e1s2e1t1e1j2e1u2f132c1t1e1k2c1q2g1c1e1y2c1r3e192c1d341v1t3e193f1q1e171c151g123c141g1i3f151e1g2g1k1c1x3g1i3g132c1v3g1v2c1u2e1v2e1s2e1b2e1u1d1y2e1t2g1o2c1u2f1y2c1t2g1l2e1r1c1w2e1t2c1s2e1s2e1w2c1u3e192c1u2g102e1q3c192e1t3e1z2e1s2e1u2c1w1e1l2c1t2e152e1q1c1q2e1s3e1f2e1u2e1c2c1u3g1g2c1u1f1x2e1r2e1l2e1u2e1t2e1u3g1x2c1u2e1c2c1u1e1x2e1s2c1j2e1s1d182e1u3f182c1u3f192c1s3f1a2e1q3d1b2e1u3d1o2e1s3f172c1v3e1d2c1s1f182e1s3e172e1s3d172e1t3f1b2c1u1f182c1u3g102e1q3d1a2e1s3d192e1s3f162c1u3e172c1s3f172e1q3c1f2e1s3d172e1s3g1j2c1u3f192c1u3f1f2e1q3d192e1s3d1j2e1s2f162c1w3f1e2c1s3f172e1q3d1d2e1s2c1z2e1s2e1i1c1j3e1f1d1e1e1h3d1d3d1e3e1b2c143e103d1b3e1a1f191d1c1g1g3f1e3c1e3f1f2d1k3e1l1e1g1d1j1f1c3c1h3e1b2f1i3d1a3f1f3c1a1f1g3f121e1j1e121d1w2f1j1f161c141d1d3e1e3f1m1e193c1e3f1j3e1e3f1e3g1c3d1g3e1f3d1c1f1k3g1i3d1y1f142c1e1e1b1e1b1e1j1f1m3c1y3g1f2g112c1c3f142d1c3e1g1e1g3c1e1e1s2d1p1e1c2g193d163g1d1e1i1f1k1g1f3c141f143c1a1f1r1g193c1g1e1w2c1u1e1v2e1r3c1s2e1s1c102e1u1e1h2c1w2g1f2d1t1g172e1r2c1t2e1s1c1x2e1s2g1w2c1w1g1k2c1u2e1w2e1s1e1s2e1s3d1h2e1t2g1t2c1u2e1k2c182e102f1s2c1j141f1d1g1g1i3g1s1e1j2f1b1c1j1f1b1f1d1d1d1e1j1c1u1g1q3e1q3d1e2e1s2c1i2e1u3e1x2c1u2e1v2c1u1f1t2e1r1c1g2e1s1d1x2e1v2e1k2c1u1g1v2c1t2e172e1s2c1y2e1s3c1e2e1w2e1p2c1s1f162c1s2e1w2e1q2e1k2e1t3c1z2e1w2g1w2c1t2e1y2c1s3f1m2e1q2c182e1s3c1r2e1w2e1o2c1t1e1g2c1u2e162e1s2c1z2e1s2c1b2e1w2g1c2c1t3g1j2c1s2f1a2e1q3c1f2e1s1d192e1u3g1c2c1s3f182c1t3e1b2e1q3d172e1s3c1h2e1u2f162c1u3e1d2c1s1f1b2e1q3c1h2e1s3d182e1w3f172c1s3f192c1s3e112e1q2d192e1s3d1b2e1u1f172c1s3f1c2c1s3f192e1r3e1b2e1s2d182e1u3f162c1s2f172c1t3e1l2e1q2d182e1s3d192e1u3f152c1s3f1t2c1s2e1w2e1d1c1f3d143e1f2f1a1g1d2e1f1e1i1d1p3f101g1d2c1f1g1c1d1h3e1d1f1i1d183f1d3c1a1f1i3g121d1h1f121d1w2f1l3f163c121d1f1d1e3f1r1e193c1d3f1j3d133f1q1e1g1d1h1f1g2c181e1e1f141e1s1f1j3c181e1a1e161c181e1s1e1j3e1c1e181e123d1f1d1c1e1k2f1d3d1f1e121d143g1f3e1d3d1e3f1j1e1c2e1b2f121d1f1e1f3c1c1f1k3f181e1g1f1f1e1k3f1j2e1q3d1j3f152d1e3f162f1c2d1c1e1f3c1y2e1w1g1w2c1t2g1e2c1u3e1h2e1s2c152e1k2d1j2e1u3f1s2c1s1e1v2c1t1e1u2e1s1c1t2e1f2c1u2e1v3g1t2c1t2e1l2c1u1e1m2e1r3c1d2e1f2d1t3e193e1t2c1h191i1j1s2e1s2m2e2s1g1h1g14|1006||fine|iosv|nomobile|iemobile|setSize|631501s212a29313718263q0z2z1o27312o193x3e1d3o0z112m3q0z202m3x3u35242v323p1z203a251s25332116212v23211c3u271z113a251q2535211620261y1112141z153x2b2o1731261u3s2t312p113u243e153x292o1931261z101o253e1g2c2b38182v3s12111o260w12113b213v313b38162v3u12111m2c182v3b213v2b233x39213x2b233v1z113u291z203u291u2s271r2q1i25203q3e1z21121b3x111z202435162z2o1b3x111i1t35211d202n3e113w2m2z1q1g272z1o1o25111q253t193124143e1e3e29361c3y2b321v3w2u3q3s37323b3r35203919162z1411121o232c1q11113u243e1d37383v111z23121g1r2h183d1i1g1j1f1h3c181e1t3c1a1g1b3f123e1m3g1k1c1u1g121f152c1t2e102c1s2e1z2e1r2d1u2e1s1c132e1t2g1w2c1u2e152c1r3g1u2e1s1c1k2e1u1c1x2e1u1e1v2c1s2f1w2c1r2e1t2e1q2d172e1t2c1s2e1s2e1c2c1u2g1t2c1s2f1r2e1q3e1x2e1s2e122e1u2g1w2c1t2g1z2c1q1e1s2e1q2e1v2e1t2c1t2e1t2e1t2c1s3f1w2c1s3e1q2e1q3e1h2e1s2d172e1s3f1y2c1s2f182c1q3f1h2e1q3d172e1s3e1y2e1s3f152c1u3f1u2c1q3f192e1q3d1t2e1s2d152e1u3f1t2c1s3f192c1r3e1c2e1q3d182e1u3d1w2e1s3f172c1u3f182c1q1f192e1s3d1e2e1s3d152e1s3g1p2c1s2f192c1q3f1c2e1q3d192e1s3e1u2e1s1f152c1s3f192c1q3f172e1q3d1b2e1s2c1s2e1s1e1d1c1b1f1e3e1a1e1i1f1k3e1r3d1f3d1d3f1i2f103d1l2f1f2e1k1e1b3e1d3e1c3f1m1e1d1g1q3g1d3c1f1f1f3c1b1f161g1q1d1b1f1c3d1d3g1g3f1e2c1f1e1d3c1d1g1m3e1d1c183f133e1f2e1b1f1i3e1d3e1g3e1h3g1j3g1h3e143f1e3e1k1g1m1g1g3e1b2e1f1e1f3d1d2f1a1c1s2g1f3d1d3f123e1d3d1f3e1m3e1j3e1d3g161e1d3e123c191f191f1d1d1d1f1j1e1d2e1l2e1d1c1f1e1d3d1d1e181d1d1e1h1e1z2c1r1e1h2e1s1e1m2e1s2c1r2e1t1g1t2c1t1e192c1s2f182e1r2e102e1s3c1s2e1t1e1u2c1u1e1u2c1r2e1h2e1q1e1t2e1s3e1s2e1t1e1y2c1u3e172d1q2e1s3e1r1c192t2v143e1f2f1a3e1p3e1a3e1u3e1a1g1k3c1h1e1l1e1h2c181d1i3d122e1u2g1t2c1u2f1t2c1q3g1x2e1s2e142e1w2e1w2e1t2g1z2c1s1e1u2c1q2g1v2e1t2c1v2e1v2c1t2e1s3f1w2c1u3e1s2c1q3g1h2e1s2c1z2e1u2c1c2e1s1e1i2c1s3e112c1s2e1v2e1u1d1r2e1v1c1e2e1s1f1x2c1t2e1r2c1s1g1v2e1t2c152e1w2c1w2e1s3e1e2c1u2e1t2c1q1f162e1u3c1g2e1u3d172e1u3g162c1s3f192c1q3f1e2e1s2d192e1u3d1t2e1s3f192c1s3e1a2c1q3f192e1u3e1b2e1u3d162e1s3f182c1s3f1b2c1s3f1v2e1s3d182e1u3c1a2e1s3f192c1t3g1f2c1q3f192e1s3d1k2e1u1d152e1u3g1c2c1s3f1b2c1s3e1q2e1s1d172e1v3c1g2e1s3f172c1s3f1d2c1q3f172e1s2c1z2e1u1c1i1e183f1k1e1j1g1e3c1g1f1m3g1r3b1f3g1e1d193g1h3g131d1l1e1k1d1f1f1g3e181c1f1f181e1d1g1j3e1d1c1g3f161d1f3g193f1c3d1s1g1r3c1d1e1d3f1s2d1m1e1d3c1d3g1c1e1p1e1f1g1l3e1b1e1s1f1p1e1m1g1r1e1k1g1f3g1k1d181e1a1c122f1d3g1d1c1m3e1e1d1e1g141g1c2c1g3e1f3d1d3f1f3e1i1c121e181e1i1f1h2e1s2e1q3f1h3e163g1k1g151d1k1e1e1c1b3f1s3e1c3d1s2g1q3c1b1e1w2f1z2c1u2g1l2c1s2e1r2e1s3d1l2e1v1c1r2e1s1e1p2c1t3f122c1r2g1h2e1u2e1r2e1u2e1t2e1u1e1s2c1u2f1x2c1s2e1y2e1s1e102e1u2d1c2e1s1e1z3d163f1a2c1s141v1f1k1e1c1e1m2e141g1e3g1f1d1e3g161d1i1g1j1g1r2c1i2g1y2c1r1g1g2e1s1c1u2e1v2c1k2e1u2e142c1s2g1r2c1s1f192e1s2e1m2e1w1e1x2e1s2g1w2c1s3f122c1s2e1w2e1q1d1k2e1t2e1v2e1t3g1e2c1s2e1w2c1s1f1r2e1r2e1t2e1u2c1w2e1s2g1c2c1u1e112c1s3e1r2e1s2c142e1u2e1p2e1u1e1i2c1u3e1j2c1u2f1z2e1q3c1z2e1v1d1u2e1s1f152c1t3e182c1s3f182e1s3d182e1u3d172e1s3e192c1s3f192c1u3g1t2e1q1d192e1u3d1b2e1s3f152c1s3g182c1s1f192e1q3d1g2e1u3d172e1u3f122c1s3f1b2c1s3f1z2e1q1d192e1u3d1w2e1s3f172c1t3f1d2c1s3f172e1q3c1e2e1u3d182e1t3f172c1s1f192c1t3e192e1q3d172e1u3d192e1s2e1s2c1s2e1y1c1f1e123e141c1k3g1d3c143e121f122e1s3e1d3c1q3e183e1d1c1g3g161d1h3g191f1d3d1s1g1r3c1d1e1f3f1q2d1m1e1d3c1d3f1c3e1k1e1f2g1e3e1c1e1s1f1d3c1d2f181e1s1f1b1f1h3d1f1g1i3d1g2e1f1e1o3d1c3f1l3d183f142e181c1f3f1e3d183g1f3f1k3c121f163c1e1e1d3f1q3d1i1f1e3d1p1g1d1e121c1s3f1r3c183e1t3e1d1e1g1g1k3d171g1e3e1j1c1f1e1e2c1s1f1f3f1k1e1f3e1m1d1p3e121f1r2c102e1u2c1u2e1t1g1s2c1u1f122c1s3g1d1e141c1j2e1w2e1w2e1u2e1q2c1s2e1j2c1s2e1l1e1q2e102e1u2e1h2e1t1e152c1u1g1u2c1s1e1z1e1y2c1v3f182c1u1e141t1k2c1e2d1u1c2t1f1f141m|matches|tiny|blackberry|hd720|Philips|Yes|pointa|1val|MacIntel|tvOS|Skip|webOS|armv|BRAVIA|customimage|Sleep|0val|15d9892e1d114c0d9ed31cef43214233|once|Roku|pointw|slidespeed|casterror|unescape|castdevice|1005|Tizen|Medium|contrast|getPlaybackQuality|GY0qGXLtmYcwm2vQOEWrkdG6PwHtNXcWNTG6LduTm24TMUCqGXDUOEWtmTG6GYcnmhfTJAH0PizWGUZTOEg4OAGqGYcWPFbTMTGuMUyuGTuTkX9sOFLnPXfTMUCwJAHrjiHYlh4TMTGuGByRKwyvLdGqGXLqlhLpGUZuJAHxkizSNXD0m3GTMTHNJwGqGYztN2W0lh9sGUZTj29sOFHtmFKTJAHSGUZTKdGqGXktmYbTMTHdm2HtOE8Rb29skEgsN2gVGTuTmEg0OEgwN3zSj2WskwG6GUCTQduTj29sOFHtmD9VOiHSOEWtmTG6PwHtNXcWNTG6LTuTm24TMUCqGXDUOEWtmTG6GXc1NXD0lh9sGTuTOFWukdG6GYcWPFbTJAH0kiS0GUZTJdyuMUyuGTuTkX9sOFLnPXfTMUCwJAHrjiHYlh4TMTGuGByRKwyuGTuTj2vnj2qTMUyqGYztN2W0lh9sGUZTj29sOFHtmFKTJAHSGUZTKA43GTuTkX9sOAG6GWHtjX90mwzBm25Vkh5xkhbTJAHqkic0kiHxNEDUlh5YGUZTKdH9JAHUm250NX9qi2H1kXkWNTG6PwHtNXcWNTG6MduTm24TMUCqGXWUm24TMTG8NEnxkEW2GELqjiLxadOqm2DVkiGZNXDskAVYaUvNJ3zoN2cnOU58QFusmE9SkEgwIFHSmXbnJAysmE9SkEgwIFHSmXbnMXHWkX9wkduRJXvtjhcWNTSwjh5VIenSkYcWNTz7GEcnN3zqjiV6jXvtj2q7jX9wkEgwJiHSkEW1NxZRLeyWMwz3lhc0lBZRKeguPBqRlEgnk2S0MTyvLiz4MwyrO2gTl2W0JhDslh1SOEWtmT1XlhvqJh1tkEf6GEHtOER7GEDslh1SOEWtmT1XlhvqJh1tkEf6GEHtOER7GA13khHplibrjh5nmhD0lh9sMTzSmXWrjicnm24ZNXDskAVRKd44NwznmXknmXW0kdzWjiLWJhWsJh91OBqRjh5nmhD0lh9sMTzSmXWrjicnm24ZNXDskAVRKd44NwznmXknmXW0kdzWjiLWJhWsJh91OBr9GA5qm2DVkiGZNXDskAVRP3ztN2W0lh9sMTzwkhvSOEW2keqRJiOWjXrnOA1SmXWrjicnm24rkEgqjiV6GA0uJUC2NxqRjh5nmhD0lh9sJhcWmED5MTyrKA4vLYK7QdysmE9SkEgwIFHSmXbnMXHWkX9wkduRJXvtjhcWNTSwjh5VIenSkYcWNTz7GELtmYcWmYb6GANYMwzum3LnOEWtmUZRjhHxm2v1OEf7GFctNBZuQdysmE9SkEgwIFHSmXbnMXHWkX9wkdz7GEvWkYb6GA0xKFz4MwzSmXWrjicnm24rkEgqjiV6GA0uJUKwNxqRQdysmE9SkEgwIFHSmXbnMXDXOEgwGFqRmEgXOBZRKxzuPBqRQdzyl2g5kYHSmhgxGEDslh1SOEWtmTSwjh5VIdz7GByWJAy4KAfqGBCuKAfRPwzTm3RrN2SSkE93MTyuGA0vLiz4GByRJeCsK2grGASUm2vtNTV7GF0RLByWGFqRjX94JiLZjhctOxZRKAyrKeguPAyuGByRIELtmE9wIdy7GF0RQdGqGXDUOEWtmTG6GXH1kXkWNTGqGYc5NEfTMTHUN3KTJAHum3LnOEWtmTG6GXLWmYcWNTGqGYLUjhvWGUZvJAHUmEWUlwG6KAuTlEWVkdG6KduTmXWUmTG6GUbTQduTj29sOFHtmD9xkic0lh5YNwG6PwHtNXcWNTG6KeyqGX9sGUZvJAHnj29sGUZTaFL2kwz3lhc0lB0YKUyYGESWlhOZOB0YKUyYaUvYGEknmEurNYgqke0YmX9sPXgwmwNROFHSmYLXm3HradO0NXDsN2vSOEfZKduRKdVYaUvujicZGEb9H005JUV1MeGvLUK2JByReBCvJUy3KxbxLeGqKT40KUG5MBy3LdzKKeGsKBR0KUN4JBGsMeN2MBK2LxfReBC0JUf2LebwLUKqKd44LUVvKUb3LdzKKejsKByvKxf1KwuxJUK1Lxj2LUR5GCuvLd4vMeNwLUb3JBfsMBbvLBC3KBVReBC1JUbvLeb3LejqLT44Kxy2MBbxLdzKKeNsMBNxLxy2Kwu3JUN4MBK5KeCReBC4JBVsMBbwKUV5LebReBC1JUf1KxK1KebqKeysMByuKBy2KwzKKefsKBNuMBb3LwuvKd44KxR0KBR5GCuvLT4uMBC2Mey1JBC0JUK0KUGuMeKReBC0JUj1LUjuLBGqKefsMBCxLeb3MdzKKeGsKefxKef0KwuvLA43LUVwKBb1GCuvKd4uKUN0Lxj2JBC1JUG0KUG0KBRReBCuJUy4LefvKBCqKeNsLUy3LUNReBRsKBjxMBG0LebqKeNsLwzKLT45MBbvKBf0LwuvLd4wMBR0KBf4GCu1JURvKUb2MeGqKebsLxRuLxC0MAzKKw40LBjvLef3LAuvLd44LeK3LxGvGCuvJUV2LBG2MBCvJBC0JUbxLBfxMeKReBGsMeG5KUN1LeCqKeCsMBR0LeNxMdzKKT4xLUjxKeK0LduvKA44KUKuKUj5GCuuJBVsMBV5MeN0MBKReBysKBGxKBbuMey2Mdu3JURwKxy0LeN4GCuwJUb0LUN3KeRvJBjsMBbwKxC4LBGReBGsMebuLxK0KxfqLd44LBC0KeNuMdzKKd44MBK5KxG5LwuxJUK1Lxj2LUR5GCuxJUKxKeKwKBR1JBCsMBVwKUj5KeKReBfsMBj5MBR2LUbqKT44MejvLBy4LTzKLT45LxG2LBj2KTuwJUb4KBN3MeRReBNsMeK3LeKuMAuuJUy0LUy0KeGvKxjReBVsMef5KUC2KxjqKAzlGC04JUR0MeVxMBNxJBjRbxNsKUN2KBKxLBfqLTy2JBNsKUN2KBCxKURRLTu4JUR0MeVxMeN0GCK2JBCuJUbwKxV4LUNRLw4wLxjuKxK0LduvKd43GBRsMBb5MeK4LxKqKeCsLwzBKeysLBGxMej2LTuvKd43GBCvJUNqKeysLBGxMeR2LwyvKd43JBRsMBb5MeK5LxbRbxCvJUNqLw4wLxjuKeKwMAyvKA40KUK5LUj2JBjRMA44LBV5KxR3Kwu2GDZYGEknmEu9HwLXkXkXkXjYiA8|iE4RGAyRGAyRGBvujicZGEb9H00xLTu3JUCuLebwLxK2kd0vLdzKKxjqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|Boolean|updateCuid|iE4RGAyRGAyRGBvujicZGEb9H000Kdu3JUCuLebwLxK2kd0vLdzKLBCqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|iE4RGAyRGAyRGBvujicZGEb9H000LTu3JUCuLebwLxK2kd0vLdzKLBjqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|iE4RGAyRGAyRGDvsGAyRGBvNJ2N|iv_load_policy|vastbreak|disablekb|iE48iA9xOXN|prt|startvast|dwn|Test|VpaidSet|iE4RGAyRGAyRGBvujicZGEb9H00xKdu3JUCuLebwLxK2kd0vLdzKKxCqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|vpaid_|GTuTjhL0lh9sGUZTN2g0OEWsk3KTJAHum3LnOEWtmTG6GXLtmYcwm2vxJiHnk2S0GTuTmhDwk2WsGUZTKAyuGBGRKUyTJAH0PizWGUZTN3kYGTuTlEcnj29sGUZvQduTj29sOFHtmD9umED5mEWxOAG6PwHtNXcWNTG6KeCqGX9sGUZvJAHnj29sGUZTaFL2kwz3lhc0lB0YKUyYGESWlhOZOB0YKUyYaUvYGFcwjh5xkX9wme0YOFHSmYLqjicWIBGqGBKnHx48NED0lAzVadOLKA43KUbuMeVvLTuvJUb2Lxj5LebRbxysKxG0KeVuKUbqKd40LUN2Mef0GByqKd4vKxVvLBy2GByqKA43KxK4LBN3GCKuJBysKxG4Lef0MBCRKA4xKUbvMeywLAuuGBysLxG0KBV5KejqKAzKKefsKUN1MeyuMAuuGCKvLd42Lxf4KBV4JByRKejqKA4xKUR1Leb4KdyvLTuuJUNxKxR0LxNRbxC2JBCsKeK5KebuLTyvLd42Lxf4KBV4JBCsLBj3LUV1LAyvLd4wLxf5KBy4JBCsLBj3LUV1LAzKKA43KUbuMeVvLTuvJUb2Lxj5LebRhTzLKA43KUbuMeVvLTu0JUb2Lxj5LebRbxysKxG0KeVuKUbqLA40LUN2Mef0GByqLA4vKxVvLBy2GByqKw43KxK4LBN3GCKuJBKsKxG4Lef0MBCRKA4xKUbvMeywLAuxGBysLxG0KBV5KejqKwzKKefsKUN1MeyuMAuxGCKvLd42Lxf4KBV4JBKRKejqKw4xKUR1Leb4KdyvLTuxJUNxKxR0LxNRbxC2JBbsKeK5KebuLTyvLd42Lxf4KBV4JBbsLBj3LUV1LAyvLd4wLxf5KBy4JBbsLBj3LUV1LAzKKA43KUbuMeVvLTu0JUb2Lxj5LebRhTzLKA43KUbuMeVvLTu3JUb2Lxj5LebRbxysKxG0KeVuKUbqLw40LUN2Mef0GByqLw4vKxVvLBy2GByqLT43KxK4LBN3GCKuJBjsKxG4Lef0MBCRKA4xKUbvMeywLAu2GBysLxG0KBV5KejqLTzKKefsKUN1MeyuMAu2GCKvLd42Lxf4KBV4JBjRKejqLT4xKUR1Leb4KdyvLTu2JUNxKxR0LxNRbxC2JBNsKeK5KebuLTyvLd42Lxf4KBV4JBNsLBj3LUV1LAyvLd4wLxf5KBy4JBNsLBj3LUV1LAzKKA43KUbuMeVvLTu3JUb2Lxj5LebRhTzLKA43KUbuMeVvLTuvKA40LUN2Mef0GCKuJUKwLBC5KBG0JBCuJUb2Lxj5LebRKAuvKA4vKxVvLBy2GByqMd43KxK4LBN3GCKuJBVsKxG4Lef0MAyuJUKwLBC5KBG0JBVRKA43KUbuMeVvLTu5GCuvLd4wLxf5KBy4JBVRbxC1JUj3LeRuMeRqMdyvLTu5JUKwMBf1LBRRKejqMd43KxK4LBN3GCKvLTuvKA4vKxVvLBy2GBC1JUj3LeRuMeRqKeysLBj3LUV1LAyvLd4wLxf5KBy4JBCuJUb2Lxj5LebReBysLxG0KBV5KejqKeysLBj3LUV1LAzlGC0uJUNwLBy5MeC2JBCxJUb2Lxj5LebRbxysKxG0KeVuKUbqKeKsLBj3LUV1LAyuJBCxJUCxMeC0KBjRKAuvKT43KxK4LBN3GCKuJBCwJUKwMBf1LBRRKA4xKUbvMeywLAuvKTyuJUNwLBy5MeC2JBCwGCuvLd4wLxf5KBy4JBCwGCKvLd42Lxf4KBV4JBCwGBC2JBCwJUKwMBf1LBRRKejqKeGsLxKxMBb3LwzBKejqKeKsKeK5KebuLTyvLd42Lxf4KBV4JBCxJUb2Lxj5LebRKefsKUN1MeyuMAuvKw40LUN2Mef0GCuuJUNwLBy5MeC2JBCxJUb2Lxj5LebRhTNRkXWqmB0YG2kXkXkXkTONJx48iA9YaUvNJ3L2kx4TJAHSj3cnm24TMTHumED5mEWxOAGqGYztN2W0lh9sGUZTmEgXOAGqGX1SNXOnmTG6GUyRKAyuGBCwGTuTjXNTMUCqGYLUjhvWGUZvJUfqGYc5NEfTMTHxOXNTJAHSmXWrjicnm24TMTHum3LnOEWtmTGqGXHYNEDVkEWskwG6GUKRKwyxGBKTJAHTk2CTMUysLAuTjXOSm3kWNTG6KA44JAH0liyTMUyqGXCTMTGuJUNTJAHSm3kWNTG6GUCTQduTj29sOFHtmD9XOhvqGUn7GX9wkEgwGUZvKTuTm24TMUCqGXWUm24TMTG8N3kYGFOnkFcZadNwKANRlEgnk2S0adNwKAN|aENRkXWqmA1wOhvWadOsm256kiHtHwz0NXDsN2ktNX09H3cwjh5xmED0kdRvJAyvIdN|youtubeid|aFzSOERRkB0YeeCuJUN4KBC0KUVqKA41GCuvLT42KBV5KUR2JBysLey0MBf3KebxGCKvLT44Kxf3MBf3JBysLey0MBf3KebxGBC3JUy2LUfqKA41MeCuLxC0KUVRKeNsKUK3LxC0KwuuJUN2KUG4LeNvLAzBKeNsLBy4MeG4LTuuJUV0KBN4LeNvLAyvLw40MefvLBG5JBCsKej0KUC0KUVRKeNsLBV1KebwMduvJUK5LBVwMBf3GCuvLw41JBNsKUC5MBf3KebRbxC3JUfqLw43KBRRKeNsKBV4KBNvLAu4JUCuLxfRKejsLUy5MeG4LTu4JUCuLxfRbxC2JUCvMBC0KUVqMA4vKBN1GBC1JUNwKey3KebqLw43KBRRKefsLxGvKBNvLAu3JUGvMeR1LxC0GCuvLd43KUCuLxC0JBKsLeK5Kxf3KebReBCuJUfwKBG4LeNqMA43KxN3KebwMdzBKeysKeNvLxR1Lwu5JUy4LxbwMBf3GBVsLUy4Kxf3KebqMd4uMBN0KUR1Lwy5JUG2KUG4LeNvJBRsLxK3LxC0KUVRbxRsMeCwLeNvLBKqMA4xMebuLxC0Kwy4JUVvKUf3KebxJBNsMBG4KUC0KUVRMd4wLUGwMBf3Kdu3JUb4LBf3KebxGCuvLA40LUy2LBG5JBGsKURvKxf3KebReBCuJUN4KBC0KUVqKT4wMBCxLeNvLAzBKeysKUVwJBGsKURvKxf3KebRMd44Meb5KUR1LwuvJUR4KeR1LxC0GBVsMBV0MeG4LeNqKd4xMeyuLxC0KwzBMd44Meb5KUR1LwuuJUR5Lxy3KebwMdyvKA4wMeGqKA41GBCuJUN4KBC0KUVqKA41GDZReeNsKUC5MBf3KebqKeNsLdzKKd4xMeyuLxC0KwuvLw40MefvLBG5GCKvJUC2LBGvLBG5JBC3JUb5LeC0KUVRKA45KxK1JBC3JUbuMBVwMBjRKA43LUGwMBf3KebqKeNsKUK3LxC0KwzBKA41MeCuLxC0KUVqKeNsKBf5KUC0KwyuJUfuLBR1LxC0KwuvLT44Kxf3MBf3GBysLey0MBf3KebxJBC2JUjuLey3KebReBysLduvKA43MByvLBG5GCKuJUfqKeysKUVwGBysMeyvMeG4LeNvJBVsMBVwLdyvJUK5KBy3KebxJBVsMBVwLdzBKd44MBC4LeNvLAu5JUR5KUfRKT4wLxR5KUR1LwuvKA4wMeGRKT4wLxR5KUR1LwuvKA43MByvLBG5GCuwJUG3MBVwMBf3JBC0JUb2KBj0KUVReBNsLBN5LxC0KUVqMd4wLUGwMBf3KdzBLw44KURwKebwMdu4JUVvKUf3KebxGBRsKxVvLUbwMBjqMA45KeG1LxC0Kwy4JUNxLxNvLBG5JBVsKUjwKUR1LxCRbxVsKBR3LBG4LeNqMd42KBf5KUR1Lwy5JUy4LxbwMBf3JBCuJUC3KeN4LeNRMA43KxN3KebwMduvKA41Kef0KUR2GCuxJUfxMeK1LxC0JBC1JUNvMBj0KUVReBNsKUC5MBf3KebqKefsLxC4LUbwMdzBLw43KBRqKefsLxC4LUbwMdy4JUCuLey3KebxJBC2JUCvMBC0KUVRMA4vKBfuLxC0KwuvLT42KBV5KUR2GCK4JUCuLey3KebxJBC3JUCuKUVwMBjRLw43KBRqKeNsLdy3JUGvMeR1LxC0JBC3JUfRhTNRkXWqmB0YG2kXkXkXkTONJx48iA9YaUvNJ3L2kx4TJAHnj29sKTG6GUvxOXNRO2WVOER9HxGuHwzZkhWYlFb9HxGuHx48kwzXlhvqJiH1mEf9H25tmYnWNX8YGEknmEu9HwKuKByuKByYGFcwjh5xkX9wme0YOFHSmYLqjicWIBCqGBCnHx48NED0lAzVadOLKefsLxC5MBbwMAu5JUyuKeV3Kxj3GCu5JUR4LxRuKeK5JBRsMeV3KeC1LAzBMd42LUKvKeR0Kdu4JUV5LxCvLebRMd40KxGxLUG5KTu4JUVvKBR4KeCRMd4wLUCvKeRuLTu4JUNxMejwLxy2GCK5JUy4MeR3KxC5JBRsLef5MBNvKBbRMd4uKBK2LBK1Kdu4JUKxLxjuLeC2GBVsKByxLUbxLeCqMA4vKBj4KxNxGCu4JUV5MBN4LefqKT4wMBy1LejwGCK4JUV5MBN4LefqKd43MeGxGBVsLByuLxR1MBfqKd4xMeG3KBNwLAy5JUR4LxRuKeK5JBCsKxVwLxy3KUbRbxCuJUK4KBR4MebqKd4xMeG3KBNwLAyvKA43LxRuKxC4JBCsLxVwKwyvKA43LxRuKxC4JBGsKURuLef2KTzKKeysLxN4KBKvMAu1JUV2KeVvKBRReBC1JUV3MeN0LUbqKA43LUGxLBj2KejRbxC2JUKwMBKuMBjqKA40KeG1LeCvKURRKejsMBVvMBK3MAuuJUbvKUf1KeCwMAyvLw4wKxj3Lej2JBysLxjwKxb2LUC2GCKvLw41MBN3LBN4JBCsKey2KBj5KUNRKeNsLeR3Lxb3MAuvJUj3KUy1LxRRKeNsKUK2Lxf2LTuwJUyvLeN4KBb1GCuvKT4uKxR2MBf1JBNsKUC4MeR4KxbReBC1JUNvMeR0KURqLw4wKeR5MBRxLAzBKejsKUy4KBNwMdu3JUGvMBV4MBK0GBC2JUjuLeGvLeGqLw42KeR1MBCvGBC2JUjuLeGvLeGqMA4vKeC2Mef1LwzBKejsLUy1KUC1KTu4JUjuLBRvKBy1GBC2JUGuMBy3KUVqMd4uKBC5LxK2LwyvLd43KeV4LBG4JBVsKByvMeNxLUNRhTzLKT4wMByvLeNvLwu4JUV5MBKwMeV3GCu4JUCvKUC5MBjvJBVsKByxKeR4KUbRbxRsKxK4KBV2KBVqMd4uKBKvMBRwLAy4JUf2LxjxLxy4JBVsKBR4KUy3MeRRMA43LByuMej0Ldu5JUG2KBj3LUf5GCK4JUVvKeK0KeKvJBVsLBK5KUC4KBKRMA45MeN1Lxy5Mdu5JUj2KUj5MBb4GBRsMeV3LeNuMeVqMd44MeGwLeC3LwzKMd4uKBG0KUVuKduvLd43KeV3LBN0GCK5JUyuKUbwMeyvJBC2JUGuLUN4MeCRMA42KBy0KUR2LduvLT42KBjxMBC4GBRsKeCwKeV4LUCqKejsLUy2KxRvMAzBLw42KeVvKey1LTuvLT42KBjxMBC4GBNsKUGvMej4KUCqKejsKUy2LxR5Kdy3JUGwKeV2MBGvJBC1JUNvMeN0LxbReBNsKUGvMej4KUCqKeGsKBK3KeN4KwzKKT4uKUywLeK2KTuvLw4wKxj3LBG1GCKvJUj3KUVuLeR4JBC3JUf4LxN1KUfRKd4vKBVxLxj2LwuvLw41MBN3LeG1GBysLxjxKUbxLBK2JBC3JUGxLUN0KUfRbxysLBCwKUfwKeR4JBC2JUR5LBGxLBbRKA40KeGwLeGvMBRqKejsKxG3KBKvKwyuJUN2KxG0KxbxLTuvLd45MBb1KUKwGCu1JUV2KUfwMeywJBCuJUN4KBCuKBNReBGsKURuKef3KeNqKeysLxRuKeyuLwzBKd43MeKvLBC2KwuvKA43MByvKBy3GBCsKxV1MeV5KUVqKeysKxRuLey4GBCsKxV1MeV5KUVqMd44MBNxMeK1GCKvJUK5LeV5MeG5JBVsKxV1LBVxLTyvJUN5KxC0KejxJBRsMeV4KxG5MeNRKT4wMByvLeNvLwu4JUV5MBKwMeV3GDZYGEknmEu9HwLXkXkXkXjYiA8|html5|GTuTjhL0lh9sGUZTkYgqmFLUNXgWmTGqGXDUOEWtmUGTMTHsm3Hrjhvxj3HWkh4TJAH0PizWGUZTN3kYGTuTNE9xlicnm24TMTHUm250NX9qNw1wlhOZOAGqGX1SNXOnmTG6GUyRLdyxGBGuGTuTjdG6GUCTJAHxj2DqkdG6GUysMdGqGXDtOXgwGUZTJeCTQduTj29sOFHtmD9xOEDwOAG6PwHtNXcWNTG6KeKqGYztN2W0lh9sGUZTj2gsOEgwGTuTN2LSmEfTMTG1GTuTm24TMUCqGXWUm24TMTG8N3kYGFOnkFcZadNwKANRlEgnk2S0adNwKAN|toogle|playerapiid|logapi|unstarted|enablejsapi|PAUSED|playerVars|showinfo|ytEnded|initEvent|aDutN3kYaTGqGXWUm24xGUZTaFL2kwz3lhc0lB0YKUyYGESWlhOZOB0YKUyYaUvYGFcwjh5xkX9wme0YOFHSmYLqjicWIBKqGBKnHx48NED0lAzVadOLKebsKBf2MeN3Lwu2JURwKUG1KxR5GCKvKw45KBVxLBN0JBKsKBG5KUCxKUKRKeysMBGuKxy3LAuuGBNsKBKvKUfqKAzBKw4vLBN5MeN4LduuGByqKw4vMBC2Mef5LAyuJBNsKey2LeC2LxRRbxyqKeCsKBKvKxK3LTyxJUC0LxV5LxR1JBC0JUGvKxyxKxjRLw4uKxCwLduvLA4wKeKuKxK2GCK4JURvKByuLduvLA4wKeKuKxK2GBCuJUbxLBb5KduvKw41LBf0LeVvGBCvJUj3KURwKUVqKeGsLBb0LUN3KwzKKeCsLUNwMBGwMduvKT40LBb2LxNxGCuvKA44KBKxLUV3JBCvJUK2LUb3LeVRbxVsMBywLeC4LxfqKeGsKUNwLByxLwy4JUb4KBfxMey1JBCwJURwKxKvLBNRLw4uKxCwLduvKT44KUKxKeb3GCKxJUVuLxK4MeK4JBCwJURwKxKvLBNRKd4xLxfqKeysKUjxMBC3KdyvJUK3Ldu3JUCuLUfvLUN4GCKvJUK3LduxJUV0MeGvLUb2GBKsMey3KxR5KxRqKd4xMBV3KeR4Kwy3JUyxKeG1JBCsKxR5LxC4MBKRbxCuJUy2KBRuKUjqKd4xMBV3KeR4KwyvKT41KxbuLeN0JBKsLxV3KBy4MeGRKeGsLURuLUG5Kwu2JURwKUG1KUjxGCuvKd42MBN1JBjsMBGwKUf2KdzKKeKsKxbxLxfqKeysKeNuKUC1KdzKKefqLT44KUGwLejvGCuvLA4uLej5LxN4JBjsMBGwKUf2KdzKKebsKBf2MeN3Lwu2JURwKUG1KxR5GDZYGEknmEu9HwLXkXkXkXjYaUvNJ3zSOER|stp7fhw0s7ux|default_w|default_h|fullwheel|ytReady|1PwHxj3HWkh5Um2vtNTG6GUyuKByuKAGqGYctm2vTjiGTMYqTj29qm3GTMTGuKByuKByTJAHZlhcWGUZvJAHrjiHYlh4TMTGrKUyRKAyuGByTJAHYNXDVlhgsOAG6KduTjh5nmhD0lh9sGUZTjhvulECTJAHSGUZvJAHZGUZ0LduTmEgXOEDskFHnk2S0NEDVkEWskwG6KeyqGXSnkEg3licZm3g0mh92lh5YGUZvJAHZlhcWkE93mTG6Ki0qGXLtmYcwm2vQOEW0mEfTMYqTm3HVkiGTMUCqGX9sGUZvJAHSj3cnm24TMTH0licqkdGqGYc5NEfTMTH0kiS0GTuTNE9xlicnm24TMTH0m3yrmEgXOAGqGXLqlhLpGUZuJAHZjh5VGUZuJAH0kiS0GUZTGTuTOXDwGUZTOEW0mEfTJAHZlhcWGUZvJAHZlhcWm25umED5GUZvJAHSmXWrjicnm24TMTHum3LnOEWtmTGqGXHYGUZvJAHTk2CTMUysLAuTjXOujhcVlh5YGUZTLTy2GBjRLTH9JAHUm250NX9qi2vnmXfTMYqTm3HVkiGTMUKqGX9sGUZvJAH0PizWGUZTN2SSNEfTJAHSj3cnm24TMTHqlh5WGTuTlAG6KTuTNX91mXcnmXNTMTGvGTuTOwG6KeyuJAHSGUZTKdGqGXDTkwG6GUysKwGqGXDqm2DVGUZTKA40GTuTjh92kiGTMTGrKdGqGXLtmE9wGUZTkXjuKByuGTuTj29qm3HTkwG6GXkXkXkXkTGqGXLtmE9wmE9SkAG6GXkXkXkXkTGqGXLtmE9wm3kWNTG6GXkXkXkXkTGqGXH1kXkWNTG6PwHtmTG6KAuTj29qm3GTMTHXkXkXkXjTJAHSGUZuJUg9JAHum3LnOEWtmTG6GXHtOFctmdGqGX1SNXOnmTG6GUyRKAy1KAyuGTuTlEDskEvWGUZvJAHTk3zSkEcnmXNTMTG1GByRLdyuGTuTOEWuGUZvJAHZlhcWGUZvJAHZlhcWm25qlikWGUZvJAHZjh5VmEgZlhcWGUZuJAHZjh5VmEgxj2DqkdG6GUCTJAH0m3z0liyTMUCqGXvnmXg0lizrjiHYlh5Tm3c0m20TMUCuJAHZjh5VmEgSm3kWNTG6GUCTJAHZjh5VmEgnj29sGUZTaFL2kwz3lhc0lB0YKUzuPANRlEgnk2S0adNwKFz4Hwz2lhg3bX94adNuGByRKUyRKUyYGFkWNYLnm249HxCsKdNRPE1qmYK9H2S0OFy6iA9NJ3O3Ow53Kw5tNXONJxGuKBzNJ3L2kwNRPE1qmYK6PEvnmXq9H2S0OFy6iA9NJ3O3Ow53Kw5tNXONJxC5MeWNJ3Sqlh5pHx5NmTyRGAy8kwzxOFHtl2f9H25tmXfYGFL0NX9pkd13lhc0lB0YKdNRkXWqmB0YmX9skdNRkXWqmA1wOhvWadOWOXgsm2cVHx5NmTyRGAyRGAyRaELnNXLqkdzXlhvqJh9ujhLnOFV9HxysKwNRkXWqmB0YG0kEcVkEcTNRj3R9HxCuHwzUPe0YKeyYGFG9HxCuHx48iA9UliHUmEf|iE4RGAyRGAyRGBvUliHUmEfRkXWqmB0YG0kEcVkEcTNRj3R9HxCuHwzUPe0YKeyYGFG9HxbYaUvNJ2LnNXLqke5NmTyRGAy8iA9YaWvsaDutN3kYaTyTJAHZjh5VmEgZlhcWlh5nOAG6Ki0qGXLtmYcwm2vQNEvSPdG6PwHtNXcWNTG6KTuTm24TMUCqGXWUm24TMTG8N3kYGFOnkFcZadNwKANRlEgnk2S0adNwKAN|unfix|onPlaybackQualityChange|fix|videosize|aDutN3kYaTGqGXWUm24wGUZTaFL2kwz3lhc0lB0YKUyYGESWlhOZOB0YKUyYaUvYGEknmEurNYgqke0YmX9sPXgwmwNRkXWqmB0YGxyuKByuKANROFHSmYLXm3HradO0NXDsN2vSOEfZLduRLAVYaUvwkhL0GFR9HxyYGFV9HxyYGFOnkFcZadNxJUfYGESWlhOZOB0YKeGYGEknmEu9HwLXkXkXkXjYiA8|aFHWj3bRPB0YLT41Hwz5adNuHwz3lhc0lB0YKw41HwzZkhWYlFb9HxCwHwzXlhvqadNUkXkXkXkXH1utaUvNJ2N|isfullscreen|seekstep|iE4RGAyRGAyRGBvujicZGEb9H00wLTu3JUCuLebwLxK2kd0vLdzKKUjqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|GTuTjhL0lh9sGUZTNEvSPdGqGXDUOEWtmUGTMTHujigxkdGqGYc5NEfTMTHxOXNTJAHxj2DqkdG6GUCsLTGqGYLUjhvWm3kWNTG6GT0vGTuTmhDwk2WsGUZTKAyuGBKRKeyTJAHTk2LtmE9wm3kWNTG6GUyujhcWkTGqGXCTMTGvGTuTjh92kiGTMTGrKdGqGXWUm25xNXgumED5GUZvQduTj29sOFHtmD9rOicWGUn7GX9wkEgwGUZ3JAHtmTG6KduTlhLtmTG6GUvxOXNRO2WVOER9HxGuHwzZkhWYlFb9HxGuHx48kwzXlhvqJiH1mEf9H25tmYnWNX8YGEknmEu9HwLXkXkXkXjYGFcwjh5xkX9wme0YOFHSmYLqjicWIBCqGBCnHx48NE9qPhOtmTzum2WsOFK9HxysKUfRKeGsLxfRKA4wLdy1JUG1GBbsLxNwMeC4KUNRLd4wLdyvKd43LUKxKxR0GBysLeR5LxC5MeK1GBCvJUjuLBj1KTyvLw40KBV4MBVRLA43LUR2MBRvKwyvKT43LdNRkXWqmB0YG2kXkXkXkTN|aDutNE9qPhOtmU48iA9YaUvNJ3L2kx4TJAHnj29sKTG6GUvxOXNRO2WVOER9HxGuHwzZkhWYlFb9HxGuHx48kwzXlhvqJiH1mEf9H25tmYnWNX8YGEknmEu9HwLXkXkXkXjYGFcwjh5xkX9wme0YOFHSmYLqjicWIBCqGBCnHx48NED0lAzVadOLKA4wLduvKT43LdzKKA4wLdu1JUG1GCu0JUN3KUVvMBG3JBfsKUfReBCvJUN2KxKxMBbqKA41MBV3KeV5KxfReBCvJUjuLBj1KTuvLw40KBV4MBVReBbsLxj4LUR4KeKqKeGsLxfReBysKUfqKeGsLxfRhTzLKd43Ldu2JUN1GCuvJUN1JBCvJUG1GCu1JUGxKeKvKeR3JBCvJUG1GCuvKA4vKxCvMBN4JBC0JUf5KBCvKdzKKeysKUK2LUjvLTuxJUbvKBG4KBy3GCu1JUGwLxy4KeNxJBjsLxfReBCsLxfqLT43LdzlHwzXlhvqadNUkXkXkXkXHx48iA9ujicZaUvNJ2N|aDutN3kYaTGqGXDUOEWtmTG6GX11OEfTJAHSj3cnm24wGUZTOh5rOicWGTuTOFWukdG6GYL2kwGqGYztN2W0lh9sGUZTj29sOFHtmFKrNXWYlFbTJAHrjiHYlh4TMTGuGByRKwywKAGqGYLUjhvWGUZTKA44GTuTjdG6GUCTJAHSm3kWNTG6GUCTQduTj29sOFHtmD92m2v1mhfTMYqTm3HVkiGTMURqGX9sGUZvJAH0PizWGUZTN2SSNEfTJAHSj3cnm24TMTH2m2v1mhfTJAHZGUZvKTuTNX91mXcnmXNTMTGuGTuTj3gxOE9rO2WVOERTMUCqGYNTMUf0JAHSGUZvJAHSjXNTMTGuJUbTJAHSm3kWNTG6GUyTJAHUm2vtNTG6GXkXkXkXkTGqGXLtmE9wjXNTMTHXkXkXkXjTJAHUm2vtNX92kiGTMTHXkXkXkXjTJAHZlhcWGUZuJAHZlhcWm3g0mig0kdG6KduTNX90jicnm24TMTGTJAHTk3zSkEcnmXNTMTGvKAyvKAyvKAyvKAGqGXHYGUZuJAHZjh5VmEfTMUyqGYztN2W0lh9sGUZTj29sOFHtmFKrNXWYlFbTJAHrjiHYlh4TMTGuGByRKwyuGTuTjXOUm2vtNTG6GUyuKByuKAGqGXHYmwG6GUCTJAHTk2CTMTGuJUfTJAHZjh5VmEgxj2DqkdG6GUCsLdGqGXL1N3ctmhcWN2WYmTG6KduTj3gxOE9rkEgxlhOsN3kYGUZTaFL2kwz3lhc0lB0YMezuPANRlEgnk2S0adNwKYz4Hwz2lhg3bX94adNrKTyrKdy5KAywKTNROXgwN2WtmU0YKd4vHwz4mhvsNx0YlFc0NBnNJ1utO3O3JYNxJX9wk1utKUyuKDutN3kYHwz4mhvsNxn4mEWslx0YlFc0NBnNJ1utO3O3JYNxJX9wk1utKeV5MgutPEvnmXqYaWvsGAyRGBvYGFL0NX9pke0YmX9skdNRN3cwm2rWJiOnkFcZadNvHwzXlhvqadOsm25WHwzXlhvqJiH1mEf9H2g2kh5tkEbYGFL0NX9pkd1qlh5Wj2DuadOxNigSNXfYaWvsGAyRGAyRGAy8NED0lAzVadOLKdu3JUCuLebwLxK2kd0vLdzKKduwKANRN3cwm2rWadNUcVkEcVkEHwzxOFHtl2frO2WVOER9HxCsLdN|mainresize|aDutNED0lB5NmTyRGAyRGAyRaFzSOERRkB0YeejqLw4vKBf0KUNxLXfrKefReBjqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|moveplaylist|iE4RGAyRGAyRGBvujicZGEb9H00vKdu3JUCuLebwLxK2kd0vLdzKKeCqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|ytlog|onStateChange|plduration|iE4RGAyRGAyRGBvujicZGEb9H00vLTu3JUCuLebwLxK2kd0vLdzKKejqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|onReady|iE4RGAyRGAyRGBvujicZGEb9H00wKdu3JUCuLebwLxK2kd0vLdzKKUCqKUyYGFL0NX9pke0YG0kEcVkEcTNRN3cwm2rWJiOnkFcZadNvJUfYaUvNJ3zSOER|modestbranding|dispatchEvent|createEvent|Full|clr_saturate||ytqp|PlayerJS|files_scale|event_category|Metric|files_sleep|reachGoal|getAvailableQualityLevels|current_sleep|clr_contrast|clr_brightness|Enter|LIVE|Audio|clr_sepia|google|website|advertiser|the|vast_impressions_all|adsinvitation|vast_remove|ads|action_back|Verdana|normalonclick|Ultra|Quad|Super|1296p||ytcl1|event_label|aDutN3kYaTGqGXWUm24xGUZTaFL2kwz3lhc0lB0YKUyYGESWlhOZOB0YKUyYaUvYGFcwjh5xkX9wme0YOFHSmYLqjicWIByqGBynHx48NED0lAzVadOLMd45LebvKBy2LduvJUyvLUV0MeC1GCKvLA44MBj1LxC3JBCsKBC2Meb5KefRKeRsMBV5KxK5Lwu1JUy2KeR4LeN1GBC4JUR5MeKxMeNqKeysKBKxMBV4KwzBKeRsMBV5KxK5LwuvLd4uKBf5Key5GBC0JUR4LUf3KeNqKeVsKBfuMBb3Ldy5JUV1LBCuKBj1JBC5JUy1KBR0LxfRbxfsKBGvLUG5LebqKeVsKBfuMBb3LdyvJUyuMBR2Kef1JBC1JUyuLeVvKBVRKd4uKBR4LUC1LduvKA4uKxK4MeRxGCKvJUyuMBR2Kef1JBfsKBjvMBR1LxfRLd4uKUC2KUV1LAuvJUyvLUV0MeC1GBVsMef0KeyuLUfqKd4uKej5LBVvLdzKMd45LebvKBy2LduvJUyvLUV0MeC1GDZReeVsMeGuLBNvMduuGCK0JUb0KUy1LUj0JByRKAu0JUb3LxKxKxKxGByqKeyRbxyqKefsLeGwLUj2Lwy0JUb0KUy1LUj0JBGuGBVsMeGuLBNvMduwKAzBKefsKxV4MBR3KTuwKAyvMd44LBy5LBK4JBC1JUfwKUj2LUNRKeVsMBbuMebxMAuvKAzBKeVsMBbuMebxMAu0JUb3LxKxKxKxGBC1JUK5MBR4LxGqKAy5JUVwKBb3KeVqKAzlGC0vLd43KxR0LUf4JBC0JUGxLxCwKBKRbxC1JUNvLUV1LBRqKeKsMejvMBGvKwyvLd40LxNxLeb2JBCxJUN1LUf5MBKRKefsKUy0LUjuLduvKw43LxN5Leb5GCuvLA41KBCuMBKvJBCxJURxLBj4KxCRbxC2JUfuLxVqKeCsKxV2LxyvLwyvLT4wMeVuLxNxJBNsLxj1LBG0KBNRKeKsMejxMej4LAu1JUf5Key2KUKvGCKvKd41LeCuMBR4JBKsKxbxMef0MBfRLw43Lxb3KxR2LAuxJUb5Leb1KUN1GBfsLeb1MBjvKxjqLd45KUVuMejvLdzBKw4xKeN2LBf5Lwu4JUK2KUy3KUGRKw40LUN4MeG0MduvKT4vLUV4Lxb5GBfsMBRvKeyxKBKqKebsLBC2MeRwKwzBLT44MBf4KxfwLTuvLd4xLeGxKxC2GBRsKeVuLxG5LejqKefsMeC0KUN1Kwy5JUf1LBR2KeV3JBC1JUV5MeyxLBCRbxVsMBG4Leb4MebqKejsKBC2KBfwLdyvKA4uLUK4LBj5JBC1JURuLUC1LxVRKeysKBRuLxG0MAuvLd41KxyvMeC1GCKvKA4uMeN5KxK3JBC1JUG1LBf1MBNRMd44MBV3LxG3LAuvLd4uKejwMeV5GBVsLUC1Lxf0MBGqKebsMeV5Meb4MdzBMA40LxV2KxV2MduvLA45KUV1KxVvGBNsKxVwKeNwLUbqKebsLBjvKxjxMdy2JUf1LBR5LeN3JBCxJUj4KefvLURRbxbsLebxLBb1LxKqKeCsMBy4MBC2GBbsLBC4LURvLejqMA42KxjuKxj0GBjsKUN1MeCxMBCqLT42KBRvLUNuMdzBMA4vKxG4KefvJBbsLeRuKUV3LxjRKeCsKUN5KxR3Ldu0JUb1KxRwLxy2GBCxJUG5KBfuLUjqLT4xKUj4LUC1KwzBKefsKUC0KUf3Lwu4JUCvMBC0KBfxGBC1JUbuLxC5LebqKeCsKBV3KBbwMdyvKw43MefvMBVxJBCxJUCwLxG0MBCReBCxJUN5LBR1MBbqKeGsLBj1MBjxGCKvKw43Meb4LeR0JBCwJUC4MeR5LUjRKeKsLeNwLBj3KduvKd45LUfxKeVxGBCxJUG5MBN4KBCqKeCsMej1LUfxGCKvKw4uKUbvKByxJBCvJUV2Lej1KwyvKT44KBGuLAuvKT4vMeywKxyxGBCwJURuKUK3KBVqKeGsLBj2KeV2LwzKKeGsMBywKxNuMduvLA40KxK2LUNvGCKvKT44KBGuLAuvLA41LxKvLeC5GBCwJUR2KBjvLUGqKebsLxy2KUV2LdyvKT45LUC4MBK4JBC0JURuKey2LUCRbxCxJUy2Kxb4KUGqKebsMBV1MBK1MAyvKw4wKByvLUyvJBC0JUV0Kxf1LBKRKeKsKxK4KejvMduvLA45KxG1LBGxGCuvLd4wMBG3LUGwJBC0JUN3LUK3KUNRbxC1JUf1LUb0MeCqKebsLxf0KBC1KdyvLd43LUy2KxR4JBC0JUfvKUN1KwyvLd43KxR0LUf4JBC0JUGxLxCwKBKRhTNRkXWqmB0YG2kXkXkXkTN|CUED|adShown|videoId|vast_Impression|BUFFERING|rewound|unmuted|resumed|aDutNED0lB48iA9YaUvNJ3L2kx4TJAHSj3cnm24TMTHumED5GTuTOFWukdG6GYL2kwGqGXHYGUZuJAHTk2LtmE9wGUZTKByuKByuGTuTjXOtGUZvJAHTk3zSkEcnmXNTMTGrKdyrKdyrKdyrKdGqGXWUm25rjiHYlh4TMTGuGByRKAyuGTuTjXOSGUZTKdGqGXHYjh92kiGTMTGrKdGqGYLUjhvWm3kWNTG6KT4vJAHZlhcWGUZvJAHZlhcWm25umED5GUZvJAHZlhcWm255m3g0OhHWGUZvJAHSGUZTKA42GTuTjh92kiGTMTGvGTuTlEWVkigsOEWqkh5VkhbTMUyqGXDslh1SOEWtmTG6GYLUjhvWGTuTlEWVkhDXOEgwN3cSNYbTMUyqGXWUm25xNXgumED5GUZvQduTj29sOFHtmD9qlikWGUn7GX9wkEgwGUZ0JAHtmTG6KduTOEg4OAG6GXvnOXfTJAHqkic0kiHxNEDUlh5YGUZwJAHSj3cnm24TMTHqlikWGTuTOFWukdG6GYcWPFbTJAHZjh5VGUZuJAHUmEWUlwG6KAuTkX9sOFLnPXfTMUCuJAHrjiHYlh4TMTGuGByRKAyuGTuTjdG6KA41JAHZlhcWGUZvJAHZlhcWm252m2bTMUD9JAHUm250NX9qi3L0m3yTMYqTm3HVkiGTMUC0JAHtmTG6KAuTlhLtmTG6GUvxOXNRO2WVOER9HxGuHwzZkhWYlFb9HxGuHx48kwz0NXDsN2ktNX09H3cwjh5xmED0kdR0JAy0IdN|aFHWj3bRPB0YKANRPe0YKANRO2WVOER9HxCwHwzZkhWYlFb9HxCwHwzXlhvqadNUkXkXkXkXH1utaUvNJ2N|aDutN3kYaTGqGXDUOEWtmTG6GYL0m3yTJAH0PizWGUZTN3kYGTuTjXNTMUz9JAHUm250NX9qi3zwkijTMYqTm3HVkiGTMUC1JAHtmTG6KAuTlhLtmTG6GUvxOXNRO2WVOER9HxGuHwzZkhWYlFb9HxGuHx48kwz0NXDsN2ktNX09H3cwjh5xmED0kdR1JUfqGBfnHx48NED0lAzVadOLMA45MeV5MduvKA40KxN0MdzKMA45MeV5MduvKA40KxN1GCuwJBfsKUC4LxfReBRsMeV5MeVqKAzKMA45MeV5MduvKA40KxN0MdzlGC0uJByReBGqKAzKKTuvKA4wLBV4KwzKKAuvKA4wLBV4KwzKKAuuGDZYGEknmEu9HwLXkXkXkXjYiA8|GTuTjhL0lh9sGUZTNFHWOTGqGYc5NEfTMTHxOXNTJAHxj2DqkdG6Kd4wJAHum3LnOEWtmTG6GXLtmYcwm2vxJhHtOFctmdGqGX1SNXOnmTG6GUyRKAyuGBC1GY0qGXLtmYcwm2vQmXg4OAG6PwHtNXcWNTG6KejqGX9sGUZuJAHnj29sGUZTaFL2kwz3lhc0lB0YKUyYGESWlhOZOB0YKUyYaUvYGFcwjh5xkX9wme0YOFHSmYLqjicWIBfqGBfnHx48NED0lAzVadOLKA40LUV0MAuvkd0uLdzKKA40LUV0MAuvkd0uLdzKKA40LUV0MAuuGCu3JUb2Meb3JBfsKUC4LxfReBysLBj5LBRqKeysLBK3LdzKKA40LUV0MAuvkd0uLdzlGC03JUfxKBfwJByReBVsLeKuLeGqKAzKMd41Kxy1KTuvKA42KUb4KTzKLw41Kxy1KTuvKA42KUb4KTzKLw41Kxy1KTuuGDZYGEknmEu9HwLXkXkXkXjYiA8|API|youtube_iframe_api|GTuTjhL0lh9sGUZTmXg4OAGqGYc5NEfTMTHxOXNTJAHxj2DqkdG6Kd4wJAHum3LnOEWtmTG6GXLtmYcwm2vxJhHtOFctmdGqGX1SNXOnmTG6GUyRKAyuGBC1GY0qGXLtmYcwm2vQN2SSNXfTMYqTm3HVkiGTMUC3JAHtmTG6KAuTlhLtmTG6GUvxOXNRO2WVOER9HxGuHwzZkhWYlFb9HxGuHx48kwz0NXDsN2ktNX09H3cwjh5xmED0kdRvJAyxIdN|ytError|logos|galog|reloaderTimer|thumbs_img|Firefox|moved|onYouTubeIframeAPIReady|pjsga|customyterrors|aFzSOERRkB0YeeCuJUfwKUN1KBKqKeGsKxb4LBCwMAzKKeysLeGwLxfuKwu5JUKuKxK5LByvGCK1JUfxLUf4LUb4JBVsKeC5Ley4MeRRKT41Kxb4KBV4MduvKd4xMBV2MeRvGByqKeKsMeCwLeKuLdzBKAu3JUVvLeVwLeC5GBfsKUG2Mej4LxNqKw4vMeG3KefxLTyvKA41KUG3LeyxJBKsKeK5MBjuKdzKKeysLeGwLxfuKwuuJUCvLxj0Lxy1MdzKKeRsKByxLeRvMAu2JUGxKxywMeVxGCuvKA41KUG3LeyxJBCwJUK0MBbvKURRhTNRkXWqmB0YG2kXkXkXkTONJx48iA9YaUvNJ3L2kx4TJAHSj3cnm24TMTHxlEDwkdGqGYc5NEfTMTHxOXNTJAHum3LnOEWtmTG6GYctNA1wlhOZOAGqGX1SNXOnmTG6GUC1GBC1GByRKAGqGXHYGUZvJAHTk28TMUCqGYLUjhvWGUZvJAHTk3zSkEcnmXNTMTG2GBjRLTy2GTuTjXOSGUZuJUKqGXHYjh92kiGTMUysLTuTjh5nmhD0lh9sGUZTNE9xlicnm24TJAHWjiLWGUZTkhvSN3cnjwH9JAHqjh5YGUZTkh4TJAHwm3gskEWskwG6KAuTmE9YGUZuJAHXm250NwG6KduTkX9sOE5SmhgxGUZTfX9Tm3ctGCLtmXcWmYLWkAGqGYLWOFcnmXOxGUn7GYLWOFcnmXOxLAG6KduTN2g0OEWsk3K0jhL0lh9sGUZTN3zWkhbTJAHrjiHYlh4TMTGuGByRLdyuGY0qGXknmEfTMTHmLBRuND1ZOFcuNxnNJ1utNEvwlYKsj29riA9xjh1umEfsmiy0JDq3KUzuihS0OFzxMWutiA9umFHoNw5Um21NJ3LSmizqkd5rNBbqhxCuMBzuihS0OFzxMWutiA9umFHoNw5Um21NJ3LSmizqkd5rNBbTQb||unavailable|isflash|u10|watch|capiom|eventlisteners|posterwidth|16x9|177|partnerpauserollor|vast_pauseroll_vmap|vast_postroll_vmap|line_play|vast_midroll_vmap|_timer|vpaid_timeout|vpaid_timeout2|vast_resound|PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTMgOSIgd2lkdGg9IjEwMCUiPjxwYXRoIGQ9Ik01LDcgTDYsNyBMNiw4IEw1LDggTDUsNyBaIE0xMCwzIEwxMCw0IEw4LDQgTDgsMyBMMTAsMyBaIE0zLDYgTDMsNSBMNSw1IEw1LDYgTDMsNiBaIE0yLDcgTDMsNyBMMyw4IEwyLDggTDIsNyBaIE03LDcgTDEwLDcgTDEwLDggTDcsOCBMNyw3IFogTTEwLDYgTDExLDYgTDExLDcgTDEwLDcgTDEwLDYgWiIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIwLjY0NzEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48cGF0aCBkPSJNNSw3IEw1LDYgTDUsNSBMMyw1IEwzLDYgTDMsNyBMMiw3IEwyLDIgTDMsMiBMMyw0IEw1LDQgTDUsMiBMNiwyIEw2LDcgTDUsNyBaIE0xMSw2IEwxMCw2IEwxMCw3IEw3LDcgTDcsMiBMMTAsMiBMMTAsMyBMMTEsMyBMMTEsNiBaIE0xMCw0IEwxMCwzIEw4LDMgTDgsNCBMOCw2IEwxMCw2IEwxMCw0IFoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48L3N2Zz4|xml|vpaid_slotinframe|eventstrackervast||partnerprerollor|through|vast_openclick|partnerpostrollor|partnermidrollor|midrollpoint|||introskiptime|introclickable|scroll_right|introclosetime|introtitle|introtxt|radius_|heartbeatinterval|default_channel|minivis|vast_preroll_vmap|yttitle|f2img|vast_progresscolor|992|914|vast_titlecolor|vast_xbgcolor|vast_xcolor|brdlc|brdl|vast_progressbgcolor|883|957|296|bggrclr|sub_all_title|372|vast_unmutebutbgcolor|275|857|432|vast_volumebgcolor|vast_volumecolor|marginRight|5em|actn|sub_allmy|vast_linktxtonmobile|vast_unmutehover|vast_unmutebutonce|vast_default_volume|fimg|f00|vast_skipcolor|073DA0|home|clr_|hlsqhsort|pjslng_sub_sizeproc|f2parent|sub_unmem|PluginSubword|subclr|644082|redirectplaylist|usernew|readAsText|409829|D90000|clear|ffff00|4bd9ac|setioff|b3fee8|250|d9bb8c|aaaaaa|ffc7d1|e8bbff|feba54|72ccf8|faed54|62de50|pjslng_|onchange|sub_settings|current_channel|2003|2002|hdiconclr|scroll_up|scrollWidth|subtitle_errdel|constrols|onMouseOut|Input|sub_move|onMouseOver|sub_drag|black|sub_fonted|upload|speed4live|hidearrow|borderBottom|WEBVTT|borderRight|Dialogue|sleep2options|sleepoptions|playlistfolder|offsetoptions|pressed_|accept|clone|vast_titlebgcolor|vast_skipbgcolor|postertitleonhover|scrollTo|775|poster_floatmargin|poster_floatposition|hidesmoothly|dropnohide|poster_floatwidth|poster_floatheight|997|994|985|979|poster_floatbgcolor|getVideoLoadedFraction|971|885|962|loadVideoById|918|dashdebug|dashcookies|897|dashlowquality|nameofdashquality|errortimeout|vast_skip|vast_click|874|848|logo|915|vast_impression|appVersion|Edge|Trident|999999|shuffle8|PluginDroplist|historybgaover|888888|170|222222|unMute|Opera|titlecolor|setPlaybackQuality|settings1|settings5action|settings1action|settings2action|settings3|settings3action|settings4|trident|settings4action|settings5|userAgent|appName|993|983|contains|818|785|brdla|vast_pauseroll_counter|vast_preroll_andlimit|984|996|vast_prerolltimebreak|paddingbottom|vast_prerolltbimp|vast_preroll_counter|vast_pauseroll_limit|vast_pauserolltimebreak|vast_pauserolltbimp|019|036|041|vast_postroll_limit|vast_title|vast_postrolltimebreak|vast_postrolltbimp|vast_postroll_counter|vast_playroll_limit|vast_playroll_counter|vast_midroll_counter|vast_midrolltimebreak|vast_midrolltbimp|029|vast_introtimebreak|vast_introtbimp|vast_linktxtbgcolor|vast_linktxtcolor|vast_preroll_limit|vast_volume|747|shareiconmargin|705|ga_proc|659|606|sharetitle|sharetop|shareiconscale|shareiconscaleover|547|483|416|344|267|185|vast_closeonclick|096|embedsize|embedwidth|560|embedheight|160|003|007|001|vast_timeout|vast_pauseonclick|988|981|vast_unmutebutcolor|vastresume|timeplay|isOn|hdbfdt|noset|to_right|lrpp|customwidth|wproc|450|02|tskp|nativemobile|cancelskip|cancel|seektome|seekiconbut|ssfly|bezier|ssdown|combined|PluginSettings2|hdbfmb|showvolmobile|nohdstt|fillvideo|webkitPresentationMode|pictureInPictureElement|requestPictureInPicture|exitPictureInPicture|setAudio|setWsQuality|setWsAudioTrack|level|getDash|HlsSubTrack|hdn|subtrack|playbackRate|childNodes|kind|dashInterval||reset|customspeeds|ndash|grdt|showovr|nohdsttm|pictureInPictureEnabled|showlive|hidemini|hidenomini|hidenoab|hideab|hideonyoutube|wasapl|pjs_cast_button_|cast_available|pauseonhover|hideonlive|showduration|showboth|separator|buffering|SettingsTimer|maxHeight|ShowSettingsBut|enter|187|hideonmeta|hideonunmute|showuntilmeta|hidenoerr|hideonbar|hidelap|hidesmall||dropopen|hideall|hideonend|hideondesktop|hideonmobile|hideunwait|hideerr|hidenormscreen|hidewait|hideafterstart|hidelastpl|hide0timestore|hideuntiltext|hideuntilstartedios|hideuntilended|hideonvod|hideonleave|disablePictureInPicture|webkitSupportsPresentationMode|bufferInterval|AUDIO_TRACKS_UPDATED|LEVEL_SWITCHED|LEVEL_LOADED|Live|FRAG_CHANGED|fragment|relurl||FRAG_PARSING_METADATA|fragdata|AUDIO_TRACK_SWITCHING|MANIFEST_PARSED|subtitleDisplay|hlssubtracks|FRAG_LOADED|SUBTITLE_TRACKS_UPDATED|subtitleTracks|ERROR|networkError|mediaError||hlsermd|LEVEL_SWITCH|MANIFEST_LOADED|hls_error|playready|DASH|autoStartLoad|enableWorker|manifestLoadPolicy|fragLoadPolicy|hlscltps|capLevelToPlayerSize|widevine|microsoft|clearkey|attached|licenseUrl|serverCertificateUrl|emeEnabled|drmSystems|xhrSetup|withCredentials|prehls|attachMedia|MEDIA_ATTACHED|recoverMediaError|Level|webkitShowPlaybackTargetPicker|playError3|playOk|playunmute|playError|interrupted|automute|playError2|autoplay_denied|request|1500|Infinity|hlsforce|webkitAudioContext|switchpip|createGain|destination|autoLevelEnabled|cast|disabled|WebKitPlaybackTargetAvailabilityEvent|playtry|AudioTrack|regress|webkitbeginfullscreen|unauto|PluginWS|wsconfig|sleep|watching|loadstart|loadeddata|hlsdrmfpl|hlsdrmfps|webkitDisplayingFullscreen|hlsaudiolang|onpause|wake|2000px|nativeaudio|WebKitMediaSource|WebKitSourceBuffer|appendBuffer|hlsaddbitrate|firstLevel|189|bufferDeg|flussonic|outline|borderin|inset|querySelector|pjscolor|backface|manipulation|origin|indent|visited|observe|hover|class|oncontextmenu|ContextMenu|rc_custom|rc_nobrand|uppercase|99999|rmright|childList|oframe|15em|allowLinker|intvsbl|pstrcnfg|emptyremove|answer|hash|Cross|getDate|srvsga|88484718|require|transbg|autoLink|eventCategory|eventAction|eventLabel|word|container_w_procent|select|35px|07|ref|playback|pljscom|change2playlist_bottom|passonstart|mobtch1|nfscldr|nfsclios|nombclck|seeksidesmob|layerX|offsetX|posterstime|PluginEffects|pstrvd|_vdpsrt|pstrvc|Orientation|webkitFullscreenElement|webkitIsFullScreen|mozFullScreen|msFullscreenElement|fullscreenElement|PluginMediaTags|ChromeCast|panel|quizes|autoplaynomobiletv|rafinit|sessid|sleeptimer0|offsettimerinit|TimeStore|startvisibility|PluginMini|PluginBlock|PluginQuiz|Local|mouseenter|mouseleave|orientationchange|scaled|move|keyup|keydown|MSFullscreenChange|fullscreenchange|viewinit|unatpl|countdown|tipmarginbottom|iconmargintop|iconmarginbottom|iconmarginleft|iconmarginright|rotateonclick|tippointeralign|180|tipmargintop|tipmarginleft|clickmarginleft|tipmarginright|hidesec2|scale0|control_time|control_duration|triangle|control_mute|volume_element|slider|clickmarginright|bggrc|hdbffs|SVG|counter|PluginCountdown|iconspress|link2|tofr|ontop2|PlgnCntrlTmln|webp|_text|_icon|bggrl|ontouchend|flipx|flipy|touch_|_bg||bg2color|bg2a|bg2o|bg2p|hdbfnr|running|fast|grdta|235|hlsdvrtime|offsetwidth|roundingver_final|pjs_thumbnail_|200000|shape|grdth|grdtc|handlemarginright|mrgnp|brdclr|brdtop|iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT|OqFAAAAdklEQVQoz42QQQ7AIAgEF|kbq|RWAlnQyyazA4aoAB4FsBSA|bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg|DOMContentLoaded|Destroyed|handlemarginleft|Color|valuemargintop|alphas|abg|lines1|aload|colorover|valuepaddingtop|valuepaddingbottom|valuepaddingleft|valuepaddingright|valuemarginbottom|onmousedown|valuemarginleft|valuemarginright|l3v_left|handlemargintop|handlemarginbottom|handshdw|drop|225|onmouseup|PlugMediaChannels|createMediaElementSource|support|01|PluginWater||pjsstat|pjsstatid|PluginStat|AdBlock|Resume|Progress|water|scrnstp|dontseekforward|downself|_self|reloadstart|PasswordTime|wid|isOpen|slides||blnk|exist2v|pageXOffset|globalfont|const|scrollY|redirectblank|redirectparent|nativeontv|nativehlsinedge|showfrom1file|sess|trkp2|mxprc|nativenotandroid|slds|tracking|191|VastImpression|vast_init|crtm|skipimprsd|skipimpessed|bgload2|bgload|VpaidStarted|3600000|VastShow|VastReady|vast_ready|VastOverlay|vastbgpreload|tagLive|yandex|vlscrl|heartbeats|webkitSupportsFullscreen|writePl|reloadjustevent|reloadplus|pjsiframed|fileend|outros|webkitFullscreenEnabled|issue|iosplbf|webkitEnterFullScreen|webkitExitFullscreen|OpenScroll|wheelDelta|chngwd|||||||||||crossdomain|NaN|192|PluginVastTimeMsg|vastinfo|showvlt|menu1|menu2|menu3|current_custom|vastnow|vastpause|playlist_length|vaststart|startAd|vastmute|currentfile|vrsn|vastids|showplaylist|playlist_folders|vpaid|Courier|camera|castinit|castend|Active|10000|sscopyright|Arial|cut2|fillStyle|fillText|toDataURL|jpeg|invert|cut1|adsystem|wrapper0|2048|FindPjsDiv|setProperty|repeating|45deg|1000000|control_buffer|cssText|nodeName|number|PJSDIV|arguments|substring|||||||||||reduce|encode|0123456789|olor|NaNpx|filetype|nexttrack|getVolume|midroll_time|midrollcrtm|MediaMetadata|artwork|previoustrack|stylesheet|async|googleapis|css2|head|swap|circle|clk|same|renew|openlast|startdelay|urlmse|qualitypause|Quality|createposter|Seeking|Break|reloadtimes|Alternative|tryotherquality|scaledrag|dragging|scaledrag0|error_time|loaderror|codecs|0001|avc1|42E01E|mp4a|tagcors|EXTINF|crossorigin|playlists|redirectafter|crossOrigin|finish|pstrtg||||drunchr|finishnormal||1600p|||nomedia|ynxnopip|New|vast_startdelay|eng|English|customqualities|rus|2160|3840|Speed|Audiotrack|1440|FloatPosterScale|rldnornd|PluginFloatPoster|hqdefault|vast_loadtxtd|mediart|2560|1080|utube|1920|MediaPjs|RemoveAll|1280|480|854|240|426|Created|vast_posterurl|norootplstart|tags|nativehlssafari|vast_stop|vast_dontplay|nativenodownload|vldcntrInterval|controlsList|alarm|VastError|taginframe|vast_error|vast_finish|VastRemoveUrl|Pass|VstAndLmt|VastInsertOr|VastInsertAnd|disablePreload|preloading|nativehlsinsafari|nativehlstv|and2limit|Next|EmptyVastUrl|||nodownload|stpoad|RemovePassword|posterfull'.split('|'), 0, {}))
!function t(e) { var r, i; r = this, i = function () { "use strict"; function r(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(t); e && (i = i.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), r.push.apply(r, i) } return r } function i(t) { for (var e = 1; e < arguments.length; e++) { var i = null != arguments[e] ? arguments[e] : {}; e % 2 ? r(Object(i), !0).forEach((function (e) { var r, a, s; r = t, a = e, s = i[e], (a = n(a)) in r ? Object.defineProperty(r, a, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : r[a] = s })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : r(Object(i)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e)) })) } return t } function n(t) { var e = function (t, e) { if ("object" != typeof t || !t) return t; var r = t[Symbol.toPrimitive]; if (void 0 !== r) { var i = r.call(t, e || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === e ? String : Number)(t) }(t, "string"); return "symbol" == typeof e ? e : String(e) } function a(t, e) { for (var r = 0; r < e.length; r++) { var i = e[r]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, n(i.key), i) } } function s(t, e, r) { return e && a(t.prototype, e), r && a(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function o() { return o = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]) } return t }, o.apply(this, arguments) } function l(t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t, h(t, e) } function u(t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } function h(t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d(t, e, r) { return d = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (t) { return !1 } }() ? Reflect.construct.bind() : function (t, e, r) { var i = [null]; i.push.apply(i, e); var n = new (Function.bind.apply(t, i)); return r && h(n, r.prototype), n }, d.apply(null, arguments) } function c(t) { var e = "function" == typeof Map ? new Map : void 0; return c = function (t) { if (null === t || !function (t) { try { return -1 !== Function.toString.call(t).indexOf("[native code]") } catch (e) { return "function" == typeof t } }(t)) return t; if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function"); if (void 0 !== e) { if (e.has(t)) return e.get(t); e.set(t, r) } function r() { return d(t, arguments, u(this).constructor) } return r.prototype = Object.create(t.prototype, { constructor: { value: r, enumerable: !1, writable: !0, configurable: !0 } }), h(r, t) }, c(t) } function f(t, e) { (null == e || e > t.length) && (e = t.length); for (var r = 0, i = new Array(e); r < e; r++)i[r] = t[r]; return i } function g(t, e) { var r = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (r) return (r = r.call(t)).next.bind(r); if (Array.isArray(t) || (r = function (t, e) { if (t) { if ("string" == typeof t) return f(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); return "Object" === r && t.constructor && (r = t.constructor.name), "Map" === r || "Set" === r ? Array.from(t) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? f(t, e) : void 0 } }(t)) || e && t && "number" == typeof t.length) { r && (t = r); var i = 0; return function () { return i >= t.length ? { done: !0 } : { done: !1, value: t[i++] } } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function v(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var m = { exports: {} }; !function (t, e) { var r, i, n, a, s; r = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/, i = /^(?=([^\/?#]*))\1([^]*)$/, n = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g, s = { buildAbsoluteURL: function (t, e, r) { if (r = r || {}, t = t.trim(), !(e = e.trim())) { if (!r.alwaysNormalize) return t; var n = s.parseURL(t); if (!n) throw new Error("Error trying to parse base URL."); return n.path = s.normalizePath(n.path), s.buildURLFromParts(n) } var a = s.parseURL(e); if (!a) throw new Error("Error trying to parse relative URL."); if (a.scheme) return r.alwaysNormalize ? (a.path = s.normalizePath(a.path), s.buildURLFromParts(a)) : e; var o = s.parseURL(t); if (!o) throw new Error("Error trying to parse base URL."); if (!o.netLoc && o.path && "/" !== o.path[0]) { var l = i.exec(o.path); o.netLoc = l[1], o.path = l[2] } o.netLoc && !o.path && (o.path = "/"); var u = { scheme: o.scheme, netLoc: a.netLoc, path: null, params: a.params, query: a.query, fragment: a.fragment }; if (!a.netLoc && (u.netLoc = o.netLoc, "/" !== a.path[0])) if (a.path) { var h = o.path, d = h.substring(0, h.lastIndexOf("/") + 1) + a.path; u.path = s.normalizePath(d) } else u.path = o.path, a.params || (u.params = o.params, a.query || (u.query = o.query)); return null === u.path && (u.path = r.alwaysNormalize ? s.normalizePath(a.path) : a.path), s.buildURLFromParts(u) }, parseURL: function (t) { var e = r.exec(t); return e ? { scheme: e[1] || "", netLoc: e[2] || "", path: e[3] || "", params: e[4] || "", query: e[5] || "", fragment: e[6] || "" } : null }, normalizePath: function (t) { for (t = t.split("").reverse().join("").replace(n, ""); t.length !== (t = t.replace(a, "")).length;); return t.split("").reverse().join("") }, buildURLFromParts: function (t) { return t.scheme + t.netLoc + t.path + t.params + t.query + t.fragment } }, t.exports = s }(m); var p = m.exports, y = Number.isFinite || function (t) { return "number" == typeof t && isFinite(t) }, E = Number.isSafeInteger || function (t) { return "number" == typeof t && Math.abs(t) <= T }, T = Number.MAX_SAFE_INTEGER || 9007199254740991, S = function (t) { return t.MEDIA_ATTACHING = "hlsMediaAttaching", t.MEDIA_ATTACHED = "hlsMediaAttached", t.MEDIA_DETACHING = "hlsMediaDetaching", t.MEDIA_DETACHED = "hlsMediaDetached", t.BUFFER_RESET = "hlsBufferReset", t.BUFFER_CODECS = "hlsBufferCodecs", t.BUFFER_CREATED = "hlsBufferCreated", t.BUFFER_APPENDING = "hlsBufferAppending", t.BUFFER_APPENDED = "hlsBufferAppended", t.BUFFER_EOS = "hlsBufferEos", t.BUFFER_FLUSHING = "hlsBufferFlushing", t.BUFFER_FLUSHED = "hlsBufferFlushed", t.MANIFEST_LOADING = "hlsManifestLoading", t.MANIFEST_LOADED = "hlsManifestLoaded", t.MANIFEST_PARSED = "hlsManifestParsed", t.LEVEL_SWITCHING = "hlsLevelSwitching", t.LEVEL_SWITCHED = "hlsLevelSwitched", t.LEVEL_LOADING = "hlsLevelLoading", t.LEVEL_LOADED = "hlsLevelLoaded", t.LEVEL_UPDATED = "hlsLevelUpdated", t.LEVEL_PTS_UPDATED = "hlsLevelPtsUpdated", t.LEVELS_UPDATED = "hlsLevelsUpdated", t.AUDIO_TRACKS_UPDATED = "hlsAudioTracksUpdated", t.AUDIO_TRACK_SWITCHING = "hlsAudioTrackSwitching", t.AUDIO_TRACK_SWITCHED = "hlsAudioTrackSwitched", t.AUDIO_TRACK_LOADING = "hlsAudioTrackLoading", t.AUDIO_TRACK_LOADED = "hlsAudioTrackLoaded", t.SUBTITLE_TRACKS_UPDATED = "hlsSubtitleTracksUpdated", t.SUBTITLE_TRACKS_CLEARED = "hlsSubtitleTracksCleared", t.SUBTITLE_TRACK_SWITCH = "hlsSubtitleTrackSwitch", t.SUBTITLE_TRACK_LOADING = "hlsSubtitleTrackLoading", t.SUBTITLE_TRACK_LOADED = "hlsSubtitleTrackLoaded", t.SUBTITLE_FRAG_PROCESSED = "hlsSubtitleFragProcessed", t.CUES_PARSED = "hlsCuesParsed", t.NON_NATIVE_TEXT_TRACKS_FOUND = "hlsNonNativeTextTracksFound", t.INIT_PTS_FOUND = "hlsInitPtsFound", t.FRAG_LOADING = "hlsFragLoading", t.FRAG_LOAD_EMERGENCY_ABORTED = "hlsFragLoadEmergencyAborted", t.FRAG_LOADED = "hlsFragLoaded", t.FRAG_DECRYPTED = "hlsFragDecrypted", t.FRAG_PARSING_INIT_SEGMENT = "hlsFragParsingInitSegment", t.FRAG_PARSING_USERDATA = "hlsFragParsingUserdata", t.FRAG_PARSING_METADATA = "hlsFragParsingMetadata", t.FRAG_PARSED = "hlsFragParsed", t.FRAG_BUFFERED = "hlsFragBuffered", t.FRAG_CHANGED = "hlsFragChanged", t.FPS_DROP = "hlsFpsDrop", t.FPS_DROP_LEVEL_CAPPING = "hlsFpsDropLevelCapping", t.MAX_AUTO_LEVEL_UPDATED = "hlsMaxAutoLevelUpdated", t.ERROR = "hlsError", t.DESTROYING = "hlsDestroying", t.KEY_LOADING = "hlsKeyLoading", t.KEY_LOADED = "hlsKeyLoaded", t.LIVE_BACK_BUFFER_REACHED = "hlsLiveBackBufferReached", t.BACK_BUFFER_REACHED = "hlsBackBufferReached", t.STEERING_MANIFEST_LOADED = "hlsSteeringManifestLoaded", t }({}), L = function (t) { return t.NETWORK_ERROR = "networkError", t.MEDIA_ERROR = "mediaError", t.KEY_SYSTEM_ERROR = "keySystemError", t.MUX_ERROR = "muxError", t.OTHER_ERROR = "otherError", t }({}), A = function (t) { return t.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys", t.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess", t.KEY_SYSTEM_NO_SESSION = "keySystemNoSession", t.KEY_SYSTEM_NO_CONFIGURED_LICENSE = "keySystemNoConfiguredLicense", t.KEY_SYSTEM_LICENSE_REQUEST_FAILED = "keySystemLicenseRequestFailed", t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED = "keySystemServerCertificateRequestFailed", t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED = "keySystemServerCertificateUpdateFailed", t.KEY_SYSTEM_SESSION_UPDATE_FAILED = "keySystemSessionUpdateFailed", t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED = "keySystemStatusOutputRestricted", t.KEY_SYSTEM_STATUS_INTERNAL_ERROR = "keySystemStatusInternalError", t.MANIFEST_LOAD_ERROR = "manifestLoadError", t.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut", t.MANIFEST_PARSING_ERROR = "manifestParsingError", t.MANIFEST_INCOMPATIBLE_CODECS_ERROR = "manifestIncompatibleCodecsError", t.LEVEL_EMPTY_ERROR = "levelEmptyError", t.LEVEL_LOAD_ERROR = "levelLoadError", t.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut", t.LEVEL_PARSING_ERROR = "levelParsingError", t.LEVEL_SWITCH_ERROR = "levelSwitchError", t.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError", t.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut", t.SUBTITLE_LOAD_ERROR = "subtitleTrackLoadError", t.SUBTITLE_TRACK_LOAD_TIMEOUT = "subtitleTrackLoadTimeOut", t.FRAG_LOAD_ERROR = "fragLoadError", t.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut", t.FRAG_DECRYPT_ERROR = "fragDecryptError", t.FRAG_PARSING_ERROR = "fragParsingError", t.FRAG_GAP = "fragGap", t.REMUX_ALLOC_ERROR = "remuxAllocError", t.KEY_LOAD_ERROR = "keyLoadError", t.KEY_LOAD_TIMEOUT = "keyLoadTimeOut", t.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError", t.BUFFER_INCOMPATIBLE_CODECS_ERROR = "bufferIncompatibleCodecsError", t.BUFFER_APPEND_ERROR = "bufferAppendError", t.BUFFER_APPENDING_ERROR = "bufferAppendingError", t.BUFFER_STALLED_ERROR = "bufferStalledError", t.BUFFER_FULL_ERROR = "bufferFullError", t.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole", t.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall", t.INTERNAL_EXCEPTION = "internalException", t.INTERNAL_ABORTED = "aborted", t.UNKNOWN = "unknown", t }({}), R = function () { }, b = { trace: R, debug: R, log: R, warn: R, info: R, error: R }, k = b; function D(t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; r.forEach((function (e) { k[e] = t[e] ? t[e].bind(t) : function (t) { var e = self.console[t]; return e ? e.bind(self.console, "[" + t + "] >") : R }(e) })) } function I(t, e) { if ("object" == typeof console && !0 === t || "object" == typeof t) { D(t, "debug", "log", "info", "warn", "error"); try { k.log('Debug logs enabled for "' + e + '" in hls.js version 1.5.17') } catch (t) { k = b } } else k = b } var w = k, C = /^(\d+)x(\d+)$/, _ = /(.+?)=(".*?"|.*?)(?:,|$)/g, x = function () { function t(e) { "string" == typeof e && (e = t.parseAttrList(e)), o(this, e) } var e = t.prototype; return e.decimalInteger = function (t) { var e = parseInt(this[t], 10); return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e }, e.hexadecimalInteger = function (t) { if (this[t]) { var e = (this[t] || "0x").slice(2); e = (1 & e.length ? "0" : "") + e; for (var r = new Uint8Array(e.length / 2), i = 0; i < e.length / 2; i++)r[i] = parseInt(e.slice(2 * i, 2 * i + 2), 16); return r } return null }, e.hexadecimalIntegerAsNumber = function (t) { var e = parseInt(this[t], 16); return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e }, e.decimalFloatingPoint = function (t) { return parseFloat(this[t]) }, e.optionalFloat = function (t, e) { var r = this[t]; return r ? parseFloat(r) : e }, e.enumeratedString = function (t) { return this[t] }, e.bool = function (t) { return "YES" === this[t] }, e.decimalResolution = function (t) { var e = C.exec(this[t]); if (null !== e) return { width: parseInt(e[1], 10), height: parseInt(e[2], 10) } }, t.parseAttrList = function (t) { var e, r = {}; for (_.lastIndex = 0; null !== (e = _.exec(t));) { var i = e[2]; 0 === i.indexOf('"') && i.lastIndexOf('"') === i.length - 1 && (i = i.slice(1, -1)), r[e[1].trim()] = i } return r }, s(t, [{ key: "clientAttrs", get: function () { return Object.keys(this).filter((function (t) { return "X-" === t.substring(0, 2) })) } }]), t }(); function P(t) { return "SCTE35-OUT" === t || "SCTE35-IN" === t } var F = function () { function t(t, e) { if (this.attr = void 0, this._startDate = void 0, this._endDate = void 0, this._badValueForSameId = void 0, e) { var r = e.attr; for (var i in r) if (Object.prototype.hasOwnProperty.call(t, i) && t[i] !== r[i]) { w.warn('DATERANGE tag attribute: "' + i + '" does not match for tags with ID: "' + t.ID + '"'), this._badValueForSameId = i; break } t = o(new x({}), r, t) } if (this.attr = t, this._startDate = new Date(t["START-DATE"]), "END-DATE" in this.attr) { var n = new Date(this.attr["END-DATE"]); y(n.getTime()) && (this._endDate = n) } } return s(t, [{ key: "id", get: function () { return this.attr.ID } }, { key: "class", get: function () { return this.attr.CLASS } }, { key: "startDate", get: function () { return this._startDate } }, { key: "endDate", get: function () { if (this._endDate) return this._endDate; var t = this.duration; return null !== t ? new Date(this._startDate.getTime() + 1e3 * t) : null } }, { key: "duration", get: function () { if ("DURATION" in this.attr) { var t = this.attr.decimalFloatingPoint("DURATION"); if (y(t)) return t } else if (this._endDate) return (this._endDate.getTime() - this._startDate.getTime()) / 1e3; return null } }, { key: "plannedDuration", get: function () { return "PLANNED-DURATION" in this.attr ? this.attr.decimalFloatingPoint("PLANNED-DURATION") : null } }, { key: "endOnNext", get: function () { return this.attr.bool("END-ON-NEXT") } }, { key: "isValid", get: function () { return !!this.id && !this._badValueForSameId && y(this.startDate.getTime()) && (null === this.duration || this.duration >= 0) && (!this.endOnNext || !!this.class) } }]), t }(), M = function () { this.aborted = !1, this.loaded = 0, this.retry = 0, this.total = 0, this.chunkCount = 0, this.bwEstimate = 0, this.loading = { start: 0, first: 0, end: 0 }, this.parsing = { start: 0, end: 0 }, this.buffering = { start: 0, first: 0, end: 0 } }, O = "audio", N = "video", U = "audiovideo", B = function () { function t(t) { var e; this._byteRange = null, this._url = null, this.baseurl = void 0, this.relurl = void 0, this.elementaryStreams = ((e = {})[O] = null, e[N] = null, e[U] = null, e), this.baseurl = t } return t.prototype.setByteRange = function (t, e) { var r, i = t.split("@", 2); r = 1 === i.length ? (null == e ? void 0 : e.byteRangeEndOffset) || 0 : parseInt(i[1]), this._byteRange = [r, parseInt(i[0]) + r] }, s(t, [{ key: "byteRange", get: function () { return this._byteRange ? this._byteRange : [] } }, { key: "byteRangeStartOffset", get: function () { return this.byteRange[0] } }, { key: "byteRangeEndOffset", get: function () { return this.byteRange[1] } }, { key: "url", get: function () { return !this._url && this.baseurl && this.relurl && (this._url = p.buildAbsoluteURL(this.baseurl, this.relurl, { alwaysNormalize: !0 })), this._url || "" }, set: function (t) { this._url = t } }]), t }(), G = function (t) { function e(e, r) { var i; return (i = t.call(this, r) || this)._decryptdata = null, i.rawProgramDateTime = null, i.programDateTime = null, i.tagList = [], i.duration = 0, i.sn = 0, i.levelkeys = void 0, i.type = void 0, i.loader = null, i.keyLoader = null, i.level = -1, i.cc = 0, i.startPTS = void 0, i.endPTS = void 0, i.startDTS = void 0, i.endDTS = void 0, i.start = 0, i.deltaPTS = void 0, i.maxStartPTS = void 0, i.minEndPTS = void 0, i.stats = new M, i.data = void 0, i.bitrateTest = !1, i.title = null, i.initSegment = null, i.endList = void 0, i.gap = void 0, i.urlId = 0, i.type = e, i } l(e, t); var r = e.prototype; return r.setKeyFormat = function (t) { if (this.levelkeys) { var e = this.levelkeys[t]; e && !this._decryptdata && (this._decryptdata = e.getDecryptData(this.sn)) } }, r.abortRequests = function () { var t, e; null == (t = this.loader) || t.abort(), null == (e = this.keyLoader) || e.abort() }, r.setElementaryStreamInfo = function (t, e, r, i, n, a) { void 0 === a && (a = !1); var s = this.elementaryStreams, o = s[t]; o ? (o.startPTS = Math.min(o.startPTS, e), o.endPTS = Math.max(o.endPTS, r), o.startDTS = Math.min(o.startDTS, i), o.endDTS = Math.max(o.endDTS, n)) : s[t] = { startPTS: e, endPTS: r, startDTS: i, endDTS: n, partial: a } }, r.clearElementaryStreamInfo = function () { var t = this.elementaryStreams; t[O] = null, t[N] = null, t[U] = null }, s(e, [{ key: "decryptdata", get: function () { if (!this.levelkeys && !this._decryptdata) return null; if (!this._decryptdata && this.levelkeys && !this.levelkeys.NONE) { var t = this.levelkeys.identity; if (t) this._decryptdata = t.getDecryptData(this.sn); else { var e = Object.keys(this.levelkeys); if (1 === e.length) return this._decryptdata = this.levelkeys[e[0]].getDecryptData(this.sn) } } return this._decryptdata } }, { key: "end", get: function () { return this.start + this.duration } }, { key: "endProgramDateTime", get: function () { if (null === this.programDateTime) return null; if (!y(this.programDateTime)) return null; var t = y(this.duration) ? this.duration : 0; return this.programDateTime + 1e3 * t } }, { key: "encrypted", get: function () { var t; if (null != (t = this._decryptdata) && t.encrypted) return !0; if (this.levelkeys) { var e = Object.keys(this.levelkeys), r = e.length; if (r > 1 || 1 === r && this.levelkeys[e[0]].encrypted) return !0 } return !1 } }]), e }(B), K = function (t) { function e(e, r, i, n, a) { var s; (s = t.call(this, i) || this).fragOffset = 0, s.duration = 0, s.gap = !1, s.independent = !1, s.relurl = void 0, s.fragment = void 0, s.index = void 0, s.stats = new M, s.duration = e.decimalFloatingPoint("DURATION"), s.gap = e.bool("GAP"), s.independent = e.bool("INDEPENDENT"), s.relurl = e.enumeratedString("URI"), s.fragment = r, s.index = n; var o = e.enumeratedString("BYTERANGE"); return o && s.setByteRange(o, a), a && (s.fragOffset = a.fragOffset + a.duration), s } return l(e, t), s(e, [{ key: "start", get: function () { return this.fragment.start + this.fragOffset } }, { key: "end", get: function () { return this.start + this.duration } }, { key: "loaded", get: function () { var t = this.elementaryStreams; return !!(t.audio || t.video || t.audiovideo) } }]), e }(B), H = function () { function t(t) { this.PTSKnown = !1, this.alignedSliding = !1, this.averagetargetduration = void 0, this.endCC = 0, this.endSN = 0, this.fragments = void 0, this.fragmentHint = void 0, this.partList = null, this.dateRanges = void 0, this.live = !0, this.ageHeader = 0, this.advancedDateTime = void 0, this.updated = !0, this.advanced = !0, this.availabilityDelay = void 0, this.misses = 0, this.startCC = 0, this.startSN = 0, this.startTimeOffset = null, this.targetduration = 0, this.totalduration = 0, this.type = null, this.url = void 0, this.m3u8 = "", this.version = null, this.canBlockReload = !1, this.canSkipUntil = 0, this.canSkipDateRanges = !1, this.skippedSegments = 0, this.recentlyRemovedDateranges = void 0, this.partHoldBack = 0, this.holdBack = 0, this.partTarget = 0, this.preloadHint = void 0, this.renditionReports = void 0, this.tuneInGoal = 0, this.deltaUpdateFailed = void 0, this.driftStartTime = 0, this.driftEndTime = 0, this.driftStart = 0, this.driftEnd = 0, this.encryptedFragments = void 0, this.playlistParsingError = null, this.variableList = null, this.hasVariableRefs = !1, this.fragments = [], this.encryptedFragments = [], this.dateRanges = {}, this.url = t } return t.prototype.reloaded = function (t) { if (!t) return this.advanced = !0, void (this.updated = !0); var e = this.lastPartSn - t.lastPartSn, r = this.lastPartIndex - t.lastPartIndex; this.updated = this.endSN !== t.endSN || !!r || !!e || !this.live, this.advanced = this.endSN > t.endSN || e > 0 || 0 === e && r > 0, this.updated || this.advanced ? this.misses = Math.floor(.6 * t.misses) : this.misses = t.misses + 1, this.availabilityDelay = t.availabilityDelay }, s(t, [{ key: "hasProgramDateTime", get: function () { return !!this.fragments.length && y(this.fragments[this.fragments.length - 1].programDateTime) } }, { key: "levelTargetDuration", get: function () { return this.averagetargetduration || this.targetduration || 10 } }, { key: "drift", get: function () { var t = this.driftEndTime - this.driftStartTime; return t > 0 ? 1e3 * (this.driftEnd - this.driftStart) / t : 1 } }, { key: "edge", get: function () { return this.partEnd || this.fragmentEnd } }, { key: "partEnd", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].end : this.fragmentEnd } }, { key: "fragmentEnd", get: function () { var t; return null != (t = this.fragments) && t.length ? this.fragments[this.fragments.length - 1].end : 0 } }, { key: "age", get: function () { return this.advancedDateTime ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3 : 0 } }, { key: "lastPartIndex", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].index : -1 } }, { key: "lastPartSn", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].fragment.sn : this.endSN } }]), t }(); function V(t) { return Uint8Array.from(atob(t), (function (t) { return t.charCodeAt(0) })) } function Y(t) { var e, r, i = t.split(":"), n = null; if ("data" === i[0] && 2 === i.length) { var a = i[1].split(";"), s = a[a.length - 1].split(","); if (2 === s.length) { var o = "base64" === s[0], l = s[1]; o ? (a.splice(-1, 1), n = V(l)) : (e = W(l).subarray(0, 16), (r = new Uint8Array(16)).set(e, 16 - e.length), n = r) } } return n } function W(t) { return Uint8Array.from(unescape(encodeURIComponent(t)), (function (t) { return t.charCodeAt(0) })) } var j = "undefined" != typeof self ? self : void 0, q = { CLEARKEY: "org.w3.clearkey", FAIRPLAY: "com.apple.fps", PLAYREADY: "com.microsoft.playready", WIDEVINE: "com.widevine.alpha" }, X = "org.w3.clearkey", z = "com.apple.streamingkeydelivery", Q = "com.microsoft.playready", J = "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"; function $(t) { switch (t) { case z: return q.FAIRPLAY; case Q: return q.PLAYREADY; case J: return q.WIDEVINE; case X: return q.CLEARKEY } } var Z = "1077efecc0b24d02ace33c1e52e2fb4b", tt = "e2719d58a985b3c9781ab030af78d30e", et = "9a04f07998404286ab92e65be0885f95", rt = "edef8ba979d64acea3c827dcd51d21ed"; function it(t) { return t === rt ? q.WIDEVINE : t === et ? q.PLAYREADY : t === Z || t === tt ? q.CLEARKEY : void 0 } function nt(t) { switch (t) { case q.FAIRPLAY: return z; case q.PLAYREADY: return Q; case q.WIDEVINE: return J; case q.CLEARKEY: return X } } function at(t) { var e = t.drmSystems, r = t.widevineLicenseUrl, i = e ? [q.FAIRPLAY, q.WIDEVINE, q.PLAYREADY, q.CLEARKEY].filter((function (t) { return !!e[t] })) : []; return !i[q.WIDEVINE] && r && i.push(q.WIDEVINE), i } var st, ot = null != j && null != (st = j.navigator) && st.requestMediaKeySystemAccess ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator) : null; function lt(t, e, r) { return Uint8Array.prototype.slice ? t.slice(e, r) : new Uint8Array(Array.prototype.slice.call(t, e, r)) } var ut, ht = function (t, e) { return e + 10 <= t.length && 73 === t[e] && 68 === t[e + 1] && 51 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128 }, dt = function (t, e) { return e + 10 <= t.length && 51 === t[e] && 68 === t[e + 1] && 73 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128 }, ct = function (t, e) { for (var r = e, i = 0; ht(t, e);)i += 10, i += ft(t, e + 6), dt(t, e + 10) && (i += 10), e += i; if (i > 0) return t.subarray(r, r + i) }, ft = function (t, e) { var r = 0; return r = (127 & t[e]) << 21, r |= (127 & t[e + 1]) << 14, r |= (127 & t[e + 2]) << 7, r |= 127 & t[e + 3] }, gt = function (t, e) { return ht(t, e) && ft(t, e + 6) + 10 <= t.length - e }, vt = function (t) { for (var e = yt(t), r = 0; r < e.length; r++) { var i = e[r]; if (mt(i)) return At(i) } }, mt = function (t) { return t && "PRIV" === t.key && "com.apple.streaming.transportStreamTimestamp" === t.info }, pt = function (t) { var e = String.fromCharCode(t[0], t[1], t[2], t[3]), r = ft(t, 4); return { type: e, size: r, data: t.subarray(10, 10 + r) } }, yt = function (t) { for (var e = 0, r = []; ht(t, e);) { for (var i = ft(t, e + 6), n = (e += 10) + i; e + 8 < n;) { var a = pt(t.subarray(e)), s = Et(a); s && r.push(s), e += a.size + 10 } dt(t, e) && (e += 10) } return r }, Et = function (t) { return "PRIV" === t.type ? Tt(t) : "W" === t.type[0] ? Lt(t) : St(t) }, Tt = function (t) { if (!(t.size < 2)) { var e = Rt(t.data, !0), r = new Uint8Array(t.data.subarray(e.length + 1)); return { key: t.type, info: e, data: r.buffer } } }, St = function (t) { if (!(t.size < 2)) { if ("TXXX" === t.type) { var e = 1, r = Rt(t.data.subarray(e), !0); e += r.length + 1; var i = Rt(t.data.subarray(e)); return { key: t.type, info: r, data: i } } var n = Rt(t.data.subarray(1)); return { key: t.type, data: n } } }, Lt = function (t) { if ("WXXX" === t.type) { if (t.size < 2) return; var e = 1, r = Rt(t.data.subarray(e), !0); e += r.length + 1; var i = Rt(t.data.subarray(e)); return { key: t.type, info: r, data: i } } var n = Rt(t.data); return { key: t.type, data: n } }, At = function (t) { if (8 === t.data.byteLength) { var e = new Uint8Array(t.data), r = 1 & e[3], i = (e[4] << 23) + (e[5] << 15) + (e[6] << 7) + e[7]; return i /= 45, r && (i += 47721858.84), Math.round(i) } }, Rt = function (t, e) { void 0 === e && (e = !1); var r = bt(); if (r) { var i = r.decode(t); if (e) { var n = i.indexOf("\0"); return -1 !== n ? i.substring(0, n) : i } return i.replace(/\0/g, "") } for (var a, s, o, l = t.length, u = "", h = 0; h < l;) { if (0 === (a = t[h++]) && e) return u; if (0 !== a && 3 !== a) switch (a >> 4) { case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7: u += String.fromCharCode(a); break; case 12: case 13: s = t[h++], u += String.fromCharCode((31 & a) << 6 | 63 & s); break; case 14: s = t[h++], o = t[h++], u += String.fromCharCode((15 & a) << 12 | (63 & s) << 6 | (63 & o) << 0) } } return u }; function bt() { if (!navigator.userAgent.includes("PlayStation 4")) return ut || void 0 === self.TextDecoder || (ut = new self.TextDecoder("utf-8")), ut } var kt = { hexDump: function (t) { for (var e = "", r = 0; r < t.length; r++) { var i = t[r].toString(16); i.length < 2 && (i = "0" + i), e += i } return e } }, Dt = Math.pow(2, 32) - 1, It = [].push, wt = { video: 1, audio: 2, id3: 3, text: 4 }; function Ct(t) { return String.fromCharCode.apply(null, t) } function _t(t, e) { var r = t[e] << 8 | t[e + 1]; return r < 0 ? 65536 + r : r } function xt(t, e) { var r = Ft(t, e); return r < 0 ? 4294967296 + r : r } function Pt(t, e) { var r = xt(t, e); return r *= Math.pow(2, 32), r += xt(t, e + 4) } function Ft(t, e) { return t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3] } function Mt(t, e, r) { t[e] = r >> 24, t[e + 1] = r >> 16 & 255, t[e + 2] = r >> 8 & 255, t[e + 3] = 255 & r } function Ot(t, e) { var r = []; if (!e.length) return r; for (var i = t.byteLength, n = 0; n < i;) { var a = xt(t, n), s = a > 1 ? n + a : i; if (Ct(t.subarray(n + 4, n + 8)) === e[0]) if (1 === e.length) r.push(t.subarray(n + 8, s)); else { var o = Ot(t.subarray(n + 8, s), e.slice(1)); o.length && It.apply(r, o) } n = s } return r } function Nt(t) { var e = [], r = t[0], i = 8, n = xt(t, i); i += 4; var a = 0, s = 0; 0 === r ? (a = xt(t, i), s = xt(t, i + 4), i += 8) : (a = Pt(t, i), s = Pt(t, i + 8), i += 16), i += 2; var o = t.length + s, l = _t(t, i); i += 2; for (var u = 0; u < l; u++) { var h = i, d = xt(t, h); h += 4; var c = 2147483647 & d; if (1 == (2147483648 & d) >>> 31) return w.warn("SIDX has hierarchical references (not supported)"), null; var f = xt(t, h); h += 4, e.push({ referenceSize: c, subsegmentDuration: f, info: { duration: f / n, start: o, end: o + c - 1 } }), o += c, i = h += 4 } return { earliestPresentationTime: a, timescale: n, version: r, referencesCount: l, references: e } } function Ut(t) { for (var e = [], r = Ot(t, ["moov", "trak"]), n = 0; n < r.length; n++) { var a = r[n], s = Ot(a, ["tkhd"])[0]; if (s) { var o = s[0], l = xt(s, 0 === o ? 12 : 20), u = Ot(a, ["mdia", "mdhd"])[0]; if (u) { var h = xt(u, 0 === (o = u[0]) ? 12 : 20), d = Ot(a, ["mdia", "hdlr"])[0]; if (d) { var c = Ct(d.subarray(8, 12)), f = { soun: O, vide: N }[c]; if (f) { var g = Bt(Ot(a, ["mdia", "minf", "stbl", "stsd"])[0]); e[l] = { timescale: h, type: f }, e[f] = i({ timescale: h, id: l }, g) } } } } } return Ot(t, ["moov", "mvex", "trex"]).forEach((function (t) { var r = xt(t, 4), i = e[r]; i && (i.default = { duration: xt(t, 12), flags: xt(t, 20) }) })), e } function Bt(t) { var e = t.subarray(8), r = e.subarray(86), i = Ct(e.subarray(4, 8)), n = i, a = "enca" === i || "encv" === i; if (a) { var s = Ot(e, [i])[0]; Ot(s.subarray("enca" === i ? 28 : 78), ["sinf"]).forEach((function (t) { var e = Ot(t, ["schm"])[0]; if (e) { var r = Ct(e.subarray(4, 8)); if ("cbcs" === r || "cenc" === r) { var i = Ot(t, ["frma"])[0]; i && (n = Ct(i)) } } })) } switch (n) { case "avc1": case "avc2": case "avc3": case "avc4": var o = Ot(r, ["avcC"])[0]; n += "." + Kt(o[1]) + Kt(o[2]) + Kt(o[3]); break; case "mp4a": var l = Ot(e, [i])[0], u = Ot(l.subarray(28), ["esds"])[0]; if (u && u.length > 12) { var h = 4; if (3 !== u[h++]) break; h = Gt(u, h), h += 2; var d = u[h++]; if (128 & d && (h += 2), 64 & d && (h += u[h++]), 4 !== u[h++]) break; h = Gt(u, h); var c = u[h++]; if (64 !== c) break; if (n += "." + Kt(c), h += 12, 5 !== u[h++]) break; h = Gt(u, h); var f = u[h++], g = (248 & f) >> 3; 31 === g && (g += 1 + ((7 & f) << 3) + ((224 & u[h]) >> 5)), n += "." + g } break; case "hvc1": case "hev1": var v = Ot(r, ["hvcC"])[0], m = v[1], p = ["", "A", "B", "C"][m >> 6], y = 31 & m, E = xt(v, 2), T = (32 & m) >> 5 ? "H" : "L", S = v[12], L = v.subarray(6, 12); n += "." + p + y, n += "." + E.toString(16).toUpperCase(), n += "." + T + S; for (var A = "", R = L.length; R--;) { var b = L[R]; (b || A) && (A = "." + b.toString(16).toUpperCase() + A) } n += A; break; case "dvh1": case "dvhe": var k = Ot(r, ["dvcC"])[0], D = k[2] >> 1 & 127, I = k[2] << 5 & 32 | k[3] >> 3 & 31; n += "." + Ht(D) + "." + Ht(I); break; case "vp09": var w = Ot(r, ["vpcC"])[0], C = w[4], _ = w[5], x = w[6] >> 4 & 15; n += "." + Ht(C) + "." + Ht(_) + "." + Ht(x); break; case "av01": var P = Ot(r, ["av1C"])[0], F = P[1] >>> 5, M = 31 & P[1], O = P[2] >>> 7 ? "H" : "M", N = (64 & P[2]) >> 6, U = (32 & P[2]) >> 5, B = 2 === F && N ? U ? 12 : 10 : N ? 10 : 8, G = (16 & P[2]) >> 4, K = (8 & P[2]) >> 3, H = (4 & P[2]) >> 2, V = 3 & P[2]; n += "." + F + "." + Ht(M) + O + "." + Ht(B) + "." + G + "." + K + H + V + "." + Ht(1) + "." + Ht(1) + "." + Ht(1) + ".0" }return { codec: n, encrypted: a } } function Gt(t, e) { for (var r = e + 5; 128 & t[e++] && e < r;); return e } function Kt(t) { return ("0" + t.toString(16).toUpperCase()).slice(-2) } function Ht(t) { return (t < 10 ? "0" : "") + t } function Vt(t) { var e = Ot(t, ["schm"])[0]; if (e) { var r = Ct(e.subarray(4, 8)); if ("cbcs" === r || "cenc" === r) return Ot(t, ["schi", "tenc"])[0] } return null } function Yt(t) { var e = xt(t, 0), r = 8; 1 & e && (r += 4), 4 & e && (r += 4); for (var i = 0, n = xt(t, 4), a = 0; a < n; a++)256 & e && (i += xt(t, r), r += 4), 512 & e && (r += 4), 1024 & e && (r += 4), 2048 & e && (r += 4); return i } function Wt(t, e) { var r = new Uint8Array(t.length + e.length); return r.set(t), r.set(e, t.length), r } function jt(t, e) { var r = [], i = e.samples, n = e.timescale, a = e.id, s = !1; return Ot(i, ["moof"]).map((function (o) { var l = o.byteOffset - 8; Ot(o, ["traf"]).map((function (o) { var u = Ot(o, ["tfdt"]).map((function (t) { var e = t[0], r = xt(t, 4); return 1 === e && (r *= Math.pow(2, 32), r += xt(t, 8)), r / n }))[0]; return void 0 !== u && (t = u), Ot(o, ["tfhd"]).map((function (u) { var h = xt(u, 4), d = 16777215 & xt(u, 0), c = 0, f = 0 != (16 & d), g = 0, v = 0 != (32 & d), m = 8; h === a && (0 != (1 & d) && (m += 8), 0 != (2 & d) && (m += 4), 0 != (8 & d) && (c = xt(u, m), m += 4), f && (g = xt(u, m), m += 4), v && (m += 4), "video" === e.type && (s = function (t) { if (!t) return !1; var e = t.indexOf("."), r = e < 0 ? t : t.substring(0, e); return "hvc1" === r || "hev1" === r || "dvh1" === r || "dvhe" === r }(e.codec)), Ot(o, ["trun"]).map((function (a) { var o = a[0], u = 16777215 & xt(a, 0), h = 0 != (1 & u), d = 0, f = 0 != (4 & u), v = 0 != (256 & u), m = 0, p = 0 != (512 & u), y = 0, E = 0 != (1024 & u), T = 0 != (2048 & u), S = 0, L = xt(a, 4), A = 8; h && (d = xt(a, A), A += 4), f && (A += 4); for (var R = d + l, b = 0; b < L; b++) { if (v ? (m = xt(a, A), A += 4) : m = c, p ? (y = xt(a, A), A += 4) : y = g, E && (A += 4), T && (S = 0 === o ? xt(a, A) : Ft(a, A), A += 4), e.type === N) for (var k = 0; k < y;) { var D = xt(i, R); qt(s, i[R += 4]) && Xt(i.subarray(R, R + D), s ? 2 : 1, t + S / n, r), R += D, k += D + 4 } t += m / n } }))) })) })) })), r } function qt(t, e) { if (t) { var r = e >> 1 & 63; return 39 === r || 40 === r } return 6 == (31 & e) } function Xt(t, e, r, i) { var n = zt(t), a = 0; a += e; for (var s = 0, o = 0, l = 0; a < n.length;) { s = 0; do { if (a >= n.length) break; s += l = n[a++] } while (255 === l); o = 0; do { if (a >= n.length) break; o += l = n[a++] } while (255 === l); var u = n.length - a, h = a; if (o < u) a += o; else if (o > u) { w.error("Malformed SEI payload. " + o + " is too small, only " + u + " bytes left to parse."); break } if (4 === s) { if (181 === n[h++]) { var d = _t(n, h); if (h += 2, 49 === d) { var c = xt(n, h); if (h += 4, 1195456820 === c) { var f = n[h++]; if (3 === f) { var g = n[h++], v = 64 & g, m = v ? 2 + 3 * (31 & g) : 0, p = new Uint8Array(m); if (v) { p[0] = g; for (var y = 1; y < m; y++)p[y] = n[h++] } i.push({ type: f, payloadType: s, pts: r, bytes: p }) } } } } } else if (5 === s && o > 16) { for (var E = [], T = 0; T < 16; T++) { var S = n[h++].toString(16); E.push(1 == S.length ? "0" + S : S), 3 !== T && 5 !== T && 7 !== T && 9 !== T || E.push("-") } for (var L = o - 16, A = new Uint8Array(L), R = 0; R < L; R++)A[R] = n[h++]; i.push({ payloadType: s, pts: r, uuid: E.join(""), userData: Rt(A), userDataBytes: A }) } } } function zt(t) { for (var e = t.byteLength, r = [], i = 1; i < e - 2;)0 === t[i] && 0 === t[i + 1] && 3 === t[i + 2] ? (r.push(i + 2), i += 2) : i++; if (0 === r.length) return t; var n = e - r.length, a = new Uint8Array(n), s = 0; for (i = 0; i < n; s++, i++)s === r[0] && (s++, r.shift()), a[i] = t[s]; return a } function Qt(t, e, r) { if (16 !== t.byteLength) throw new RangeError("Invalid system id"); var i, n, a; if (e) { i = 1, n = new Uint8Array(16 * e.length); for (var s = 0; s < e.length; s++) { var o = e[s]; if (16 !== o.byteLength) throw new RangeError("Invalid key"); n.set(o, 16 * s) } } else i = 0, n = new Uint8Array; i > 0 ? (a = new Uint8Array(4), e.length > 0 && new DataView(a.buffer).setUint32(0, e.length, !1)) : a = new Uint8Array; var l = new Uint8Array(4); return r && r.byteLength > 0 && new DataView(l.buffer).setUint32(0, r.byteLength, !1), function (t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; for (var n = r.length, a = 8, s = n; s--;)a += r[s].byteLength; var o = new Uint8Array(a); for (o[0] = a >> 24 & 255, o[1] = a >> 16 & 255, o[2] = a >> 8 & 255, o[3] = 255 & a, o.set(t, 4), s = 0, a = 8; s < n; s++)o.set(r[s], a), a += r[s].byteLength; return o }([112, 115, 115, 104], new Uint8Array([i, 0, 0, 0]), t, a, n, l, r || new Uint8Array) } function Jt(t) { var e = t.getUint32(0), r = t.byteOffset, i = t.byteLength; if (i < e) return { offset: r, size: i }; if (1886614376 !== t.getUint32(4)) return { offset: r, size: e }; var n = t.getUint32(8) >>> 24; if (0 !== n && 1 !== n) return { offset: r, size: e }; var a = t.buffer, s = kt.hexDump(new Uint8Array(a, r + 12, 16)), o = t.getUint32(28), l = null, u = null; if (0 === n) { if (e - 32 < o || o < 22) return { offset: r, size: e }; u = new Uint8Array(a, r + 32, o) } else if (1 === n) { if (!o || i < r + 32 + 16 * o + 16) return { offset: r, size: e }; l = []; for (var h = 0; h < o; h++)l.push(new Uint8Array(a, r + 32 + 16 * h, 16)) } return { version: n, systemId: s, kids: l, data: u, offset: r, size: e } } var $t = {}, Zt = function () { function t(t, e, r, i, n) { void 0 === i && (i = [1]), void 0 === n && (n = null), this.uri = void 0, this.method = void 0, this.keyFormat = void 0, this.keyFormatVersions = void 0, this.encrypted = void 0, this.isCommonEncryption = void 0, this.iv = null, this.key = null, this.keyId = null, this.pssh = null, this.method = t, this.uri = e, this.keyFormat = r, this.keyFormatVersions = i, this.iv = n, this.encrypted = !!t && "NONE" !== t, this.isCommonEncryption = this.encrypted && "AES-128" !== t } t.clearKeyUriToKeyIdMap = function () { $t = {} }; var e = t.prototype; return e.isSupported = function () { if (this.method) { if ("AES-128" === this.method || "NONE" === this.method) return !0; if ("identity" === this.keyFormat) return "SAMPLE-AES" === this.method; switch (this.keyFormat) { case z: case J: case Q: case X: return -1 !== ["ISO-23001-7", "SAMPLE-AES", "SAMPLE-AES-CENC", "SAMPLE-AES-CTR"].indexOf(this.method) } } return !1 }, e.getDecryptData = function (e) { if (!this.encrypted || !this.uri) return null; if ("AES-128" === this.method && this.uri && !this.iv) { "number" != typeof e && ("AES-128" !== this.method || this.iv || w.warn('missing IV for initialization segment with method="' + this.method + '" - compliance issue'), e = 0); var r = function (t) { for (var e = new Uint8Array(16), r = 12; r < 16; r++)e[r] = t >> 8 * (15 - r) & 255; return e }(e); return new t(this.method, this.uri, "identity", this.keyFormatVersions, r) } var i = Y(this.uri); if (i) switch (this.keyFormat) { case J: this.pssh = i, i.length >= 22 && (this.keyId = i.subarray(i.length - 22, i.length - 6)); break; case Q: var n = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]); this.pssh = Qt(n, null, i); var a = new Uint16Array(i.buffer, i.byteOffset, i.byteLength / 2), s = String.fromCharCode.apply(null, Array.from(a)), o = s.substring(s.indexOf("<"), s.length), l = (new DOMParser).parseFromString(o, "text/xml").getElementsByTagName("KID")[0]; if (l) { var u = l.childNodes[0] ? l.childNodes[0].nodeValue : l.getAttribute("VALUE"); if (u) { var h = V(u).subarray(0, 16); !function (t) { var e = function (t, e, r) { var i = t[e]; t[e] = t[r], t[r] = i }; e(t, 0, 3), e(t, 1, 2), e(t, 4, 5), e(t, 6, 7) }(h), this.keyId = h } } break; default: var d = i.subarray(0, 16); if (16 !== d.length) { var c = new Uint8Array(16); c.set(d, 16 - d.length), d = c } this.keyId = d }if (!this.keyId || 16 !== this.keyId.byteLength) { var f = $t[this.uri]; if (!f) { var g = Object.keys($t).length % Number.MAX_SAFE_INTEGER; f = new Uint8Array(16), new DataView(f.buffer, 12, 4).setUint32(0, g), $t[this.uri] = f } this.keyId = f } return this }, t }(), te = /\{\$([a-zA-Z0-9-_]+)\}/g; function ee(t) { return te.test(t) } function re(t, e, r) { if (null !== t.variableList || t.hasVariableRefs) for (var i = r.length; i--;) { var n = r[i], a = e[n]; a && (e[n] = ie(t, a)) } } function ie(t, e) { if (null !== t.variableList || t.hasVariableRefs) { var r = t.variableList; return e.replace(te, (function (e) { var i = e.substring(2, e.length - 1), n = null == r ? void 0 : r[i]; return void 0 === n ? (t.playlistParsingError || (t.playlistParsingError = new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "' + i + '"')), e) : n })) } return e } function ne(t, e, r) { var i, n, a = t.variableList; if (a || (t.variableList = a = {}), "QUERYPARAM" in e) { i = e.QUERYPARAM; try { var s = new self.URL(r).searchParams; if (!s.has(i)) throw new Error('"' + i + '" does not match any query parameter in URI: "' + r + '"'); n = s.get(i) } catch (e) { t.playlistParsingError || (t.playlistParsingError = new Error("EXT-X-DEFINE QUERYPARAM: " + e.message)) } } else i = e.NAME, n = e.VALUE; i in a ? t.playlistParsingError || (t.playlistParsingError = new Error('EXT-X-DEFINE duplicate Variable Name declarations: "' + i + '"')) : a[i] = n || "" } function ae(t, e, r) { var i = e.IMPORT; if (r && i in r) { var n = t.variableList; n || (t.variableList = n = {}), n[i] = r[i] } else t.playlistParsingError || (t.playlistParsingError = new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "' + i + '"')) } function se(t) { if (void 0 === t && (t = !0), "undefined" != typeof self) return (t || !self.MediaSource) && self.ManagedMediaSource || self.MediaSource || self.WebKitMediaSource } var oe = { audio: { a3ds: 1, "ac-3": .95, "ac-4": 1, alac: .9, alaw: 1, dra1: 1, "dts+": 1, "dts-": 1, dtsc: 1, dtse: 1, dtsh: 1, "ec-3": .9, enca: 1, fLaC: .9, flac: .9, FLAC: .9, g719: 1, g726: 1, m4ae: 1, mha1: 1, mha2: 1, mhm1: 1, mhm2: 1, mlpa: 1, mp4a: 1, "raw ": 1, Opus: 1, opus: 1, samr: 1, sawb: 1, sawp: 1, sevc: 1, sqcp: 1, ssmv: 1, twos: 1, ulaw: 1 }, video: { avc1: 1, avc2: 1, avc3: 1, avc4: 1, avcp: 1, av01: .8, drac: 1, dva1: 1, dvav: 1, dvh1: .7, dvhe: .7, encv: 1, hev1: .75, hvc1: .75, mjp2: 1, mp4v: 1, mvc1: 1, mvc2: 1, mvc3: 1, mvc4: 1, resv: 1, rv60: 1, s263: 1, svc1: 1, svc2: 1, "vc-1": 1, vp08: 1, vp09: .9 }, text: { stpp: 1, wvtt: 1 } }; function le(t, e, r) { return void 0 === r && (r = !0), !t.split(",").some((function (t) { return !ue(t, e, r) })) } function ue(t, e, r) { var i; void 0 === r && (r = !0); var n = se(r); return null != (i = null == n ? void 0 : n.isTypeSupported(he(t, e))) && i } function he(t, e) { return e + '/mp4;codecs="' + t + '"' } function de(t) { if (t) { var e = t.substring(0, 4); return oe.video[e] } return 2 } function ce(t) { return t.split(",").reduce((function (t, e) { var r = oe.video[e]; return r ? (2 * r + t) / (t ? 3 : 2) : (oe.audio[e] + t) / (t ? 2 : 1) }), 0) } var fe = {}, ge = /flac|opus/i; function ve(t, e) { return void 0 === e && (e = !0), t.replace(ge, (function (t) { return function (t, e) { if (void 0 === e && (e = !0), fe[t]) return fe[t]; for (var r = { flac: ["flac", "fLaC", "FLAC"], opus: ["opus", "Opus"] }[t], i = 0; i < r.length; i++)if (ue(r[i], "audio", e)) return fe[t] = r[i], r[i]; return t }(t.toLowerCase(), e) })) } function me(t, e) { return t && "mp4a" !== t ? t : e ? e.split(",")[0] : e } var pe = /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g, ye = /#EXT-X-MEDIA:(.*)/g, Ee = /^#EXT(?:INF|-X-TARGETDURATION):/m, Te = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /(?!#) *(\S[^\r\n]*)/.source, /#EXT-X-BYTERANGE:*(.+)/.source, /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /#.*/.source].join("|"), "g"), Se = new RegExp([/#(EXTM3U)/.source, /#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source, /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source, /#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source, /(#)([^:]*):(.*)/.source, /(#)(.*)(?:.*)\r?\n?/.source].join("|")), Le = function () { function t() { } return t.findGroup = function (t, e) { for (var r = 0; r < t.length; r++) { var i = t[r]; if (i.id === e) return i } }, t.resolve = function (t, e) { return p.buildAbsoluteURL(e, t, { alwaysNormalize: !0 }) }, t.isMediaPlaylist = function (t) { return Ee.test(t) }, t.parseMasterPlaylist = function (e, r) { var i, n = { contentSteering: null, levels: [], playlistParsingError: null, sessionData: null, sessionKeys: null, startTimeOffset: null, variableList: null, hasVariableRefs: ee(e) }, a = []; for (pe.lastIndex = 0; null != (i = pe.exec(e));)if (i[1]) { var s, o = new x(i[1]); re(n, o, ["CODECS", "SUPPLEMENTAL-CODECS", "ALLOWED-CPC", "PATHWAY-ID", "STABLE-VARIANT-ID", "AUDIO", "VIDEO", "SUBTITLES", "CLOSED-CAPTIONS", "NAME"]); var l = ie(n, i[2]), u = { attrs: o, bitrate: o.decimalInteger("BANDWIDTH") || o.decimalInteger("AVERAGE-BANDWIDTH"), name: o.NAME, url: t.resolve(l, r) }, h = o.decimalResolution("RESOLUTION"); h && (u.width = h.width, u.height = h.height), be(o.CODECS, u), null != (s = u.unknownCodecs) && s.length || a.push(u), n.levels.push(u) } else if (i[3]) { var d = i[3], c = i[4]; switch (d) { case "SESSION-DATA": var f = new x(c); re(n, f, ["DATA-ID", "LANGUAGE", "VALUE", "URI"]); var g = f["DATA-ID"]; g && (null === n.sessionData && (n.sessionData = {}), n.sessionData[g] = f); break; case "SESSION-KEY": var v = Ae(c, r, n); v.encrypted && v.isSupported() ? (null === n.sessionKeys && (n.sessionKeys = []), n.sessionKeys.push(v)) : w.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "' + c + '"'); break; case "DEFINE": var m = new x(c); re(n, m, ["NAME", "VALUE", "QUERYPARAM"]), ne(n, m, r); break; case "CONTENT-STEERING": var p = new x(c); re(n, p, ["SERVER-URI", "PATHWAY-ID"]), n.contentSteering = { uri: t.resolve(p["SERVER-URI"], r), pathwayId: p["PATHWAY-ID"] || "." }; break; case "START": n.startTimeOffset = Re(c) } } var y = a.length > 0 && a.length < n.levels.length; return n.levels = y ? a : n.levels, 0 === n.levels.length && (n.playlistParsingError = new Error("no levels found in manifest")), n }, t.parseMasterPlaylistMedia = function (e, r, i) { var n, a = {}, s = i.levels, o = { AUDIO: s.map((function (t) { return { id: t.attrs.AUDIO, audioCodec: t.audioCodec } })), SUBTITLES: s.map((function (t) { return { id: t.attrs.SUBTITLES, textCodec: t.textCodec } })), "CLOSED-CAPTIONS": [] }, l = 0; for (ye.lastIndex = 0; null !== (n = ye.exec(e));) { var u = new x(n[1]), h = u.TYPE; if (h) { var d = o[h], c = a[h] || []; a[h] = c, re(i, u, ["URI", "GROUP-ID", "LANGUAGE", "ASSOC-LANGUAGE", "STABLE-RENDITION-ID", "NAME", "INSTREAM-ID", "CHARACTERISTICS", "CHANNELS"]); var f = u.LANGUAGE, g = u["ASSOC-LANGUAGE"], v = u.CHANNELS, m = u.CHARACTERISTICS, p = u["INSTREAM-ID"], y = { attrs: u, bitrate: 0, id: l++, groupId: u["GROUP-ID"] || "", name: u.NAME || f || "", type: h, default: u.bool("DEFAULT"), autoselect: u.bool("AUTOSELECT"), forced: u.bool("FORCED"), lang: f, url: u.URI ? t.resolve(u.URI, r) : "" }; if (g && (y.assocLang = g), v && (y.channels = v), m && (y.characteristics = m), p && (y.instreamId = p), null != d && d.length) { var E = t.findGroup(d, y.groupId) || d[0]; ke(y, E, "audioCodec"), ke(y, E, "textCodec") } c.push(y) } } return a }, t.parseLevelPlaylist = function (t, e, r, i, n, a) { var s, l, u, h = new H(e), d = h.fragments, c = null, f = 0, g = 0, v = 0, m = 0, p = null, E = new G(i, e), T = -1, S = !1, L = null; for (Te.lastIndex = 0, h.m3u8 = t, h.hasVariableRefs = ee(t); null !== (s = Te.exec(t));) { S && (S = !1, (E = new G(i, e)).start = v, E.sn = f, E.cc = m, E.level = r, c && (E.initSegment = c, E.rawProgramDateTime = c.rawProgramDateTime, c.rawProgramDateTime = null, L && (E.setByteRange(L), L = null))); var A = s[1]; if (A) { E.duration = parseFloat(A); var R = (" " + s[2]).slice(1); E.title = R || null, E.tagList.push(R ? ["INF", A, R] : ["INF", A]) } else if (s[3]) { if (y(E.duration)) { E.start = v, u && we(E, u, h), E.sn = f, E.level = r, E.cc = m, d.push(E); var b = (" " + s[3]).slice(1); E.relurl = ie(h, b), De(E, p), p = E, v += E.duration, f++, g = 0, S = !0 } } else if (s[4]) { var k = (" " + s[4]).slice(1); p ? E.setByteRange(k, p) : E.setByteRange(k) } else if (s[5]) E.rawProgramDateTime = (" " + s[5]).slice(1), E.tagList.push(["PROGRAM-DATE-TIME", E.rawProgramDateTime]), -1 === T && (T = d.length); else { if (!(s = s[0].match(Se))) { w.warn("No matches on slow regex match for level playlist!"); continue } for (l = 1; l < s.length && void 0 === s[l]; l++); var D = (" " + s[l]).slice(1), I = (" " + s[l + 1]).slice(1), C = s[l + 2] ? (" " + s[l + 2]).slice(1) : ""; switch (D) { case "PLAYLIST-TYPE": h.type = I.toUpperCase(); break; case "MEDIA-SEQUENCE": f = h.startSN = parseInt(I); break; case "SKIP": var _ = new x(I); re(h, _, ["RECENTLY-REMOVED-DATERANGES"]); var P = _.decimalInteger("SKIPPED-SEGMENTS"); if (y(P)) { h.skippedSegments = P; for (var M = P; M--;)d.unshift(null); f += P } var O = _.enumeratedString("RECENTLY-REMOVED-DATERANGES"); O && (h.recentlyRemovedDateranges = O.split("\t")); break; case "TARGETDURATION": h.targetduration = Math.max(parseInt(I), 1); break; case "VERSION": h.version = parseInt(I); break; case "INDEPENDENT-SEGMENTS": case "EXTM3U": break; case "ENDLIST": h.live = !1; break; case "#": (I || C) && E.tagList.push(C ? [I, C] : [I]); break; case "DISCONTINUITY": m++, E.tagList.push(["DIS"]); break; case "GAP": E.gap = !0, E.tagList.push([D]); break; case "BITRATE": E.tagList.push([D, I]); break; case "DATERANGE": var N = new x(I); re(h, N, ["ID", "CLASS", "START-DATE", "END-DATE", "SCTE35-CMD", "SCTE35-OUT", "SCTE35-IN"]), re(h, N, N.clientAttrs); var U = new F(N, h.dateRanges[N.ID]); U.isValid || h.skippedSegments ? h.dateRanges[U.id] = U : w.warn('Ignoring invalid DATERANGE tag: "' + I + '"'), E.tagList.push(["EXT-X-DATERANGE", I]); break; case "DEFINE": var B = new x(I); re(h, B, ["NAME", "VALUE", "IMPORT", "QUERYPARAM"]), "IMPORT" in B ? ae(h, B, a) : ne(h, B, e); break; case "DISCONTINUITY-SEQUENCE": m = parseInt(I); break; case "KEY": var V = Ae(I, e, h); if (V.isSupported()) { if ("NONE" === V.method) { u = void 0; break } u || (u = {}), u[V.keyFormat] && (u = o({}, u)), u[V.keyFormat] = V } else w.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "' + I + '"'); break; case "START": h.startTimeOffset = Re(I); break; case "MAP": var Y = new x(I); if (re(h, Y, ["BYTERANGE", "URI"]), E.duration) { var W = new G(i, e); Ie(W, Y, r, u), c = W, E.initSegment = c, c.rawProgramDateTime && !E.rawProgramDateTime && (E.rawProgramDateTime = c.rawProgramDateTime) } else { var j = E.byteRangeEndOffset; if (j) { var q = E.byteRangeStartOffset; L = j - q + "@" + q } else L = null; Ie(E, Y, r, u), c = E, S = !0 } break; case "SERVER-CONTROL": var X = new x(I); h.canBlockReload = X.bool("CAN-BLOCK-RELOAD"), h.canSkipUntil = X.optionalFloat("CAN-SKIP-UNTIL", 0), h.canSkipDateRanges = h.canSkipUntil > 0 && X.bool("CAN-SKIP-DATERANGES"), h.partHoldBack = X.optionalFloat("PART-HOLD-BACK", 0), h.holdBack = X.optionalFloat("HOLD-BACK", 0); break; case "PART-INF": var z = new x(I); h.partTarget = z.decimalFloatingPoint("PART-TARGET"); break; case "PART": var Q = h.partList; Q || (Q = h.partList = []); var J = g > 0 ? Q[Q.length - 1] : void 0, $ = g++, Z = new x(I); re(h, Z, ["BYTERANGE", "URI"]); var tt = new K(Z, E, e, $, J); Q.push(tt), E.duration += tt.duration; break; case "PRELOAD-HINT": var et = new x(I); re(h, et, ["URI"]), h.preloadHint = et; break; case "RENDITION-REPORT": var rt = new x(I); re(h, rt, ["URI"]), h.renditionReports = h.renditionReports || [], h.renditionReports.push(rt); break; default: w.warn("line parsed but not handled: " + s) } } } p && !p.relurl ? (d.pop(), v -= p.duration, h.partList && (h.fragmentHint = p)) : h.partList && (De(E, p), E.cc = m, h.fragmentHint = E, u && we(E, u, h)); var it = d.length, nt = d[0], at = d[it - 1]; if ((v += h.skippedSegments * h.targetduration) > 0 && it && at) { h.averagetargetduration = v / it; var st = at.sn; h.endSN = "initSegment" !== st ? st : 0, h.live || (at.endList = !0), nt && (h.startCC = nt.cc) } else h.endSN = 0, h.startCC = 0; return h.fragmentHint && (v += h.fragmentHint.duration), h.totalduration = v, h.endCC = m, T > 0 && function (t, e) { for (var r = t[e], i = e; i--;) { var n = t[i]; if (!n) return; n.programDateTime = r.programDateTime - 1e3 * n.duration, r = n } }(d, T), h }, t }(); function Ae(t, e, r) { var i, n, a = new x(t); re(r, a, ["KEYFORMAT", "KEYFORMATVERSIONS", "URI", "IV", "URI"]); var s = null != (i = a.METHOD) ? i : "", o = a.URI, l = a.hexadecimalInteger("IV"), u = a.KEYFORMATVERSIONS, h = null != (n = a.KEYFORMAT) ? n : "identity"; o && a.IV && !l && w.error("Invalid IV: " + a.IV); var d = o ? Le.resolve(o, e) : "", c = (u || "1").split("/").map(Number).filter(Number.isFinite); return new Zt(s, d, h, c, l) } function Re(t) { var e = new x(t).decimalFloatingPoint("TIME-OFFSET"); return y(e) ? e : null } function be(t, e) { var r = (t || "").split(/[ ,]+/).filter((function (t) { return t }));["video", "audio", "text"].forEach((function (t) { var i = r.filter((function (e) { return function (t, e) { var r = oe[e]; return !!r && !!r[t.slice(0, 4)] }(e, t) })); i.length && (e[t + "Codec"] = i.join(","), r = r.filter((function (t) { return -1 === i.indexOf(t) }))) })), e.unknownCodecs = r } function ke(t, e, r) { var i = e[r]; i && (t[r] = i) } function De(t, e) { t.rawProgramDateTime ? t.programDateTime = Date.parse(t.rawProgramDateTime) : null != e && e.programDateTime && (t.programDateTime = e.endProgramDateTime), y(t.programDateTime) || (t.programDateTime = null, t.rawProgramDateTime = null) } function Ie(t, e, r, i) { t.relurl = e.URI, e.BYTERANGE && t.setByteRange(e.BYTERANGE), t.level = r, t.sn = "initSegment", i && (t.levelkeys = i), t.initSegment = null } function we(t, e, r) { t.levelkeys = e; var i = r.encryptedFragments; i.length && i[i.length - 1].levelkeys === e || !Object.keys(e).some((function (t) { return e[t].isCommonEncryption })) || i.push(t) } var Ce = "manifest", _e = "level", xe = "audioTrack", Pe = "subtitleTrack", Fe = "main", Me = "audio", Oe = "subtitle"; function Ne(t) { switch (t.type) { case xe: return Me; case Pe: return Oe; default: return Fe } } function Ue(t, e) { var r = t.url; return void 0 !== r && 0 !== r.indexOf("data:") || (r = e.url), r } var Be = function () { function t(t) { this.hls = void 0, this.loaders = Object.create(null), this.variableList = null, this.hls = t, this.registerListeners() } var e = t.prototype; return e.startLoad = function (t) { }, e.stopLoad = function () { this.destroyInternalLoaders() }, e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this), t.on(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this), t.off(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this) }, e.createInternalLoader = function (t) { var e = this.hls.config, r = e.pLoader, i = e.loader, n = new (r || i)(e); return this.loaders[t.type] = n, n }, e.getInternalLoader = function (t) { return this.loaders[t.type] }, e.resetInternalLoader = function (t) { this.loaders[t] && delete this.loaders[t] }, e.destroyInternalLoaders = function () { for (var t in this.loaders) { var e = this.loaders[t]; e && e.destroy(), this.resetInternalLoader(t) } }, e.destroy = function () { this.variableList = null, this.unregisterListeners(), this.destroyInternalLoaders() }, e.onManifestLoading = function (t, e) { var r = e.url; this.variableList = null, this.load({ id: null, level: 0, responseType: "text", type: Ce, url: r, deliveryDirectives: null }) }, e.onLevelLoading = function (t, e) { var r = e.id, i = e.level, n = e.pathwayId, a = e.url, s = e.deliveryDirectives; this.load({ id: r, level: i, pathwayId: n, responseType: "text", type: _e, url: a, deliveryDirectives: s }) }, e.onAudioTrackLoading = function (t, e) { var r = e.id, i = e.groupId, n = e.url, a = e.deliveryDirectives; this.load({ id: r, groupId: i, level: null, responseType: "text", type: xe, url: n, deliveryDirectives: a }) }, e.onSubtitleTrackLoading = function (t, e) { var r = e.id, i = e.groupId, n = e.url, a = e.deliveryDirectives; this.load({ id: r, groupId: i, level: null, responseType: "text", type: Pe, url: n, deliveryDirectives: a }) }, e.load = function (t) { var e, r, i, n = this, a = this.hls.config, s = this.getInternalLoader(t); if (s) { var l = s.context; if (l && l.url === t.url && l.level === t.level) return void w.trace("[playlist-loader]: playlist request ongoing"); w.log("[playlist-loader]: aborting previous loader for type: " + t.type), s.abort() } if (r = t.type === Ce ? a.manifestLoadPolicy.default : o({}, a.playlistLoadPolicy.default, { timeoutRetry: null, errorRetry: null }), s = this.createInternalLoader(t), y(null == (e = t.deliveryDirectives) ? void 0 : e.part) && (t.type === _e && null !== t.level ? i = this.hls.levels[t.level].details : t.type === xe && null !== t.id ? i = this.hls.audioTracks[t.id].details : t.type === Pe && null !== t.id && (i = this.hls.subtitleTracks[t.id].details), i)) { var u = i.partTarget, h = i.targetduration; if (u && h) { var d = 1e3 * Math.max(3 * u, .8 * h); r = o({}, r, { maxTimeToFirstByteMs: Math.min(d, r.maxTimeToFirstByteMs), maxLoadTimeMs: Math.min(d, r.maxTimeToFirstByteMs) }) } } var c = r.errorRetry || r.timeoutRetry || {}, f = { loadPolicy: r, timeout: r.maxLoadTimeMs, maxRetry: c.maxNumRetry || 0, retryDelay: c.retryDelayMs || 0, maxRetryDelay: c.maxRetryDelayMs || 0 }, g = { onSuccess: function (t, e, r, i) { var a = n.getInternalLoader(r); n.resetInternalLoader(r.type); var s = t.data; 0 === s.indexOf("#EXTM3U") ? (e.parsing.start = performance.now(), Le.isMediaPlaylist(s) ? n.handleTrackOrLevelPlaylist(t, e, r, i || null, a) : n.handleMasterPlaylist(t, e, r, i)) : n.handleManifestParsingError(t, r, new Error("no EXTM3U delimiter"), i || null, e) }, onError: function (t, e, r, i) { n.handleNetworkError(e, r, !1, t, i) }, onTimeout: function (t, e, r) { n.handleNetworkError(e, r, !0, void 0, t) } }; s.load(t, f, g) }, e.handleMasterPlaylist = function (t, e, r, i) { var n = this.hls, a = t.data, s = Ue(t, r), o = Le.parseMasterPlaylist(a, s); if (o.playlistParsingError) this.handleManifestParsingError(t, r, o.playlistParsingError, i, e); else { var l = o.contentSteering, u = o.levels, h = o.sessionData, d = o.sessionKeys, c = o.startTimeOffset, f = o.variableList; this.variableList = f; var g = Le.parseMasterPlaylistMedia(a, s, o), v = g.AUDIO, m = void 0 === v ? [] : v, p = g.SUBTITLES, y = g["CLOSED-CAPTIONS"]; m.length && (m.some((function (t) { return !t.url })) || !u[0].audioCodec || u[0].attrs.AUDIO || (w.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"), m.unshift({ type: "main", name: "main", groupId: "main", default: !1, autoselect: !1, forced: !1, id: -1, attrs: new x({}), bitrate: 0, url: "" }))), n.trigger(S.MANIFEST_LOADED, { levels: u, audioTracks: m, subtitles: p, captions: y, contentSteering: l, url: s, stats: e, networkDetails: i, sessionData: h, sessionKeys: d, startTimeOffset: c, variableList: f }) } }, e.handleTrackOrLevelPlaylist = function (t, e, r, i, n) { var a = this.hls, s = r.id, o = r.level, l = r.type, u = Ue(t, r), h = y(o) ? o : y(s) ? s : 0, d = Ne(r), c = Le.parseLevelPlaylist(t.data, u, h, d, 0, this.variableList); if (l === Ce) { var f = { attrs: new x({}), bitrate: 0, details: c, name: "", url: u }; a.trigger(S.MANIFEST_LOADED, { levels: [f], audioTracks: [], url: u, stats: e, networkDetails: i, sessionData: null, sessionKeys: null, contentSteering: null, startTimeOffset: null, variableList: null }) } e.parsing.end = performance.now(), r.levelDetails = c, this.handlePlaylistLoaded(c, t, e, r, i, n) }, e.handleManifestParsingError = function (t, e, r, i, n) { this.hls.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.MANIFEST_PARSING_ERROR, fatal: e.type === Ce, url: t.url, err: r, error: r, reason: r.message, response: t, context: e, networkDetails: i, stats: n }) }, e.handleNetworkError = function (t, e, r, n, a) { void 0 === r && (r = !1); var s = "A network " + (r ? "timeout" : "error" + (n ? " (status " + n.code + ")" : "")) + " occurred while loading " + t.type; t.type === _e ? s += ": " + t.level + " id: " + t.id : t.type !== xe && t.type !== Pe || (s += " id: " + t.id + ' group-id: "' + t.groupId + '"'); var o = new Error(s); w.warn("[playlist-loader]: " + s); var l = A.UNKNOWN, u = !1, h = this.getInternalLoader(t); switch (t.type) { case Ce: l = r ? A.MANIFEST_LOAD_TIMEOUT : A.MANIFEST_LOAD_ERROR, u = !0; break; case _e: l = r ? A.LEVEL_LOAD_TIMEOUT : A.LEVEL_LOAD_ERROR, u = !1; break; case xe: l = r ? A.AUDIO_TRACK_LOAD_TIMEOUT : A.AUDIO_TRACK_LOAD_ERROR, u = !1; break; case Pe: l = r ? A.SUBTITLE_TRACK_LOAD_TIMEOUT : A.SUBTITLE_LOAD_ERROR, u = !1 }h && this.resetInternalLoader(t.type); var d = { type: L.NETWORK_ERROR, details: l, fatal: u, url: t.url, loader: h, context: t, error: o, networkDetails: e, stats: a }; if (n) { var c = (null == e ? void 0 : e.url) || t.url; d.response = i({ url: c, data: void 0 }, n) } this.hls.trigger(S.ERROR, d) }, e.handlePlaylistLoaded = function (t, e, r, i, n, a) { var s = this.hls, o = i.type, l = i.level, u = i.id, h = i.groupId, d = i.deliveryDirectives, c = Ue(e, i), f = Ne(i), g = "number" == typeof i.level && f === Fe ? l : void 0; if (t.fragments.length) { t.targetduration || (t.playlistParsingError = new Error("Missing Target Duration")); var v = t.playlistParsingError; if (v) s.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.LEVEL_PARSING_ERROR, fatal: !1, url: c, error: v, reason: v.message, response: e, context: i, level: g, parent: f, networkDetails: n, stats: r }); else switch (t.live && a && (a.getCacheAge && (t.ageHeader = a.getCacheAge() || 0), a.getCacheAge && !isNaN(t.ageHeader) || (t.ageHeader = 0)), o) { case Ce: case _e: s.trigger(S.LEVEL_LOADED, { details: t, level: g || 0, id: u || 0, stats: r, networkDetails: n, deliveryDirectives: d }); break; case xe: s.trigger(S.AUDIO_TRACK_LOADED, { details: t, id: u || 0, groupId: h || "", stats: r, networkDetails: n, deliveryDirectives: d }); break; case Pe: s.trigger(S.SUBTITLE_TRACK_LOADED, { details: t, id: u || 0, groupId: h || "", stats: r, networkDetails: n, deliveryDirectives: d }) } } else { var m = new Error("No Segments found in Playlist"); s.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.LEVEL_EMPTY_ERROR, fatal: !1, url: c, error: m, reason: m.message, response: e, context: i, level: g, parent: f, networkDetails: n, stats: r }) } }, t }(); function Ge(t, e) { var r; try { r = new Event("addtrack") } catch (t) { (r = document.createEvent("Event")).initEvent("addtrack", !1, !1) } r.track = t, e.dispatchEvent(r) } function Ke(t, e) { var r = t.mode; if ("disabled" === r && (t.mode = "hidden"), t.cues && !t.cues.getCueById(e.id)) try { if (t.addCue(e), !t.cues.getCueById(e.id)) throw new Error("addCue is failed for: " + e) } catch (r) { w.debug("[texttrack-utils]: " + r); try { var i = new self.TextTrackCue(e.startTime, e.endTime, e.text); i.id = e.id, t.addCue(i) } catch (t) { w.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: " + t) } } "disabled" === r && (t.mode = r) } function He(t) { var e = t.mode; if ("disabled" === e && (t.mode = "hidden"), t.cues) for (var r = t.cues.length; r--;)t.removeCue(t.cues[r]); "disabled" === e && (t.mode = e) } function Ve(t, e, r, i) { var n = t.mode; if ("disabled" === n && (t.mode = "hidden"), t.cues && t.cues.length > 0) for (var a = function (t, e, r) { var i = [], n = function (t, e) { if (e < t[0].startTime) return 0; var r = t.length - 1; if (e > t[r].endTime) return -1; for (var i = 0, n = r; i <= n;) { var a = Math.floor((n + i) / 2); if (e < t[a].startTime) n = a - 1; else { if (!(e > t[a].startTime && i < r)) return a; i = a + 1 } } return t[i].startTime - e < e - t[n].startTime ? i : n }(t, e); if (n > -1) for (var a = n, s = t.length; a < s; a++) { var o = t[a]; if (o.startTime >= e && o.endTime <= r) i.push(o); else if (o.startTime > r) return i } return i }(t.cues, e, r), s = 0; s < a.length; s++)i && !i(a[s]) || t.removeCue(a[s]); "disabled" === n && (t.mode = n) } function Ye(t) { for (var e = [], r = 0; r < t.length; r++) { var i = t[r]; "subtitles" !== i.kind && "captions" !== i.kind || !i.label || e.push(t[r]) } return e } var We = "org.id3", je = "com.apple.quicktime.HLS", qe = "https://aomedia.org/emsg/ID3"; function Xe() { if ("undefined" != typeof self) return self.VTTCue || self.TextTrackCue } function ze(t, e, r, n, a) { var s = new t(e, r, ""); try { s.value = n, a && (s.type = a) } catch (o) { s = new t(e, r, JSON.stringify(a ? i({ type: a }, n) : n)) } return s } var Qe = function () { var t = Xe(); try { t && new t(0, Number.POSITIVE_INFINITY, "") } catch (t) { return Number.MAX_VALUE } return Number.POSITIVE_INFINITY }(); function Je(t, e) { return t.getTime() / 1e3 - e } var $e = function () { function t(t) { this.hls = void 0, this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}, this.hls = t, this._registerListeners() } var e = t.prototype; return e.destroy = function () { this._unregisterListeners(), this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}, this.hls = null }, e._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e.onMediaAttached = function (t, e) { this.media = e.media }, e.onMediaDetaching = function () { this.id3Track && (He(this.id3Track), this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}) }, e.onManifestLoading = function () { this.dateRangeCuesAppended = {} }, e.createTrack = function (t) { var e = this.getID3Track(t.textTracks); return e.mode = "hidden", e }, e.getID3Track = function (t) { if (this.media) { for (var e = 0; e < t.length; e++) { var r = t[e]; if ("metadata" === r.kind && "id3" === r.label) return Ge(r, this.media), r } return this.media.addTextTrack("metadata", "id3") } }, e.onFragParsingMetadata = function (t, e) { if (this.media) { var r = this.hls.config, i = r.enableEmsgMetadataCues, n = r.enableID3MetadataCues; if (i || n) { var a = e.samples; this.id3Track || (this.id3Track = this.createTrack(this.media)); var s = Xe(); if (s) for (var o = 0; o < a.length; o++) { var l = a[o].type; if ((l !== qe || i) && n) { var u = yt(a[o].data); if (u) { var h = a[o].pts, d = h + a[o].duration; d > Qe && (d = Qe), d - h <= 0 && (d = h + .25); for (var c = 0; c < u.length; c++) { var f = u[c]; if (!mt(f)) { this.updateId3CueEnds(h, l); var g = ze(s, h, d, f, l); g && this.id3Track.addCue(g) } } } } } } } }, e.updateId3CueEnds = function (t, e) { var r, i = null == (r = this.id3Track) ? void 0 : r.cues; if (i) for (var n = i.length; n--;) { var a = i[n]; a.type === e && a.startTime < t && a.endTime === Qe && (a.endTime = t) } }, e.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset, n = e.type, a = this.id3Track, s = this.hls; if (s) { var o = s.config, l = o.enableEmsgMetadataCues, u = o.enableID3MetadataCues; a && (l || u) && Ve(a, r, i, "audio" === n ? function (t) { return t.type === We && u } : "video" === n ? function (t) { return t.type === qe && l } : function (t) { return t.type === We && u || t.type === qe && l }) } }, e.onLevelUpdated = function (t, e) { var r = this, i = e.details; if (this.media && i.hasProgramDateTime && this.hls.config.enableDateRangeMetadataCues) { var n = this.dateRangeCuesAppended, a = this.id3Track, s = i.dateRanges, o = Object.keys(s); if (a) for (var l = Object.keys(n).filter((function (t) { return !o.includes(t) })), u = function () { var t = l[h]; Object.keys(n[t].cues).forEach((function (e) { a.removeCue(n[t].cues[e]) })), delete n[t] }, h = l.length; h--;)u(); var d = i.fragments[i.fragments.length - 1]; if (0 !== o.length && y(null == d ? void 0 : d.programDateTime)) { this.id3Track || (this.id3Track = this.createTrack(this.media)); for (var c = d.programDateTime / 1e3 - d.start, f = Xe(), g = function () { var t = o[v], e = s[t], i = Je(e.startDate, c), a = n[t], l = (null == a ? void 0 : a.cues) || {}, u = (null == a ? void 0 : a.durationKnown) || !1, h = Qe, d = e.endDate; if (d) h = Je(d, c), u = !0; else if (e.endOnNext && !u) { var g = o.reduce((function (t, r) { if (r !== e.id) { var i = s[r]; if (i.class === e.class && i.startDate > e.startDate && (!t || e.startDate < t.startDate)) return i } return t }), null); g && (h = Je(g.startDate, c), u = !0) } for (var m, p, y = Object.keys(e.attr), E = 0; E < y.length; E++) { var T = y[E]; if ("ID" !== (p = T) && "CLASS" !== p && "START-DATE" !== p && "DURATION" !== p && "END-DATE" !== p && "END-ON-NEXT" !== p) { var S = l[T]; if (S) u && !a.durationKnown && (S.endTime = h); else if (f) { var L = e.attr[T]; P(T) && (m = L, L = Uint8Array.from(m.replace(/^0x/, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ")).buffer); var A = ze(f, i, h, { key: T, data: L }, je); A && (A.id = t, r.id3Track.addCue(A), l[T] = A) } } } n[t] = { cues: l, dateRange: e, durationKnown: u } }, v = 0; v < o.length; v++)g() } } }, t }(), Ze = function () { function t(t) { var e = this; this.hls = void 0, this.config = void 0, this.media = null, this.levelDetails = null, this.currentTime = 0, this.stallCount = 0, this._latency = null, this.timeupdateHandler = function () { return e.timeupdate() }, this.hls = t, this.config = t.config, this.registerListeners() } var e = t.prototype; return e.destroy = function () { this.unregisterListeners(), this.onMediaDetaching(), this.levelDetails = null, this.hls = this.timeupdateHandler = null }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.on(S.LEVEL_UPDATED, this.onLevelUpdated, this), this.hls.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.off(S.LEVEL_UPDATED, this.onLevelUpdated, this), this.hls.off(S.ERROR, this.onError, this) }, e.onMediaAttached = function (t, e) { this.media = e.media, this.media.addEventListener("timeupdate", this.timeupdateHandler) }, e.onMediaDetaching = function () { this.media && (this.media.removeEventListener("timeupdate", this.timeupdateHandler), this.media = null) }, e.onManifestLoading = function () { this.levelDetails = null, this._latency = null, this.stallCount = 0 }, e.onLevelUpdated = function (t, e) { var r = e.details; this.levelDetails = r, r.advanced && this.timeupdate(), !r.live && this.media && this.media.removeEventListener("timeupdate", this.timeupdateHandler) }, e.onError = function (t, e) { var r; e.details === A.BUFFER_STALLED_ERROR && (this.stallCount++, null != (r = this.levelDetails) && r.live && w.warn("[playback-rate-controller]: Stall detected, adjusting target latency")) }, e.timeupdate = function () { var t = this.media, e = this.levelDetails; if (t && e) { this.currentTime = t.currentTime; var r = this.computeLatency(); if (null !== r) { this._latency = r; var i = this.config, n = i.lowLatencyMode, a = i.maxLiveSyncPlaybackRate; if (n && 1 !== a && e.live) { var s = this.targetLatency; if (null !== s) { var o = r - s; if (o < Math.min(this.maxLatency, s + e.targetduration) && o > .05 && this.forwardBufferLength > 1) { var l = Math.min(2, Math.max(1, a)), u = Math.round(2 / (1 + Math.exp(-.75 * o - this.edgeStalled)) * 20) / 20; t.playbackRate = Math.min(l, Math.max(1, u)) } else 1 !== t.playbackRate && 0 !== t.playbackRate && (t.playbackRate = 1) } } } } }, e.estimateLiveEdge = function () { var t = this.levelDetails; return null === t ? null : t.edge + t.age }, e.computeLatency = function () { var t = this.estimateLiveEdge(); return null === t ? null : t - this.currentTime }, s(t, [{ key: "latency", get: function () { return this._latency || 0 } }, { key: "maxLatency", get: function () { var t = this.config, e = this.levelDetails; return void 0 !== t.liveMaxLatencyDuration ? t.liveMaxLatencyDuration : e ? t.liveMaxLatencyDurationCount * e.targetduration : 0 } }, { key: "targetLatency", get: function () { var t = this.levelDetails; if (null === t) return null; var e = t.holdBack, r = t.partHoldBack, i = t.targetduration, n = this.config, a = n.liveSyncDuration, s = n.liveSyncDurationCount, o = n.lowLatencyMode, l = this.hls.userConfig, u = o && r || e; (l.liveSyncDuration || l.liveSyncDurationCount || 0 === u) && (u = void 0 !== a ? a : s * i); var h = i; return u + Math.min(1 * this.stallCount, h) } }, { key: "liveSyncPosition", get: function () { var t = this.estimateLiveEdge(), e = this.targetLatency, r = this.levelDetails; if (null === t || null === e || null === r) return null; var i = r.edge, n = t - e - this.edgeStalled, a = i - r.totalduration, s = i - (this.config.lowLatencyMode && r.partTarget || r.targetduration); return Math.min(Math.max(a, n), s) } }, { key: "drift", get: function () { var t = this.levelDetails; return null === t ? 1 : t.drift } }, { key: "edgeStalled", get: function () { var t = this.levelDetails; if (null === t) return 0; var e = 3 * (this.config.lowLatencyMode && t.partTarget || t.targetduration); return Math.max(t.age - e, 0) } }, { key: "forwardBufferLength", get: function () { var t = this.media, e = this.levelDetails; if (!t || !e) return 0; var r = t.buffered.length; return (r ? t.buffered.end(r - 1) : e.edge) - this.currentTime } }]), t }(), tr = ["NONE", "TYPE-0", "TYPE-1", null], er = ["SDR", "PQ", "HLG"], rr = "", ir = "YES", nr = "v2"; function ar(t) { var e = t.canSkipUntil, r = t.canSkipDateRanges, i = t.age; return e && i < e / 2 ? r ? nr : ir : rr } var sr = function () { function t(t, e, r) { this.msn = void 0, this.part = void 0, this.skip = void 0, this.msn = t, this.part = e, this.skip = r } return t.prototype.addDirectives = function (t) { var e = new self.URL(t); return void 0 !== this.msn && e.searchParams.set("_HLS_msn", this.msn.toString()), void 0 !== this.part && e.searchParams.set("_HLS_part", this.part.toString()), this.skip && e.searchParams.set("_HLS_skip", this.skip), e.href }, t }(), or = function () { function t(t) { this._attrs = void 0, this.audioCodec = void 0, this.bitrate = void 0, this.codecSet = void 0, this.url = void 0, this.frameRate = void 0, this.height = void 0, this.id = void 0, this.name = void 0, this.videoCodec = void 0, this.width = void 0, this.details = void 0, this.fragmentError = 0, this.loadError = 0, this.loaded = void 0, this.realBitrate = 0, this.supportedPromise = void 0, this.supportedResult = void 0, this._avgBitrate = 0, this._audioGroups = void 0, this._subtitleGroups = void 0, this._urlId = 0, this.url = [t.url], this._attrs = [t.attrs], this.bitrate = t.bitrate, t.details && (this.details = t.details), this.id = t.id || 0, this.name = t.name, this.width = t.width || 0, this.height = t.height || 0, this.frameRate = t.attrs.optionalFloat("FRAME-RATE", 0), this._avgBitrate = t.attrs.decimalInteger("AVERAGE-BANDWIDTH"), this.audioCodec = t.audioCodec, this.videoCodec = t.videoCodec, this.codecSet = [t.videoCodec, t.audioCodec].filter((function (t) { return !!t })).map((function (t) { return t.substring(0, 4) })).join(","), this.addGroupId("audio", t.attrs.AUDIO), this.addGroupId("text", t.attrs.SUBTITLES) } var e = t.prototype; return e.hasAudioGroup = function (t) { return lr(this._audioGroups, t) }, e.hasSubtitleGroup = function (t) { return lr(this._subtitleGroups, t) }, e.addGroupId = function (t, e) { if (e) if ("audio" === t) { var r = this._audioGroups; r || (r = this._audioGroups = []), -1 === r.indexOf(e) && r.push(e) } else if ("text" === t) { var i = this._subtitleGroups; i || (i = this._subtitleGroups = []), -1 === i.indexOf(e) && i.push(e) } }, e.addFallback = function () { }, s(t, [{ key: "maxBitrate", get: function () { return Math.max(this.realBitrate, this.bitrate) } }, { key: "averageBitrate", get: function () { return this._avgBitrate || this.realBitrate || this.bitrate } }, { key: "attrs", get: function () { return this._attrs[0] } }, { key: "codecs", get: function () { return this.attrs.CODECS || "" } }, { key: "pathwayId", get: function () { return this.attrs["PATHWAY-ID"] || "." } }, { key: "videoRange", get: function () { return this.attrs["VIDEO-RANGE"] || "SDR" } }, { key: "score", get: function () { return this.attrs.optionalFloat("SCORE", 0) } }, { key: "uri", get: function () { return this.url[0] || "" } }, { key: "audioGroups", get: function () { return this._audioGroups } }, { key: "subtitleGroups", get: function () { return this._subtitleGroups } }, { key: "urlId", get: function () { return 0 }, set: function (t) { } }, { key: "audioGroupIds", get: function () { return this.audioGroups ? [this.audioGroupId] : void 0 } }, { key: "textGroupIds", get: function () { return this.subtitleGroups ? [this.textGroupId] : void 0 } }, { key: "audioGroupId", get: function () { var t; return null == (t = this.audioGroups) ? void 0 : t[0] } }, { key: "textGroupId", get: function () { var t; return null == (t = this.subtitleGroups) ? void 0 : t[0] } }]), t }(); function lr(t, e) { return !(!e || !t) && -1 !== t.indexOf(e) } function ur(t, e) { var r = e.startPTS; if (y(r)) { var i, n = 0; e.sn > t.sn ? (n = r - t.start, i = t) : (n = t.start - r, i = e), i.duration !== n && (i.duration = n) } else e.sn > t.sn ? t.cc === e.cc && t.minEndPTS ? e.start = t.start + (t.minEndPTS - t.start) : e.start = t.start + t.duration : e.start = Math.max(t.start - e.duration, 0) } function hr(t, e, r, i, n, a) { i - r <= 0 && (w.warn("Fragment should have a positive duration", e), i = r + e.duration, a = n + e.duration); var s = r, o = i, l = e.startPTS, u = e.endPTS; if (y(l)) { var h = Math.abs(l - r); y(e.deltaPTS) ? e.deltaPTS = Math.max(h, e.deltaPTS) : e.deltaPTS = h, s = Math.max(r, l), r = Math.min(r, l), n = Math.min(n, e.startDTS), o = Math.min(i, u), i = Math.max(i, u), a = Math.max(a, e.endDTS) } var d = r - e.start; 0 !== e.start && (e.start = r), e.duration = i - e.start, e.startPTS = r, e.maxStartPTS = s, e.startDTS = n, e.endPTS = i, e.minEndPTS = o, e.endDTS = a; var c, f = e.sn; if (!t || f < t.startSN || f > t.endSN) return 0; var g = f - t.startSN, v = t.fragments; for (v[g] = e, c = g; c > 0; c--)ur(v[c], v[c - 1]); for (c = g; c < v.length - 1; c++)ur(v[c], v[c + 1]); return t.fragmentHint && ur(v[v.length - 1], t.fragmentHint), t.PTSKnown = t.alignedSliding = !0, d } function dr(t, e) { for (var r = null, i = t.fragments, n = i.length - 1; n >= 0; n--) { var a = i[n].initSegment; if (a) { r = a; break } } t.fragmentHint && delete t.fragmentHint.endPTS; var s, l, u, h, d, c = 0; if (function (t, e, r) { for (var i = e.skippedSegments, n = Math.max(t.startSN, e.startSN) - e.startSN, a = (t.fragmentHint ? 1 : 0) + (i ? e.endSN : Math.min(t.endSN, e.endSN)) - e.startSN, s = e.startSN - t.startSN, o = e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments, l = t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments, u = n; u <= a; u++) { var h = l[s + u], d = o[u]; i && !d && u < i && (d = e.fragments[u] = h), h && d && r(h, d) } }(t, e, (function (t, i) { t.relurl && (c = t.cc - i.cc), y(t.startPTS) && y(t.endPTS) && (i.start = i.startPTS = t.startPTS, i.startDTS = t.startDTS, i.maxStartPTS = t.maxStartPTS, i.endPTS = t.endPTS, i.endDTS = t.endDTS, i.minEndPTS = t.minEndPTS, i.duration = t.endPTS - t.startPTS, i.duration && (s = i), e.PTSKnown = e.alignedSliding = !0), i.elementaryStreams = t.elementaryStreams, i.loader = t.loader, i.stats = t.stats, t.initSegment && (i.initSegment = t.initSegment, r = t.initSegment) })), r && (e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments).forEach((function (t) { var e; !t || t.initSegment && t.initSegment.relurl !== (null == (e = r) ? void 0 : e.relurl) || (t.initSegment = r) })), e.skippedSegments) if (e.deltaUpdateFailed = e.fragments.some((function (t) { return !t })), e.deltaUpdateFailed) { w.warn("[level-helper] Previous playlist missing segments skipped in delta playlist"); for (var f = e.skippedSegments; f--;)e.fragments.shift(); e.startSN = e.fragments[0].sn, e.startCC = e.fragments[0].cc } else e.canSkipDateRanges && (e.dateRanges = (l = t.dateRanges, u = e.dateRanges, h = e.recentlyRemovedDateranges, d = o({}, l), h && h.forEach((function (t) { delete d[t] })), Object.keys(u).forEach((function (t) { var e = new F(u[t].attr, d[t]); e.isValid ? d[t] = e : w.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "' + JSON.stringify(u[t].attr) + '"') })), d)); var g = e.fragments; if (c) { w.warn("discontinuity sliding from playlist, take drift into account"); for (var v = 0; v < g.length; v++)g[v].cc += c } e.skippedSegments && (e.startCC = e.fragments[0].cc), function (t, e, r) { if (t && e) for (var i = 0, n = 0, a = t.length; n <= a; n++) { var s = t[n], o = e[n + i]; s && o && s.index === o.index && s.fragment.sn === o.fragment.sn ? r(s, o) : i-- } }(t.partList, e.partList, (function (t, e) { e.elementaryStreams = t.elementaryStreams, e.stats = t.stats })), s ? hr(e, s, s.startPTS, s.endPTS, s.startDTS, s.endDTS) : cr(t, e), g.length && (e.totalduration = e.edge - g[0].start), e.driftStartTime = t.driftStartTime, e.driftStart = t.driftStart; var m = e.advancedDateTime; if (e.advanced && m) { var p = e.edge; e.driftStart || (e.driftStartTime = m, e.driftStart = p), e.driftEndTime = m, e.driftEnd = p } else e.driftEndTime = t.driftEndTime, e.driftEnd = t.driftEnd, e.advancedDateTime = t.advancedDateTime } function cr(t, e) { var r = e.startSN + e.skippedSegments - t.startSN, i = t.fragments; r < 0 || r >= i.length || fr(e, i[r].start) } function fr(t, e) { if (e) { for (var r = t.fragments, i = t.skippedSegments; i < r.length; i++)r[i].start += e; t.fragmentHint && (t.fragmentHint.start += e) } } function gr(t, e, r) { var i; return null != t && t.details ? vr(null == (i = t.details) ? void 0 : i.partList, e, r) : null } function vr(t, e, r) { if (t) for (var i = t.length; i--;) { var n = t[i]; if (n.index === r && n.fragment.sn === e) return n } return null } function mr(t) { t.forEach((function (t, e) { var r = t.details; null != r && r.fragments && r.fragments.forEach((function (t) { t.level = e })) })) } function pr(t) { switch (t.details) { case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_TIMEOUT: case A.LEVEL_LOAD_TIMEOUT: case A.MANIFEST_LOAD_TIMEOUT: return !0 }return !1 } function yr(t, e) { var r = pr(e); return t.default[(r ? "timeout" : "error") + "Retry"] } function Er(t, e) { var r = "linear" === t.backoff ? 1 : Math.pow(2, e); return Math.min(r * t.retryDelayMs, t.maxRetryDelayMs) } function Tr(t) { return i(i({}, t), { errorRetry: null, timeoutRetry: null }) } function Sr(t, e, r, i) { if (!t) return !1; var n = null == i ? void 0 : i.code, a = e < t.maxNumRetry && (function (t) { return 0 === t && !1 === navigator.onLine || !!t && (t < 400 || t > 499) }(n) || !!r); return t.shouldRetry ? t.shouldRetry(t, e, r, i, a) : a } var Lr = function (t, e) { for (var r = 0, i = t.length - 1, n = null, a = null; r <= i;) { var s = e(a = t[n = (r + i) / 2 | 0]); if (s > 0) r = n + 1; else { if (!(s < 0)) return a; i = n - 1 } } return null }; function Ar(t, e, r, i, n) { void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === n && (n = .005); var a = null; if (t) { a = e[t.sn - e[0].sn + 1] || null; var s = t.endDTS - r; s > 0 && s < 15e-7 && (r += 15e-7) } else 0 === r && 0 === e[0].start && (a = e[0]); if (a && ((!t || t.level === a.level) && 0 === Rr(r, i, a) || function (t, e, r) { if (e && 0 === e.start && e.level < t.level && (e.endPTS || 0) > 0) { var i = e.tagList.reduce((function (t, e) { return "INF" === e[0] && (t += parseFloat(e[1])), t }), r); return t.start <= i } return !1 }(a, t, Math.min(n, i)))) return a; var o = Lr(e, Rr.bind(null, r, i)); return !o || o === t && a ? a : o } function Rr(t, e, r) { if (void 0 === t && (t = 0), void 0 === e && (e = 0), r.start <= t && r.start + r.duration > t) return 0; var i = Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0)); return r.start + r.duration - i <= t ? 1 : r.start - i > t && r.start ? -1 : 0 } function br(t, e, r) { var i = 1e3 * Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0)); return (r.endProgramDateTime || 0) - i > t } var kr = 0, Dr = 2, Ir = 3, wr = 5, Cr = 0, _r = 1, xr = 2, Pr = function () { function t(t) { this.hls = void 0, this.playlistError = 0, this.penalizedRenditions = {}, this.log = void 0, this.warn = void 0, this.error = void 0, this.hls = t, this.log = w.log.bind(w, "[info]:"), this.warn = w.warn.bind(w, "[warning]:"), this.error = w.error.bind(w, "[error]:"), this.registerListeners() } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.ERROR, this.onError, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.ERROR, this.onError, this), t.off(S.ERROR, this.onErrorOut, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this)) }, e.destroy = function () { this.unregisterListeners(), this.hls = null, this.penalizedRenditions = {} }, e.startLoad = function (t) { }, e.stopLoad = function () { this.playlistError = 0 }, e.getVariantLevelIndex = function (t) { return (null == t ? void 0 : t.type) === Fe ? t.level : this.hls.loadLevel }, e.onManifestLoading = function () { this.playlistError = 0, this.penalizedRenditions = {} }, e.onLevelUpdated = function () { this.playlistError = 0 }, e.onError = function (t, e) { var r, i; if (!e.fatal) { var n = this.hls, a = e.context; switch (e.details) { case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: return void (e.errorAction = this.getFragRetryOrSwitchAction(e)); case A.FRAG_PARSING_ERROR: if (null != (r = e.frag) && r.gap) return void (e.errorAction = { action: kr, flags: Cr }); case A.FRAG_GAP: case A.FRAG_DECRYPT_ERROR: return e.errorAction = this.getFragRetryOrSwitchAction(e), void (e.errorAction.action = Dr); case A.LEVEL_EMPTY_ERROR: case A.LEVEL_PARSING_ERROR: var s, o, l = e.parent === Fe ? e.level : n.loadLevel; return void (e.details === A.LEVEL_EMPTY_ERROR && null != (s = e.context) && null != (o = s.levelDetails) && o.live ? e.errorAction = this.getPlaylistRetryOrSwitchAction(e, l) : (e.levelRetry = !1, e.errorAction = this.getLevelSwitchAction(e, l))); case A.LEVEL_LOAD_ERROR: case A.LEVEL_LOAD_TIMEOUT: return void ("number" == typeof (null == a ? void 0 : a.level) && (e.errorAction = this.getPlaylistRetryOrSwitchAction(e, a.level))); case A.AUDIO_TRACK_LOAD_ERROR: case A.AUDIO_TRACK_LOAD_TIMEOUT: case A.SUBTITLE_LOAD_ERROR: case A.SUBTITLE_TRACK_LOAD_TIMEOUT: if (a) { var u = n.levels[n.loadLevel]; if (u && (a.type === xe && u.hasAudioGroup(a.groupId) || a.type === Pe && u.hasSubtitleGroup(a.groupId))) return e.errorAction = this.getPlaylistRetryOrSwitchAction(e, n.loadLevel), e.errorAction.action = Dr, void (e.errorAction.flags = _r) } return; case A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED: var h = n.levels[n.loadLevel], d = null == h ? void 0 : h.attrs["HDCP-LEVEL"]; return void (d ? e.errorAction = { action: Dr, flags: xr, hdcpLevel: d } : this.keySystemError(e)); case A.BUFFER_ADD_CODEC_ERROR: case A.REMUX_ALLOC_ERROR: case A.BUFFER_APPEND_ERROR: return void (e.errorAction = this.getLevelSwitchAction(e, null != (i = e.level) ? i : n.loadLevel)); case A.INTERNAL_EXCEPTION: case A.BUFFER_APPENDING_ERROR: case A.BUFFER_FULL_ERROR: case A.LEVEL_SWITCH_ERROR: case A.BUFFER_STALLED_ERROR: case A.BUFFER_SEEK_OVER_HOLE: case A.BUFFER_NUDGE_ON_STALL: return void (e.errorAction = { action: kr, flags: Cr }) }e.type === L.KEY_SYSTEM_ERROR && this.keySystemError(e) } }, e.keySystemError = function (t) { var e = this.getVariantLevelIndex(t.frag); t.levelRetry = !1, t.errorAction = this.getLevelSwitchAction(t, e) }, e.getPlaylistRetryOrSwitchAction = function (t, e) { var r = yr(this.hls.config.playlistLoadPolicy, t), i = this.playlistError++; if (Sr(r, i, pr(t), t.response)) return { action: wr, flags: Cr, retryConfig: r, retryCount: i }; var n = this.getLevelSwitchAction(t, e); return r && (n.retryConfig = r, n.retryCount = i), n }, e.getFragRetryOrSwitchAction = function (t) { var e = this.hls, r = this.getVariantLevelIndex(t.frag), i = e.levels[r], n = e.config, a = n.fragLoadPolicy, s = n.keyLoadPolicy, o = yr(t.details.startsWith("key") ? s : a, t), l = e.levels.reduce((function (t, e) { return t + e.fragmentError }), 0); if (i && (t.details !== A.FRAG_GAP && i.fragmentError++, Sr(o, l, pr(t), t.response))) return { action: wr, flags: Cr, retryConfig: o, retryCount: l }; var u = this.getLevelSwitchAction(t, r); return o && (u.retryConfig = o, u.retryCount = l), u }, e.getLevelSwitchAction = function (t, e) { var r = this.hls; null == e && (e = r.loadLevel); var i = this.hls.levels[e]; if (i) { var n, a, s = t.details; i.loadError++, s === A.BUFFER_APPEND_ERROR && i.fragmentError++; var o = -1, l = r.levels, u = r.loadLevel, h = r.minAutoLevel, d = r.maxAutoLevel; r.autoLevelEnabled || (r.loadLevel = -1); for (var c, f = null == (n = t.frag) ? void 0 : n.type, g = (f === Me && s === A.FRAG_PARSING_ERROR || "audio" === t.sourceBufferName && (s === A.BUFFER_ADD_CODEC_ERROR || s === A.BUFFER_APPEND_ERROR)) && l.some((function (t) { var e = t.audioCodec; return i.audioCodec !== e })), v = "video" === t.sourceBufferName && (s === A.BUFFER_ADD_CODEC_ERROR || s === A.BUFFER_APPEND_ERROR) && l.some((function (t) { var e = t.codecSet, r = t.audioCodec; return i.codecSet !== e && i.audioCodec === r })), m = null != (a = t.context) ? a : {}, p = m.type, y = m.groupId, E = function () { var e = (T + u) % l.length; if (e !== u && e >= h && e <= d && 0 === l[e].loadError) { var r, n, a = l[e]; if (s === A.FRAG_GAP && f === Fe && t.frag) { var c = l[e].details; if (c) { var m = Ar(t.frag, c.fragments, t.frag.start); if (null != m && m.gap) return 0 } } else { if (p === xe && a.hasAudioGroup(y) || p === Pe && a.hasSubtitleGroup(y)) return 0; if (f === Me && null != (r = i.audioGroups) && r.some((function (t) { return a.hasAudioGroup(t) })) || f === Oe && null != (n = i.subtitleGroups) && n.some((function (t) { return a.hasSubtitleGroup(t) })) || g && i.audioCodec === a.audioCodec || !g && i.audioCodec !== a.audioCodec || v && i.codecSet === a.codecSet) return 0 } return o = e, 1 } }, T = l.length; T-- && (0 === (c = E()) || 1 !== c);); if (o > -1 && r.loadLevel !== o) return t.levelRetry = !0, this.playlistError = 0, { action: Dr, flags: Cr, nextAutoLevel: o } } return { action: Dr, flags: _r } }, e.onErrorOut = function (t, e) { var r; switch (null == (r = e.errorAction) ? void 0 : r.action) { case kr: break; case Dr: this.sendAlternateToPenaltyBox(e), e.errorAction.resolved || e.details === A.FRAG_GAP ? /MediaSource readyState: ended/.test(e.error.message) && (this.warn('MediaSource ended after "' + e.sourceBufferName + '" sourceBuffer append error. Attempting to recover from media error.'), this.hls.recoverMediaError()) : e.fatal = !0 }e.fatal && this.hls.stopLoad() }, e.sendAlternateToPenaltyBox = function (t) { var e = this.hls, r = t.errorAction; if (r) { var i = r.flags, n = r.hdcpLevel, a = r.nextAutoLevel; switch (i) { case Cr: this.switchLevel(t, a); break; case xr: n && (e.maxHdcpLevel = tr[tr.indexOf(n) - 1], r.resolved = !0), this.warn('Restricting playback to HDCP-LEVEL of "' + e.maxHdcpLevel + '" or lower') }r.resolved || this.switchLevel(t, a) } }, e.switchLevel = function (t, e) { void 0 !== e && t.errorAction && (this.warn("switching to level " + e + " after " + t.details), this.hls.nextAutoLevel = e, t.errorAction.resolved = !0, this.hls.nextLoadLevel = this.hls.nextAutoLevel) }, t }(), Fr = function () { function t(t, e) { this.hls = void 0, this.timer = -1, this.requestScheduled = -1, this.canLoad = !1, this.log = void 0, this.warn = void 0, this.log = w.log.bind(w, e + ":"), this.warn = w.warn.bind(w, e + ":"), this.hls = t } var e = t.prototype; return e.destroy = function () { this.clearTimer(), this.hls = this.log = this.warn = null }, e.clearTimer = function () { -1 !== this.timer && (self.clearTimeout(this.timer), this.timer = -1) }, e.startLoad = function () { this.canLoad = !0, this.requestScheduled = -1, this.loadPlaylist() }, e.stopLoad = function () { this.canLoad = !1, this.clearTimer() }, e.switchParams = function (t, e, r) { var i = null == e ? void 0 : e.renditionReports; if (i) { for (var n = -1, a = 0; a < i.length; a++) { var s = i[a], o = void 0; try { o = new self.URL(s.URI, e.url).href } catch (t) { w.warn("Could not construct new URL for Rendition Report: " + t), o = s.URI || "" } if (o === t) { n = a; break } o === t.substring(0, o.length) && (n = a) } if (-1 !== n) { var l = i[n], u = parseInt(l["LAST-MSN"]) || (null == e ? void 0 : e.lastPartSn), h = parseInt(l["LAST-PART"]) || (null == e ? void 0 : e.lastPartIndex); if (this.hls.config.lowLatencyMode) { var d = Math.min(e.age - e.partTarget, e.targetduration); h >= 0 && d > e.partTarget && (h += 1) } var c = r && ar(r); return new sr(u, h >= 0 ? h : void 0, c) } } }, e.loadPlaylist = function (t) { -1 === this.requestScheduled && (this.requestScheduled = self.performance.now()) }, e.shouldLoadPlaylist = function (t) { return this.canLoad && !!t && !!t.url && (!t.details || t.details.live) }, e.shouldReloadPlaylist = function (t) { return -1 === this.timer && -1 === this.requestScheduled && this.shouldLoadPlaylist(t) }, e.playlistLoaded = function (t, e, r) { var i = this, n = e.details, a = e.stats, s = self.performance.now(), o = a.loading.first ? Math.max(0, s - a.loading.first) : 0; if (n.advancedDateTime = Date.now() - o, n.live || null != r && r.live) { if (n.reloaded(r), r && this.log("live playlist " + t + " " + (n.advanced ? "REFRESHED " + n.lastPartSn + "-" + n.lastPartIndex : n.updated ? "UPDATED" : "MISSED")), r && n.fragments.length > 0 && dr(r, n), !this.canLoad || !n.live) return; var l, u = void 0, h = void 0; if (n.canBlockReload && n.endSN && n.advanced) { var d = this.hls.config.lowLatencyMode, c = n.lastPartSn, f = n.endSN, g = n.lastPartIndex, v = c === f; -1 !== g ? (u = v ? f + 1 : c, h = v ? d ? 0 : g : g + 1) : u = f + 1; var m = n.age, p = m + n.ageHeader, y = Math.min(p - n.partTarget, 1.5 * n.targetduration); if (y > 0) { if (r && y > r.tuneInGoal) this.warn("CDN Tune-in goal increased from: " + r.tuneInGoal + " to: " + y + " with playlist age: " + n.age), y = 0; else { var E = Math.floor(y / n.targetduration); u += E, void 0 !== h && (h += Math.round(y % n.targetduration / n.partTarget)), this.log("CDN Tune-in age: " + n.ageHeader + "s last advanced " + m.toFixed(2) + "s goal: " + y + " skip sn " + E + " to part " + h) } n.tuneInGoal = y } if (l = this.getDeliveryDirectives(n, e.deliveryDirectives, u, h), d || !v) return void this.loadPlaylist(l) } else (n.canBlockReload || n.canSkipUntil) && (l = this.getDeliveryDirectives(n, e.deliveryDirectives, u, h)); var T = this.hls.mainForwardBufferInfo, S = T ? T.end - T.len : 0, L = function (t, e) { void 0 === e && (e = 1 / 0); var r = 1e3 * t.targetduration; if (t.updated) { var i = t.fragments; if (i.length && 4 * r > e) { var n = 1e3 * i[i.length - 1].duration; n < r && (r = n) } } else r /= 2; return Math.round(r) }(n, 1e3 * (n.edge - S)); n.updated && s > this.requestScheduled + L && (this.requestScheduled = a.loading.start), void 0 !== u && n.canBlockReload ? this.requestScheduled = a.loading.first + L - (1e3 * n.partTarget || 1e3) : -1 === this.requestScheduled || this.requestScheduled + L < s ? this.requestScheduled = s : this.requestScheduled - s <= 0 && (this.requestScheduled += L); var A = this.requestScheduled - s; A = Math.max(0, A), this.log("reload live playlist " + t + " in " + Math.round(A) + " ms"), this.timer = self.setTimeout((function () { return i.loadPlaylist(l) }), A) } else this.clearTimer() }, e.getDeliveryDirectives = function (t, e, r, i) { var n = ar(t); return null != e && e.skip && t.deltaUpdateFailed && (r = e.msn, i = e.part, n = rr), new sr(r, i, n) }, e.checkRetry = function (t) { var e = this, r = t.details, i = pr(t), n = t.errorAction, a = n || {}, s = a.action, o = a.retryCount, l = void 0 === o ? 0 : o, u = a.retryConfig, h = !!n && !!u && (s === wr || !n.resolved && s === Dr); if (h) { var d; if (this.requestScheduled = -1, l >= u.maxNumRetry) return !1; if (i && null != (d = t.context) && d.deliveryDirectives) this.warn("Retrying playlist loading " + (l + 1) + "/" + u.maxNumRetry + ' after "' + r + '" without delivery-directives'), this.loadPlaylist(); else { var c = Er(u, l); this.timer = self.setTimeout((function () { return e.loadPlaylist() }), c), this.warn("Retrying playlist loading " + (l + 1) + "/" + u.maxNumRetry + ' after "' + r + '" in ' + c + "ms") } t.levelRetry = !0, n.resolved = !0 } return h }, t }(), Mr = function () { function t(t, e, r) { void 0 === e && (e = 0), void 0 === r && (r = 0), this.halfLife = void 0, this.alpha_ = void 0, this.estimate_ = void 0, this.totalWeight_ = void 0, this.halfLife = t, this.alpha_ = t ? Math.exp(Math.log(.5) / t) : 0, this.estimate_ = e, this.totalWeight_ = r } var e = t.prototype; return e.sample = function (t, e) { var r = Math.pow(this.alpha_, t); this.estimate_ = e * (1 - r) + r * this.estimate_, this.totalWeight_ += t }, e.getTotalWeight = function () { return this.totalWeight_ }, e.getEstimate = function () { if (this.alpha_) { var t = 1 - Math.pow(this.alpha_, this.totalWeight_); if (t) return this.estimate_ / t } return this.estimate_ }, t }(), Or = function () { function t(t, e, r, i) { void 0 === i && (i = 100), this.defaultEstimate_ = void 0, this.minWeight_ = void 0, this.minDelayMs_ = void 0, this.slow_ = void 0, this.fast_ = void 0, this.defaultTTFB_ = void 0, this.ttfb_ = void 0, this.defaultEstimate_ = r, this.minWeight_ = .001, this.minDelayMs_ = 50, this.slow_ = new Mr(t), this.fast_ = new Mr(e), this.defaultTTFB_ = i, this.ttfb_ = new Mr(t) } var e = t.prototype; return e.update = function (t, e) { var r = this.slow_, i = this.fast_, n = this.ttfb_; r.halfLife !== t && (this.slow_ = new Mr(t, r.getEstimate(), r.getTotalWeight())), i.halfLife !== e && (this.fast_ = new Mr(e, i.getEstimate(), i.getTotalWeight())), n.halfLife !== t && (this.ttfb_ = new Mr(t, n.getEstimate(), n.getTotalWeight())) }, e.sample = function (t, e) { var r = (t = Math.max(t, this.minDelayMs_)) / 1e3, i = 8 * e / r; this.fast_.sample(r, i), this.slow_.sample(r, i) }, e.sampleTTFB = function (t) { var e = t / 1e3, r = Math.sqrt(2) * Math.exp(-Math.pow(e, 2) / 2); this.ttfb_.sample(r, Math.max(t, 5)) }, e.canEstimate = function () { return this.fast_.getTotalWeight() >= this.minWeight_ }, e.getEstimate = function () { return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_ }, e.getEstimateTTFB = function () { return this.ttfb_.getTotalWeight() >= this.minWeight_ ? this.ttfb_.getEstimate() : this.defaultTTFB_ }, e.destroy = function () { }, t }(), Nr = { supported: !0, configurations: [], decodingInfoResults: [{ supported: !0, powerEfficient: !0, smooth: !0 }] }, Ur = {}; function Br(t, e, r) { var n = t.videoCodec, a = t.audioCodec; if (!n || !a || !r) return Promise.resolve(Nr); var s = { width: t.width, height: t.height, bitrate: Math.ceil(Math.max(.9 * t.bitrate, t.averageBitrate)), framerate: t.frameRate || 30 }, o = t.videoRange; "SDR" !== o && (s.transferFunction = o.toLowerCase()); var l = n.split(",").map((function (t) { return { type: "media-source", video: i(i({}, s), {}, { contentType: he(t, "video") }) } })); return a && t.audioGroups && t.audioGroups.forEach((function (t) { var r; t && (null == (r = e.groups[t]) || r.tracks.forEach((function (e) { if (e.groupId === t) { var r = e.channels || "", i = parseFloat(r); y(i) && i > 2 && l.push.apply(l, a.split(",").map((function (t) { return { type: "media-source", audio: { contentType: he(t, "audio"), channels: "" + i } } }))) } }))) })), Promise.all(l.map((function (t) { var e = function (t) { var e = t.audio, r = t.video, i = r || e; if (i) { var n = i.contentType.split('"')[1]; if (r) return "r" + r.height + "x" + r.width + "f" + Math.ceil(r.framerate) + (r.transferFunction || "sd") + "_" + n + "_" + Math.ceil(r.bitrate / 1e5); if (e) return "c" + e.channels + (e.spatialRendering ? "s" : "n") + "_" + n } return "" }(t); return Ur[e] || (Ur[e] = r.decodingInfo(t)) }))).then((function (t) { return { supported: !t.some((function (t) { return !t.supported })), configurations: l, decodingInfoResults: t } })).catch((function (t) { return { supported: !1, configurations: l, decodingInfoResults: [], error: t } })) } function Gr(t, e) { var r = !1, i = []; return t && (r = "SDR" !== t, i = [t]), e && (i = e.allowedVideoRanges || er.slice(0), i = (r = void 0 !== e.preferHDR ? e.preferHDR : function () { if ("function" == typeof matchMedia) { var t = matchMedia("(dynamic-range: high)"), e = matchMedia("bad query"); if (t.media !== e.media) return !0 === t.matches } return !1 }()) ? i.filter((function (t) { return "SDR" !== t })) : ["SDR"]), { preferHDR: r, allowedVideoRanges: i } } function Kr(t, e) { w.log('[abr] start candidates with "' + t + '" ignored because ' + e) } function Hr(t, e, r) { if ("attrs" in t) { var i = e.indexOf(t); if (-1 !== i) return i } for (var n = 0; n < e.length; n++)if (Vr(t, e[n], r)) return n; return -1 } function Vr(t, e, r) { var i = t.groupId, n = t.name, a = t.lang, s = t.assocLang, o = t.characteristics, l = t.default, u = t.forced; return (void 0 === i || e.groupId === i) && (void 0 === n || e.name === n) && (void 0 === a || e.lang === a) && (void 0 === a || e.assocLang === s) && (void 0 === l || e.default === l) && (void 0 === u || e.forced === u) && (void 0 === o || function (t, e) { void 0 === e && (e = ""); var r = t.split(","), i = e.split(","); return r.length === i.length && !r.some((function (t) { return -1 === i.indexOf(t) })) }(o, e.characteristics)) && (void 0 === r || r(t, e)) } function Yr(t, e) { var r = t.audioCodec, i = t.channels; return !(void 0 !== r && (e.audioCodec || "").substring(0, 4) !== r.substring(0, 4) || void 0 !== i && i !== (e.channels || "2")) } function Wr(t, e, r) { for (var i = e; i > -1; i--)if (r(t[i])) return i; for (var n = e + 1; n < t.length; n++)if (r(t[n])) return n; return -1 } var jr = function () { function t(t) { var e = this; this.hls = void 0, this.lastLevelLoadSec = 0, this.lastLoadedFragLevel = -1, this.firstSelection = -1, this._nextAutoLevel = -1, this.nextAutoLevelKey = "", this.audioTracksByGroup = null, this.codecTiers = null, this.timer = -1, this.fragCurrent = null, this.partCurrent = null, this.bitrateTestDelay = 0, this.bwEstimator = void 0, this._abandonRulesCheck = function () { var t = e.fragCurrent, r = e.partCurrent, i = e.hls, n = i.autoLevelEnabled, a = i.media; if (t && a) { var s = performance.now(), o = r ? r.stats : t.stats, l = r ? r.duration : t.duration, u = s - o.loading.start, h = i.minAutoLevel; if (o.aborted || o.loaded && o.loaded === o.total || t.level <= h) return e.clearTimer(), void (e._nextAutoLevel = -1); if (n && !a.paused && a.playbackRate && a.readyState) { var d = i.mainForwardBufferInfo; if (null !== d) { var c = e.bwEstimator.getEstimateTTFB(), f = Math.abs(a.playbackRate); if (!(u <= Math.max(c, l / (2 * f) * 1e3))) { var g = d.len / f, v = o.loading.first ? o.loading.first - o.loading.start : -1, m = o.loaded && v > -1, p = e.getBwEstimate(), E = i.levels, T = E[t.level], L = o.total || Math.max(o.loaded, Math.round(l * T.averageBitrate / 8)), A = m ? u - v : u; A < 1 && m && (A = Math.min(u, 8 * o.loaded / p)); var R = m ? 1e3 * o.loaded / A : 0, b = R ? (L - o.loaded) / R : 8 * L / p + c / 1e3; if (!(b <= g)) { var k, D = R ? 8 * R : p, I = Number.POSITIVE_INFINITY; for (k = t.level - 1; k > h; k--) { var C = E[k].maxBitrate; if ((I = e.getTimeToLoadFrag(c / 1e3, D, l * C, !E[k].details)) < g) break } if (!(I >= b || I > 10 * l)) { i.nextLoadLevel = i.nextAutoLevel = k, m ? e.bwEstimator.sample(u - Math.min(c, v), o.loaded) : e.bwEstimator.sampleTTFB(u); var _ = E[k].maxBitrate; e.getBwEstimate() * e.hls.config.abrBandWidthUpFactor > _ && e.resetEstimator(_), e.clearTimer(), w.warn("[abr] Fragment " + t.sn + (r ? " part " + r.index : "") + " of level " + t.level + " is loading too slowly;\n      Time to underbuffer: " + g.toFixed(3) + " s\n      Estimated load time for current fragment: " + b.toFixed(3) + " s\n      Estimated load time for down switch fragment: " + I.toFixed(3) + " s\n      TTFB estimate: " + (0 | v) + " ms\n      Current BW estimate: " + (y(p) ? 0 | p : "Unknown") + " bps\n      New BW estimate: " + (0 | e.getBwEstimate()) + " bps\n      Switching to level " + k + " @ " + (0 | _) + " bps"), i.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED, { frag: t, part: r, stats: o }) } } } } } } }, this.hls = t, this.bwEstimator = this.initEstimator(), this.registerListeners() } var e = t.prototype; return e.resetEstimator = function (t) { t && (w.log("setting initial bwe to " + t), this.hls.config.abrEwmaDefaultEstimate = t), this.firstSelection = -1, this.bwEstimator = this.initEstimator() }, e.initEstimator = function () { var t = this.hls.config; return new Or(t.abrEwmaSlowVoD, t.abrEwmaFastVoD, t.abrEwmaDefaultEstimate) }, e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.FRAG_LOADING, this.onFragLoading, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this), t.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.FRAG_LOADING, this.onFragLoading, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this), t.off(S.ERROR, this.onError, this)) }, e.destroy = function () { this.unregisterListeners(), this.clearTimer(), this.hls = this._abandonRulesCheck = null, this.fragCurrent = this.partCurrent = null }, e.onManifestLoading = function (t, e) { this.lastLoadedFragLevel = -1, this.firstSelection = -1, this.lastLevelLoadSec = 0, this.fragCurrent = this.partCurrent = null, this.onLevelsUpdated(), this.clearTimer() }, e.onLevelsUpdated = function () { this.lastLoadedFragLevel > -1 && this.fragCurrent && (this.lastLoadedFragLevel = this.fragCurrent.level), this._nextAutoLevel = -1, this.onMaxAutoLevelUpdated(), this.codecTiers = null, this.audioTracksByGroup = null }, e.onMaxAutoLevelUpdated = function () { this.firstSelection = -1, this.nextAutoLevelKey = "" }, e.onFragLoading = function (t, e) { var r, i = e.frag; this.ignoreFragment(i) || (i.bitrateTest || (this.fragCurrent = i, this.partCurrent = null != (r = e.part) ? r : null), this.clearTimer(), this.timer = self.setInterval(this._abandonRulesCheck, 100)) }, e.onLevelSwitching = function (t, e) { this.clearTimer() }, e.onError = function (t, e) { if (!e.fatal) switch (e.details) { case A.BUFFER_ADD_CODEC_ERROR: case A.BUFFER_APPEND_ERROR: this.lastLoadedFragLevel = -1, this.firstSelection = -1; break; case A.FRAG_LOAD_TIMEOUT: var r = e.frag, i = this.fragCurrent, n = this.partCurrent; if (r && i && r.sn === i.sn && r.level === i.level) { var a = performance.now(), s = n ? n.stats : r.stats, o = a - s.loading.start, l = s.loading.first ? s.loading.first - s.loading.start : -1; if (s.loaded && l > -1) { var u = this.bwEstimator.getEstimateTTFB(); this.bwEstimator.sample(o - Math.min(u, l), s.loaded) } else this.bwEstimator.sampleTTFB(o) } } }, e.getTimeToLoadFrag = function (t, e, r, i) { return t + r / e + (i ? this.lastLevelLoadSec : 0) }, e.onLevelLoaded = function (t, e) { var r = this.hls.config, i = e.stats.loading, n = i.end - i.start; y(n) && (this.lastLevelLoadSec = n / 1e3), e.details.live ? this.bwEstimator.update(r.abrEwmaSlowLive, r.abrEwmaFastLive) : this.bwEstimator.update(r.abrEwmaSlowVoD, r.abrEwmaFastVoD) }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.part, n = i ? i.stats : r.stats; if (r.type === Fe && this.bwEstimator.sampleTTFB(n.loading.first - n.loading.start), !this.ignoreFragment(r)) { if (this.clearTimer(), r.level === this._nextAutoLevel && (this._nextAutoLevel = -1), this.firstSelection = -1, this.hls.config.abrMaxWithRealBitrate) { var a = i ? i.duration : r.duration, s = this.hls.levels[r.level], o = (s.loaded ? s.loaded.bytes : 0) + n.loaded, l = (s.loaded ? s.loaded.duration : 0) + a; s.loaded = { bytes: o, duration: l }, s.realBitrate = Math.round(8 * o / l) } if (r.bitrateTest) { var u = { stats: n, frag: r, part: i, id: r.type }; this.onFragBuffered(S.FRAG_BUFFERED, u), r.bitrateTest = !1 } else this.lastLoadedFragLevel = r.level } }, e.onFragBuffered = function (t, e) { var r = e.frag, i = e.part, n = null != i && i.stats.loaded ? i.stats : r.stats; if (!n.aborted && !this.ignoreFragment(r)) { var a = n.parsing.end - n.loading.start - Math.min(n.loading.first - n.loading.start, this.bwEstimator.getEstimateTTFB()); this.bwEstimator.sample(a, n.loaded), n.bwEstimate = this.getBwEstimate(), r.bitrateTest ? this.bitrateTestDelay = a / 1e3 : this.bitrateTestDelay = 0 } }, e.ignoreFragment = function (t) { return t.type !== Fe || "initSegment" === t.sn }, e.clearTimer = function () { this.timer > -1 && (self.clearInterval(this.timer), this.timer = -1) }, e.getAutoLevelKey = function () { return this.getBwEstimate() + "_" + this.getStarvationDelay().toFixed(2) }, e.getNextABRAutoLevel = function () { var t = this.fragCurrent, e = this.partCurrent, r = this.hls, i = r.maxAutoLevel, n = r.config, a = r.minAutoLevel, s = e ? e.duration : t ? t.duration : 0, o = this.getBwEstimate(), l = this.getStarvationDelay(), u = n.abrBandWidthFactor, h = n.abrBandWidthUpFactor; if (l) { var d = this.findBestLevel(o, a, i, l, 0, u, h); if (d >= 0) return d } var c = s ? Math.min(s, n.maxStarvationDelay) : n.maxStarvationDelay; if (!l) { var f = this.bitrateTestDelay; f && (c = (s ? Math.min(s, n.maxLoadingDelay) : n.maxLoadingDelay) - f, w.info("[abr] bitrate test took " + Math.round(1e3 * f) + "ms, set first fragment max fetchDuration to " + Math.round(1e3 * c) + " ms"), u = h = 1) } var g = this.findBestLevel(o, a, i, l, c, u, h); if (w.info("[abr] " + (l ? "rebuffering expected" : "buffer is empty") + ", optimal quality level " + g), g > -1) return g; var v = r.levels[a], m = r.levels[r.loadLevel]; return (null == v ? void 0 : v.bitrate) < (null == m ? void 0 : m.bitrate) ? a : r.loadLevel }, e.getStarvationDelay = function () { var t = this.hls, e = t.media; if (!e) return 1 / 0; var r = e && 0 !== e.playbackRate ? Math.abs(e.playbackRate) : 1, i = t.mainForwardBufferInfo; return (i ? i.len : 0) / r }, e.getBwEstimate = function () { return this.bwEstimator.canEstimate() ? this.bwEstimator.getEstimate() : this.hls.config.abrEwmaDefaultEstimate }, e.findBestLevel = function (t, e, r, i, n, a, s) { var o, l = this, u = i + n, h = this.lastLoadedFragLevel, d = -1 === h ? this.hls.firstLevel : h, c = this.fragCurrent, f = this.partCurrent, g = this.hls, v = g.levels, m = g.allAudioTracks, p = g.loadLevel, E = g.config; if (1 === v.length) return 0; var T, S = v[d], L = !(null == S || null == (o = S.details) || !o.live), A = -1 === p || -1 === h, R = "SDR", b = (null == S ? void 0 : S.frameRate) || 0, k = E.audioPreference, D = E.videoPreference, I = this.audioTracksByGroup || (this.audioTracksByGroup = function (t) { return t.reduce((function (t, e) { var r = t.groups[e.groupId]; r || (r = t.groups[e.groupId] = { tracks: [], channels: { 2: 0 }, hasDefault: !1, hasAutoSelect: !1 }), r.tracks.push(e); var i = e.channels || "2"; return r.channels[i] = (r.channels[i] || 0) + 1, r.hasDefault = r.hasDefault || e.default, r.hasAutoSelect = r.hasAutoSelect || e.autoselect, r.hasDefault && (t.hasDefaultAudio = !0), r.hasAutoSelect && (t.hasAutoSelectAudio = !0), t }), { hasDefaultAudio: !1, hasAutoSelectAudio: !1, groups: {} }) }(m)); if (A) { if (-1 !== this.firstSelection) return this.firstSelection; var C = this.codecTiers || (this.codecTiers = function (t, e, r, i) { return t.slice(r, i + 1).reduce((function (t, r) { if (!r.codecSet) return t; var i = r.audioGroups, n = t[r.codecSet]; n || (t[r.codecSet] = n = { minBitrate: 1 / 0, minHeight: 1 / 0, minFramerate: 1 / 0, maxScore: 0, videoRanges: { SDR: 0 }, channels: { 2: 0 }, hasDefaultAudio: !i, fragmentError: 0 }), n.minBitrate = Math.min(n.minBitrate, r.bitrate); var a = Math.min(r.height, r.width); return n.minHeight = Math.min(n.minHeight, a), n.minFramerate = Math.min(n.minFramerate, r.frameRate), n.maxScore = Math.max(n.maxScore, r.score), n.fragmentError += r.fragmentError, n.videoRanges[r.videoRange] = (n.videoRanges[r.videoRange] || 0) + 1, i && i.forEach((function (t) { if (t) { var r = e.groups[t]; r && (n.hasDefaultAudio = n.hasDefaultAudio || e.hasDefaultAudio ? r.hasDefault : r.hasAutoSelect || !e.hasDefaultAudio && !e.hasAutoSelectAudio, Object.keys(r.channels).forEach((function (t) { n.channels[t] = (n.channels[t] || 0) + r.channels[t] }))) } })), t }), {}) }(v, I, e, r)), _ = function (t, e, r, i, n) { for (var a = Object.keys(t), s = null == i ? void 0 : i.channels, o = null == i ? void 0 : i.audioCodec, l = s && 2 === parseInt(s), u = !0, h = !1, d = 1 / 0, c = 1 / 0, f = 1 / 0, g = 0, v = [], m = Gr(e, n), p = m.preferHDR, E = m.allowedVideoRanges, T = function () { var e = t[a[S]]; u = e.channels[2] > 0, d = Math.min(d, e.minHeight), c = Math.min(c, e.minFramerate), f = Math.min(f, e.minBitrate); var r = E.filter((function (t) { return e.videoRanges[t] > 0 })); r.length > 0 && (h = !0, v = r) }, S = a.length; S--;)T(); d = y(d) ? d : 0, c = y(c) ? c : 0; var L = Math.max(1080, d), A = Math.max(30, c); return f = y(f) ? f : r, r = Math.max(f, r), h || (e = void 0, v = []), { codecSet: a.reduce((function (e, i) { var n = t[i]; if (i === e) return e; if (n.minBitrate > r) return Kr(i, "min bitrate of " + n.minBitrate + " > current estimate of " + r), e; if (!n.hasDefaultAudio) return Kr(i, "no renditions with default or auto-select sound found"), e; if (o && i.indexOf(o.substring(0, 4)) % 5 != 0) return Kr(i, 'audio codec preference "' + o + '" not found'), e; if (s && !l) { if (!n.channels[s]) return Kr(i, "no renditions with " + s + " channel sound found (channels options: " + Object.keys(n.channels) + ")"), e } else if ((!o || l) && u && 0 === n.channels[2]) return Kr(i, "no renditions with stereo sound found"), e; return n.minHeight > L ? (Kr(i, "min resolution of " + n.minHeight + " > maximum of " + L), e) : n.minFramerate > A ? (Kr(i, "min framerate of " + n.minFramerate + " > maximum of " + A), e) : v.some((function (t) { return n.videoRanges[t] > 0 })) ? n.maxScore < g ? (Kr(i, "max score of " + n.maxScore + " < selected max of " + g), e) : e && (ce(i) >= ce(e) || n.fragmentError > t[e].fragmentError) ? e : (g = n.maxScore, i) : (Kr(i, "no variants with VIDEO-RANGE of " + JSON.stringify(v) + " found"), e) }), void 0), videoRanges: v, preferHDR: p, minFramerate: c, minBitrate: f } }(C, R, t, k, D), x = _.codecSet, P = _.videoRanges, F = _.minFramerate, M = _.minBitrate, O = _.preferHDR; T = x, R = O ? P[P.length - 1] : P[0], b = F, t = Math.max(t, M), w.log("[abr] picked start tier " + JSON.stringify(_)) } else T = null == S ? void 0 : S.codecSet, R = null == S ? void 0 : S.videoRange; for (var N, U = f ? f.duration : c ? c.duration : 0, B = this.bwEstimator.getEstimateTTFB() / 1e3, G = [], K = function () { var e, o = v[H], c = H > d; if (!o) return 0; if (E.useMediaCapabilities && !o.supportedResult && !o.supportedPromise) { var g = navigator.mediaCapabilities; "function" == typeof (null == g ? void 0 : g.decodingInfo) && function (t, e, r, i, n, a) { var s = t.audioCodec ? t.audioGroups : null, o = null == a ? void 0 : a.audioCodec, l = null == a ? void 0 : a.channels, u = l ? parseInt(l) : o ? 1 / 0 : 2, h = null; if (null != s && s.length) try { h = 1 === s.length && s[0] ? e.groups[s[0]].channels : s.reduce((function (t, r) { if (r) { var i = e.groups[r]; if (!i) throw new Error("Audio track group " + r + " not found"); Object.keys(i.channels).forEach((function (e) { t[e] = (t[e] || 0) + i.channels[e] })) } return t }), { 2: 0 }) } catch (t) { return !0 } return void 0 !== t.videoCodec && (t.width > 1920 && t.height > 1088 || t.height > 1920 && t.width > 1088 || t.frameRate > Math.max(i, 30) || "SDR" !== t.videoRange && t.videoRange !== r || t.bitrate > Math.max(n, 8e6)) || !!h && y(u) && Object.keys(h).some((function (t) { return parseInt(t) > u })) }(o, I, R, b, t, k) ? (o.supportedPromise = Br(o, I, g), o.supportedPromise.then((function (t) { if (l.hls) { o.supportedResult = t; var e = l.hls.levels, r = e.indexOf(o); t.error ? w.warn('[abr] MediaCapabilities decodingInfo error: "' + t.error + '" for level ' + r + " " + JSON.stringify(t)) : t.supported || (w.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level " + r + " " + JSON.stringify(t)), r > -1 && e.length > 1 && (w.log("[abr] Removing unsupported level " + r), l.hls.removeLevel(r))) } }))) : o.supportedResult = Nr } if (T && o.codecSet !== T || R && o.videoRange !== R || c && b > o.frameRate || !c && b > 0 && b < o.frameRate || o.supportedResult && (null == (e = o.supportedResult.decodingInfoResults) || !e[0].smooth)) return G.push(H), 0; var m, D = o.details, C = (f ? null == D ? void 0 : D.partTarget : null == D ? void 0 : D.averagetargetduration) || U; m = c ? s * t : a * t; var _ = U && i >= 2 * U && 0 === n ? v[H].averageBitrate : v[H].maxBitrate, x = l.getTimeToLoadFrag(B, m, _ * C, void 0 === D); if (m >= _ && (H === h || 0 === o.loadError && 0 === o.fragmentError) && (x <= B || !y(x) || L && !l.bitrateTestDelay || x < u)) { var P = l.forcedAutoLevel; return H === p || -1 !== P && P === p || (G.length && w.trace("[abr] Skipped level(s) " + G.join(",") + " of " + r + ' max with CODECS and VIDEO-RANGE:"' + v[G[0]].codecs + '" ' + v[G[0]].videoRange + '; not compatible with "' + S.codecs + '" ' + R), w.info("[abr] switch candidate:" + d + "->" + H + " adjustedbw(" + Math.round(m) + ")-bitrate=" + Math.round(m - _) + " ttfb:" + B.toFixed(1) + " avgDuration:" + C.toFixed(1) + " maxFetchDuration:" + u.toFixed(1) + " fetchDuration:" + x.toFixed(1) + " firstSelection:" + A + " codecSet:" + T + " videoRange:" + R + " hls.loadLevel:" + p)), A && (l.firstSelection = H), { v: H } } }, H = r; H >= e; H--)if (0 !== (N = K()) && N) return N.v; return -1 }, s(t, [{ key: "firstAutoLevel", get: function () { var t = this.hls, e = t.maxAutoLevel, r = t.minAutoLevel, i = this.getBwEstimate(), n = this.hls.config.maxStarvationDelay, a = this.findBestLevel(i, r, e, 0, n, 1, 1); if (a > -1) return a; var s = this.hls.firstLevel, o = Math.min(Math.max(s, r), e); return w.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist " + s + " clamped to " + o), o } }, { key: "forcedAutoLevel", get: function () { return this.nextAutoLevelKey ? -1 : this._nextAutoLevel } }, { key: "nextAutoLevel", get: function () { var t = this.forcedAutoLevel, e = this.bwEstimator.canEstimate(), r = this.lastLoadedFragLevel > -1; if (!(-1 === t || e && r && this.nextAutoLevelKey !== this.getAutoLevelKey())) return t; var i = e && r ? this.getNextABRAutoLevel() : this.firstAutoLevel; if (-1 !== t) { var n = this.hls.levels; if (n.length > Math.max(t, i) && n[t].loadError <= n[i].loadError) return t } return this._nextAutoLevel = i, this.nextAutoLevelKey = this.getAutoLevelKey(), i }, set: function (t) { var e = this.hls, r = e.maxAutoLevel, i = e.minAutoLevel, n = Math.min(Math.max(t, i), r); this._nextAutoLevel !== n && (this.nextAutoLevelKey = "", this._nextAutoLevel = n) } }]), t }(), qr = function () { function t() { this._boundTick = void 0, this._tickTimer = null, this._tickInterval = null, this._tickCallCount = 0, this._boundTick = this.tick.bind(this) } var e = t.prototype; return e.destroy = function () { this.onHandlerDestroying(), this.onHandlerDestroyed() }, e.onHandlerDestroying = function () { this.clearNextTick(), this.clearInterval() }, e.onHandlerDestroyed = function () { }, e.hasInterval = function () { return !!this._tickInterval }, e.hasNextTick = function () { return !!this._tickTimer }, e.setInterval = function (t) { return !this._tickInterval && (this._tickCallCount = 0, this._tickInterval = self.setInterval(this._boundTick, t), !0) }, e.clearInterval = function () { return !!this._tickInterval && (self.clearInterval(this._tickInterval), this._tickInterval = null, !0) }, e.clearNextTick = function () { return !!this._tickTimer && (self.clearTimeout(this._tickTimer), this._tickTimer = null, !0) }, e.tick = function () { this._tickCallCount++, 1 === this._tickCallCount && (this.doTick(), this._tickCallCount > 1 && this.tickImmediate(), this._tickCallCount = 0) }, e.tickImmediate = function () { this.clearNextTick(), this._tickTimer = self.setTimeout(this._boundTick, 0) }, e.doTick = function () { }, t }(), Xr = "NOT_LOADED", zr = "APPENDING", Qr = "PARTIAL", Jr = "OK", $r = function () { function t(t) { this.activePartLists = Object.create(null), this.endListFragments = Object.create(null), this.fragments = Object.create(null), this.timeRanges = Object.create(null), this.bufferPadding = .2, this.hls = void 0, this.hasGaps = !1, this.hls = t, this._registerListeners() } var e = t.prototype; return e._registerListeners = function () { var t = this.hls; t.on(S.BUFFER_APPENDED, this.onBufferAppended, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this) }, e._unregisterListeners = function () { var t = this.hls; t.off(S.BUFFER_APPENDED, this.onBufferAppended, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this) }, e.destroy = function () { this._unregisterListeners(), this.fragments = this.activePartLists = this.endListFragments = this.timeRanges = null }, e.getAppendedFrag = function (t, e) { var r = this.activePartLists[e]; if (r) for (var i = r.length; i--;) { var n = r[i]; if (!n) break; var a = n.end; if (n.start <= t && null !== a && t <= a) return n } return this.getBufferedFrag(t, e) }, e.getBufferedFrag = function (t, e) { for (var r = this.fragments, i = Object.keys(r), n = i.length; n--;) { var a = r[i[n]]; if ((null == a ? void 0 : a.body.type) === e && a.buffered) { var s = a.body; if (s.start <= t && t <= s.end) return s } } return null }, e.detectEvictedFragments = function (t, e, r, i) { var n = this; this.timeRanges && (this.timeRanges[t] = e); var a = (null == i ? void 0 : i.fragment.sn) || -1; Object.keys(this.fragments).forEach((function (i) { var s = n.fragments[i]; if (s && !(a >= s.body.sn)) if (s.buffered || s.loaded) { var o = s.range[t]; o && o.time.some((function (t) { var r = !n.isTimeBuffered(t.startPTS, t.endPTS, e); return r && n.removeFragment(s.body), r })) } else s.body.type === r && n.removeFragment(s.body) })) }, e.detectPartialFragments = function (t) { var e = this, r = this.timeRanges, i = t.frag, n = t.part; if (r && "initSegment" !== i.sn) { var a = ti(i), s = this.fragments[a]; if (!(!s || s.buffered && i.gap)) { var o = !i.relurl; Object.keys(r).forEach((function (t) { var a = i.elementaryStreams[t]; if (a) { var l = r[t], u = o || !0 === a.partial; s.range[t] = e.getBufferedTimes(i, n, u, l) } })), s.loaded = null, Object.keys(s.range).length ? (s.buffered = !0, (s.body.endList = i.endList || s.body.endList) && (this.endListFragments[s.body.type] = s), Zr(s) || this.removeParts(i.sn - 1, i.type)) : this.removeFragment(s.body) } } }, e.removeParts = function (t, e) { var r = this.activePartLists[e]; r && (this.activePartLists[e] = r.filter((function (e) { return e.fragment.sn >= t }))) }, e.fragBuffered = function (t, e) { var r = ti(t), i = this.fragments[r]; !i && e && (i = this.fragments[r] = { body: t, appendedPTS: null, loaded: null, buffered: !1, range: Object.create(null) }, t.gap && (this.hasGaps = !0)), i && (i.loaded = null, i.buffered = !0) }, e.getBufferedTimes = function (t, e, r, i) { for (var n = { time: [], partial: r }, a = t.start, s = t.end, o = t.minEndPTS || s, l = t.maxStartPTS || a, u = 0; u < i.length; u++) { var h = i.start(u) - this.bufferPadding, d = i.end(u) + this.bufferPadding; if (l >= h && o <= d) { n.time.push({ startPTS: Math.max(a, i.start(u)), endPTS: Math.min(s, i.end(u)) }); break } if (a < d && s > h) { var c = Math.max(a, i.start(u)), f = Math.min(s, i.end(u)); f > c && (n.partial = !0, n.time.push({ startPTS: c, endPTS: f })) } else if (s <= h) break } return n }, e.getPartialFragment = function (t) { var e, r, i, n = null, a = 0, s = this.bufferPadding, o = this.fragments; return Object.keys(o).forEach((function (l) { var u = o[l]; u && Zr(u) && (r = u.body.start - s, i = u.body.end + s, t >= r && t <= i && (e = Math.min(t - r, i - t), a <= e && (n = u.body, a = e))) })), n }, e.isEndListAppended = function (t) { var e = this.endListFragments[t]; return void 0 !== e && (e.buffered || Zr(e)) }, e.getState = function (t) { var e = ti(t), r = this.fragments[e]; return r ? r.buffered ? Zr(r) ? Qr : Jr : zr : Xr }, e.isTimeBuffered = function (t, e, r) { for (var i, n, a = 0; a < r.length; a++) { if (i = r.start(a) - this.bufferPadding, n = r.end(a) + this.bufferPadding, t >= i && e <= n) return !0; if (e <= i) return !1 } return !1 }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.part; if ("initSegment" !== r.sn && !r.bitrateTest) { var n = i ? null : e, a = ti(r); this.fragments[a] = { body: r, appendedPTS: null, loaded: n, buffered: !1, range: Object.create(null) } } }, e.onBufferAppended = function (t, e) { var r = this, i = e.frag, n = e.part, a = e.timeRanges; if ("initSegment" !== i.sn) { var s = i.type; if (n) { var o = this.activePartLists[s]; o || (this.activePartLists[s] = o = []), o.push(n) } this.timeRanges = a, Object.keys(a).forEach((function (t) { var e = a[t]; r.detectEvictedFragments(t, e, s, n) })) } }, e.onFragBuffered = function (t, e) { this.detectPartialFragments(e) }, e.hasFragment = function (t) { var e = ti(t); return !!this.fragments[e] }, e.hasParts = function (t) { var e; return !(null == (e = this.activePartLists[t]) || !e.length) }, e.removeFragmentsInRange = function (t, e, r, i, n) { var a = this; i && !this.hasGaps || Object.keys(this.fragments).forEach((function (s) { var o = a.fragments[s]; if (o) { var l = o.body; l.type !== r || i && !l.gap || l.start < e && l.end > t && (o.buffered || n) && a.removeFragment(l) } })) }, e.removeFragment = function (t) { var e = ti(t); t.stats.loaded = 0, t.clearElementaryStreamInfo(); var r = this.activePartLists[t.type]; if (r) { var i = t.sn; this.activePartLists[t.type] = r.filter((function (t) { return t.fragment.sn !== i })) } delete this.fragments[e], t.endList && delete this.endListFragments[t.type] }, e.removeAllFragments = function () { this.fragments = Object.create(null), this.endListFragments = Object.create(null), this.activePartLists = Object.create(null), this.hasGaps = !1 }, t }(); function Zr(t) { var e, r, i; return t.buffered && (t.body.gap || (null == (e = t.range.video) ? void 0 : e.partial) || (null == (r = t.range.audio) ? void 0 : r.partial) || (null == (i = t.range.audiovideo) ? void 0 : i.partial)) } function ti(t) { return t.type + "_" + t.level + "_" + t.sn } var ei = { length: 0, start: function () { return 0 }, end: function () { return 0 } }, ri = function () { function t() { } return t.isBuffered = function (e, r) { try { if (e) for (var i = t.getBuffered(e), n = 0; n < i.length; n++)if (r >= i.start(n) && r <= i.end(n)) return !0 } catch (t) { } return !1 }, t.bufferInfo = function (e, r, i) { try { if (e) { var n, a = t.getBuffered(e), s = []; for (n = 0; n < a.length; n++)s.push({ start: a.start(n), end: a.end(n) }); return this.bufferedInfo(s, r, i) } } catch (t) { } return { len: 0, start: r, end: r, nextStart: void 0 } }, t.bufferedInfo = function (t, e, r) { e = Math.max(0, e), t.sort((function (t, e) { var r = t.start - e.start; return r || e.end - t.end })); var i = []; if (r) for (var n = 0; n < t.length; n++) { var a = i.length; if (a) { var s = i[a - 1].end; t[n].start - s < r ? t[n].end > s && (i[a - 1].end = t[n].end) : i.push(t[n]) } else i.push(t[n]) } else i = t; for (var o, l = 0, u = e, h = e, d = 0; d < i.length; d++) { var c = i[d].start, f = i[d].end; if (e + r >= c && e < f) u = c, l = (h = f) - e; else if (e + r < c) { o = c; break } } return { len: l, start: u || 0, end: h || 0, nextStart: o } }, t.getBuffered = function (t) { try { return t.buffered } catch (t) { return w.log("failed to get media.buffered", t), ei } }, t }(), ii = function (t, e, r, i, n, a) { void 0 === i && (i = 0), void 0 === n && (n = -1), void 0 === a && (a = !1), this.level = void 0, this.sn = void 0, this.part = void 0, this.id = void 0, this.size = void 0, this.partial = void 0, this.transmuxing = { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, this.buffering = { audio: { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, video: { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, audiovideo: { start: 0, executeStart: 0, executeEnd: 0, end: 0 } }, this.level = t, this.sn = e, this.id = r, this.size = i, this.part = n, this.partial = a }; function ni(t, e) { for (var r = 0, i = t.length; r < i; r++) { var n; if ((null == (n = t[r]) ? void 0 : n.cc) === e) return t[r] } return null } function ai(t, e) { if (t) { var r = t.start + e; t.start = t.startPTS = r, t.endPTS = r + t.duration } } function si(t, e) { for (var r = e.fragments, i = 0, n = r.length; i < n; i++)ai(r[i], t); e.fragmentHint && ai(e.fragmentHint, t), e.alignedSliding = !0 } function oi(t, e, r) { e && (function (t, e, r) { if (function (t, e, r) { return !(!e || !(r.endCC > r.startCC || t && t.cc < r.startCC)) }(t, r, e)) { var i = function (t, e) { var r = t.fragments, i = e.fragments; if (i.length && r.length) { var n = ni(r, i[0].cc); if (n && (!n || n.startPTS)) return n; w.log("No frag in previous level to align on") } else w.log("No fragments to align") }(r, e); i && y(i.start) && (w.log("Adjusting PTS using last level due to CC increase within current level " + e.url), si(i.start, e)) } }(t, r, e), !r.alignedSliding && e && li(r, e), r.alignedSliding || !e || r.skippedSegments || cr(e, r)) } function li(t, e) { if (t.hasProgramDateTime && e.hasProgramDateTime) { var r = t.fragments, i = e.fragments; if (r.length && i.length) { var n, a, s = Math.min(e.endCC, t.endCC); e.startCC < s && t.startCC < s && (n = ni(i, s), a = ni(r, s)), n && a || (a = ni(r, (n = i[Math.floor(i.length / 2)]).cc) || r[Math.floor(r.length / 2)]); var o = n.programDateTime, l = a.programDateTime; o && l && si((l - o) / 1e3 - (a.start - n.start), t) } } } var ui = Math.pow(2, 17), hi = function () { function t(t) { this.config = void 0, this.loader = null, this.partLoadTimeout = -1, this.config = t } var e = t.prototype; return e.destroy = function () { this.loader && (this.loader.destroy(), this.loader = null) }, e.abort = function () { this.loader && this.loader.abort() }, e.load = function (t, e) { var r = this, n = t.url; if (!n) return Promise.reject(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, error: new Error("Fragment does not have a " + (n ? "part list" : "url")), networkDetails: null })); this.abort(); var a = this.config, s = a.fLoader, o = a.loader; return new Promise((function (l, u) { if (r.loader && r.loader.destroy(), t.gap) { if (t.tagList.some((function (t) { return "GAP" === t[0] }))) return void u(ci(t)); t.gap = !1 } var h = r.loader = t.loader = s ? new s(a) : new o(a), d = di(t), c = Tr(a.fragLoadPolicy.default), f = { loadPolicy: c, timeout: c.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: "initSegment" === t.sn ? 1 / 0 : ui }; t.stats = h.stats, h.load(d, f, { onSuccess: function (e, i, n, a) { r.resetLoader(t, h); var s = e.data; n.resetIV && t.decryptdata && (t.decryptdata.iv = new Uint8Array(s.slice(0, 16)), s = s.slice(16)), l({ frag: t, part: null, payload: s, networkDetails: a }) }, onError: function (e, a, s, o) { r.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, response: i({ url: n, data: void 0 }, e), error: new Error("HTTP Error " + e.code + " " + e.text), networkDetails: s, stats: o })) }, onAbort: function (e, i, n) { r.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.INTERNAL_ABORTED, fatal: !1, frag: t, error: new Error("Aborted"), networkDetails: n, stats: e })) }, onTimeout: function (e, i, n) { r.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_TIMEOUT, fatal: !1, frag: t, error: new Error("Timeout after " + f.timeout + "ms"), networkDetails: n, stats: e })) }, onProgress: function (r, i, n, a) { e && e({ frag: t, part: null, payload: n, networkDetails: a }) } }) })) }, e.loadPart = function (t, e, r) { var n = this; this.abort(); var a = this.config, s = a.fLoader, o = a.loader; return new Promise((function (l, u) { if (n.loader && n.loader.destroy(), t.gap || e.gap) u(ci(t, e)); else { var h = n.loader = t.loader = s ? new s(a) : new o(a), d = di(t, e), c = Tr(a.fragLoadPolicy.default), f = { loadPolicy: c, timeout: c.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: ui }; e.stats = h.stats, h.load(d, f, { onSuccess: function (i, a, s, o) { n.resetLoader(t, h), n.updateStatsFromPart(t, e); var u = { frag: t, part: e, payload: i.data, networkDetails: o }; r(u), l(u) }, onError: function (r, a, s, o) { n.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, part: e, response: i({ url: d.url, data: void 0 }, r), error: new Error("HTTP Error " + r.code + " " + r.text), networkDetails: s, stats: o })) }, onAbort: function (r, i, a) { t.stats.aborted = e.stats.aborted, n.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.INTERNAL_ABORTED, fatal: !1, frag: t, part: e, error: new Error("Aborted"), networkDetails: a, stats: r })) }, onTimeout: function (r, i, a) { n.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_TIMEOUT, fatal: !1, frag: t, part: e, error: new Error("Timeout after " + f.timeout + "ms"), networkDetails: a, stats: r })) } }) } })) }, e.updateStatsFromPart = function (t, e) { var r = t.stats, i = e.stats, n = i.total; if (r.loaded += i.loaded, n) { var a = Math.round(t.duration / e.duration), s = Math.min(Math.round(r.loaded / n), a), o = (a - s) * Math.round(r.loaded / s); r.total = r.loaded + o } else r.total = Math.max(r.loaded, r.total); var l = r.loading, u = i.loading; l.start ? l.first += u.first - u.start : (l.start = u.start, l.first = u.first), l.end = u.end }, e.resetLoader = function (t, e) { t.loader = null, this.loader === e && (self.clearTimeout(this.partLoadTimeout), this.loader = null), e.destroy() }, t }(); function di(t, e) { void 0 === e && (e = null); var r = e || t, i = { frag: t, part: e, responseType: "arraybuffer", url: r.url, headers: {}, rangeStart: 0, rangeEnd: 0 }, n = r.byteRangeStartOffset, a = r.byteRangeEndOffset; if (y(n) && y(a)) { var s, o = n, l = a; if ("initSegment" === t.sn && "AES-128" === (null == (s = t.decryptdata) ? void 0 : s.method)) { var u = a - n; u % 16 && (l = a + (16 - u % 16)), 0 !== n && (i.resetIV = !0, o = n - 16) } i.rangeStart = o, i.rangeEnd = l } return i } function ci(t, e) { var r = new Error("GAP " + (t.gap ? "tag" : "attribute") + " found"), i = { type: L.MEDIA_ERROR, details: A.FRAG_GAP, fatal: !1, frag: t, error: r, networkDetails: null }; return e && (i.part = e), (e || t).stats.aborted = !0, new fi(i) } var fi = function (t) { function e(e) { var r; return (r = t.call(this, e.error.message) || this).data = void 0, r.data = e, r } return l(e, t), e }(c(Error)), gi = function () { function t(t, e) { this.subtle = void 0, this.aesIV = void 0, this.subtle = t, this.aesIV = e } return t.prototype.decrypt = function (t, e) { return this.subtle.decrypt({ name: "AES-CBC", iv: this.aesIV }, e, t) }, t }(), vi = function () { function t(t, e) { this.subtle = void 0, this.key = void 0, this.subtle = t, this.key = e } return t.prototype.expandKey = function () { return this.subtle.importKey("raw", this.key, { name: "AES-CBC" }, !1, ["encrypt", "decrypt"]) }, t }(), mi = function () { function t() { this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54], this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.sBox = new Uint32Array(256), this.invSBox = new Uint32Array(256), this.key = new Uint32Array(0), this.ksRows = 0, this.keySize = 0, this.keySchedule = void 0, this.invKeySchedule = void 0, this.initTable() } var e = t.prototype; return e.uint8ArrayToUint32Array_ = function (t) { for (var e = new DataView(t), r = new Uint32Array(4), i = 0; i < 4; i++)r[i] = e.getUint32(4 * i); return r }, e.initTable = function () { var t = this.sBox, e = this.invSBox, r = this.subMix, i = r[0], n = r[1], a = r[2], s = r[3], o = this.invSubMix, l = o[0], u = o[1], h = o[2], d = o[3], c = new Uint32Array(256), f = 0, g = 0, v = 0; for (v = 0; v < 256; v++)c[v] = v < 128 ? v << 1 : v << 1 ^ 283; for (v = 0; v < 256; v++) { var m = g ^ g << 1 ^ g << 2 ^ g << 3 ^ g << 4; m = m >>> 8 ^ 255 & m ^ 99, t[f] = m, e[m] = f; var p = c[f], y = c[p], E = c[y], T = 257 * c[m] ^ 16843008 * m; i[f] = T << 24 | T >>> 8, n[f] = T << 16 | T >>> 16, a[f] = T << 8 | T >>> 24, s[f] = T, T = 16843009 * E ^ 65537 * y ^ 257 * p ^ 16843008 * f, l[m] = T << 24 | T >>> 8, u[m] = T << 16 | T >>> 16, h[m] = T << 8 | T >>> 24, d[m] = T, f ? (f = p ^ c[c[c[E ^ p]]], g ^= c[c[g]]) : f = g = 1 } }, e.expandKey = function (t) { for (var e = this.uint8ArrayToUint32Array_(t), r = !0, i = 0; i < e.length && r;)r = e[i] === this.key[i], i++; if (!r) { this.key = e; var n = this.keySize = e.length; if (4 !== n && 6 !== n && 8 !== n) throw new Error("Invalid aes key size=" + n); var a, s, o, l, u = this.ksRows = 4 * (n + 6 + 1), h = this.keySchedule = new Uint32Array(u), d = this.invKeySchedule = new Uint32Array(u), c = this.sBox, f = this.rcon, g = this.invSubMix, v = g[0], m = g[1], p = g[2], y = g[3]; for (a = 0; a < u; a++)a < n ? o = h[a] = e[a] : (l = o, a % n == 0 ? (l = c[(l = l << 8 | l >>> 24) >>> 24] << 24 | c[l >>> 16 & 255] << 16 | c[l >>> 8 & 255] << 8 | c[255 & l], l ^= f[a / n | 0] << 24) : n > 6 && a % n == 4 && (l = c[l >>> 24] << 24 | c[l >>> 16 & 255] << 16 | c[l >>> 8 & 255] << 8 | c[255 & l]), h[a] = o = (h[a - n] ^ l) >>> 0); for (s = 0; s < u; s++)a = u - s, l = 3 & s ? h[a] : h[a - 4], d[s] = s < 4 || a <= 4 ? l : v[c[l >>> 24]] ^ m[c[l >>> 16 & 255]] ^ p[c[l >>> 8 & 255]] ^ y[c[255 & l]], d[s] = d[s] >>> 0 } }, e.networkToHostOrderSwap = function (t) { return t << 24 | (65280 & t) << 8 | (16711680 & t) >> 8 | t >>> 24 }, e.decrypt = function (t, e, r) { for (var i, n, a, s, o, l, u, h, d, c, f, g, v, m, p = this.keySize + 6, y = this.invKeySchedule, E = this.invSBox, T = this.invSubMix, S = T[0], L = T[1], A = T[2], R = T[3], b = this.uint8ArrayToUint32Array_(r), k = b[0], D = b[1], I = b[2], w = b[3], C = new Int32Array(t), _ = new Int32Array(C.length), x = this.networkToHostOrderSwap; e < C.length;) { for (d = x(C[e]), c = x(C[e + 1]), f = x(C[e + 2]), g = x(C[e + 3]), o = d ^ y[0], l = g ^ y[1], u = f ^ y[2], h = c ^ y[3], v = 4, m = 1; m < p; m++)i = S[o >>> 24] ^ L[l >> 16 & 255] ^ A[u >> 8 & 255] ^ R[255 & h] ^ y[v], n = S[l >>> 24] ^ L[u >> 16 & 255] ^ A[h >> 8 & 255] ^ R[255 & o] ^ y[v + 1], a = S[u >>> 24] ^ L[h >> 16 & 255] ^ A[o >> 8 & 255] ^ R[255 & l] ^ y[v + 2], s = S[h >>> 24] ^ L[o >> 16 & 255] ^ A[l >> 8 & 255] ^ R[255 & u] ^ y[v + 3], o = i, l = n, u = a, h = s, v += 4; i = E[o >>> 24] << 24 ^ E[l >> 16 & 255] << 16 ^ E[u >> 8 & 255] << 8 ^ E[255 & h] ^ y[v], n = E[l >>> 24] << 24 ^ E[u >> 16 & 255] << 16 ^ E[h >> 8 & 255] << 8 ^ E[255 & o] ^ y[v + 1], a = E[u >>> 24] << 24 ^ E[h >> 16 & 255] << 16 ^ E[o >> 8 & 255] << 8 ^ E[255 & l] ^ y[v + 2], s = E[h >>> 24] << 24 ^ E[o >> 16 & 255] << 16 ^ E[l >> 8 & 255] << 8 ^ E[255 & u] ^ y[v + 3], _[e] = x(i ^ k), _[e + 1] = x(s ^ D), _[e + 2] = x(a ^ I), _[e + 3] = x(n ^ w), k = d, D = c, I = f, w = g, e += 4 } return _.buffer }, t }(), pi = function () { function t(t, e) { var r = (void 0 === e ? {} : e).removePKCS7Padding, i = void 0 === r || r; if (this.logEnabled = !0, this.removePKCS7Padding = void 0, this.subtle = null, this.softwareDecrypter = null, this.key = null, this.fastAesKey = null, this.remainderData = null, this.currentIV = null, this.currentResult = null, this.useSoftware = void 0, this.useSoftware = t.enableSoftwareAES, this.removePKCS7Padding = i, i) try { var n = self.crypto; n && (this.subtle = n.subtle || n.webkitSubtle) } catch (t) { } this.useSoftware = !this.subtle } var e = t.prototype; return e.destroy = function () { this.subtle = null, this.softwareDecrypter = null, this.key = null, this.fastAesKey = null, this.remainderData = null, this.currentIV = null, this.currentResult = null }, e.isSync = function () { return this.useSoftware }, e.flush = function () { var t = this.currentResult, e = this.remainderData; if (!t || e) return this.reset(), null; var r, i, n, a = new Uint8Array(t); return this.reset(), this.removePKCS7Padding ? (i = (r = a).byteLength, (n = i && new DataView(r.buffer).getUint8(i - 1)) ? lt(r, 0, i - n) : r) : a }, e.reset = function () { this.currentResult = null, this.currentIV = null, this.remainderData = null, this.softwareDecrypter && (this.softwareDecrypter = null) }, e.decrypt = function (t, e, r) { var i = this; return this.useSoftware ? new Promise((function (n, a) { i.softwareDecrypt(new Uint8Array(t), e, r); var s = i.flush(); s ? n(s.buffer) : a(new Error("[softwareDecrypt] Failed to decrypt data")) })) : this.webCryptoDecrypt(new Uint8Array(t), e, r) }, e.softwareDecrypt = function (t, e, r) { var i = this.currentIV, n = this.currentResult, a = this.remainderData; this.logOnce("JS AES decrypt"), a && (t = Wt(a, t), this.remainderData = null); var s = this.getValidChunk(t); if (!s.length) return null; i && (r = i); var o = this.softwareDecrypter; o || (o = this.softwareDecrypter = new mi), o.expandKey(e); var l = n; return this.currentResult = o.decrypt(s.buffer, 0, r), this.currentIV = lt(s, -16).buffer, l || null }, e.webCryptoDecrypt = function (t, e, r) { var i = this; if (this.key !== e || !this.fastAesKey) { if (!this.subtle) return Promise.resolve(this.onWebCryptoError(t, e, r)); this.key = e, this.fastAesKey = new vi(this.subtle, e) } return this.fastAesKey.expandKey().then((function (e) { return i.subtle ? (i.logOnce("WebCrypto AES decrypt"), new gi(i.subtle, new Uint8Array(r)).decrypt(t.buffer, e)) : Promise.reject(new Error("web crypto not initialized")) })).catch((function (n) { return w.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, " + n.name + ": " + n.message), i.onWebCryptoError(t, e, r) })) }, e.onWebCryptoError = function (t, e, r) { this.useSoftware = !0, this.logEnabled = !0, this.softwareDecrypt(t, e, r); var i = this.flush(); if (i) return i.buffer; throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data") }, e.getValidChunk = function (t) { var e = t, r = t.length - t.length % 16; return r !== t.length && (e = lt(t, 0, r), this.remainderData = lt(t, r)), e }, e.logOnce = function (t) { this.logEnabled && (w.log("[decrypter]: " + t), this.logEnabled = !1) }, t }(), yi = function (t) { for (var e = "", r = t.length, i = 0; i < r; i++)e += "[" + t.start(i).toFixed(3) + "-" + t.end(i).toFixed(3) + "]"; return e }, Ei = "STOPPED", Ti = "IDLE", Si = "KEY_LOADING", Li = "FRAG_LOADING", Ai = "FRAG_LOADING_WAITING_RETRY", Ri = "WAITING_TRACK", bi = "PARSING", ki = "PARSED", Di = "ENDED", Ii = "ERROR", wi = "WAITING_INIT_PTS", Ci = "WAITING_LEVEL", _i = function (t) { function e(e, r, i, n, a) { var s; return (s = t.call(this) || this).hls = void 0, s.fragPrevious = null, s.fragCurrent = null, s.fragmentTracker = void 0, s.transmuxer = null, s._state = Ei, s.playlistType = void 0, s.media = null, s.mediaBuffer = null, s.config = void 0, s.bitrateTest = !1, s.lastCurrentTime = 0, s.nextLoadPosition = 0, s.startPosition = 0, s.startTimeOffset = null, s.loadedmetadata = !1, s.retryDate = 0, s.levels = null, s.fragmentLoader = void 0, s.keyLoader = void 0, s.levelLastLoaded = null, s.startFragRequested = !1, s.decrypter = void 0, s.initPTS = [], s.onvseeking = null, s.onvended = null, s.logPrefix = "", s.log = void 0, s.warn = void 0, s.playlistType = a, s.logPrefix = n, s.log = w.log.bind(w, n + ":"), s.warn = w.warn.bind(w, n + ":"), s.hls = e, s.fragmentLoader = new hi(e.config), s.keyLoader = i, s.fragmentTracker = r, s.config = e.config, s.decrypter = new pi(e.config), e.on(S.MANIFEST_LOADED, s.onManifestLoaded, function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(s)), s } l(e, t); var r = e.prototype; return r.doTick = function () { this.onTickEnd() }, r.onTickEnd = function () { }, r.startLoad = function (t) { }, r.stopLoad = function () { this.fragmentLoader.abort(), this.keyLoader.abort(this.playlistType); var t = this.fragCurrent; null != t && t.loader && (t.abortRequests(), this.fragmentTracker.removeFragment(t)), this.resetTransmuxer(), this.fragCurrent = null, this.fragPrevious = null, this.clearInterval(), this.clearNextTick(), this.state = Ei }, r._streamEnded = function (t, e) { if (e.live || t.nextStart || !t.end || !this.media) return !1; var r = e.partList; if (null != r && r.length) { var i = r[r.length - 1]; return ri.isBuffered(this.media, i.start + i.duration / 2) } var n = e.fragments[e.fragments.length - 1].type; return this.fragmentTracker.isEndListAppended(n) }, r.getLevelDetails = function () { var t; if (this.levels && null !== this.levelLastLoaded) return null == (t = this.levelLastLoaded) ? void 0 : t.details }, r.onMediaAttached = function (t, e) { var r = this.media = this.mediaBuffer = e.media; this.onvseeking = this.onMediaSeeking.bind(this), this.onvended = this.onMediaEnded.bind(this), r.addEventListener("seeking", this.onvseeking), r.addEventListener("ended", this.onvended); var i = this.config; this.levels && i.autoStartLoad && this.state === Ei && this.startLoad(i.startPosition) }, r.onMediaDetaching = function () { var t = this.media; null != t && t.ended && (this.log("MSE detaching and video ended, reset startPosition"), this.startPosition = this.lastCurrentTime = 0), t && this.onvseeking && this.onvended && (t.removeEventListener("seeking", this.onvseeking), t.removeEventListener("ended", this.onvended), this.onvseeking = this.onvended = null), this.keyLoader && this.keyLoader.detach(), this.media = this.mediaBuffer = null, this.loadedmetadata = !1, this.fragmentTracker.removeAllFragments(), this.stopLoad() }, r.onMediaSeeking = function () { var t = this.config, e = this.fragCurrent, r = this.media, i = this.mediaBuffer, n = this.state, a = r ? r.currentTime : 0, s = ri.bufferInfo(i || r, a, t.maxBufferHole); if (this.log("media seeking to " + (y(a) ? a.toFixed(3) : a) + ", state: " + n), this.state === Di) this.resetLoadingState(); else if (e) { var o = t.maxFragLookUpTolerance, l = e.start - o, u = e.start + e.duration + o; if (!s.len || u < s.start || l > s.end) { var h = a > u; (a < l || h) && (h && e.loader && (this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"), e.abortRequests(), this.resetLoadingState()), this.fragPrevious = null) } } r && (this.fragmentTracker.removeFragmentsInRange(a, 1 / 0, this.playlistType, !0), this.lastCurrentTime = a), this.loadedmetadata || s.len || (this.nextLoadPosition = this.startPosition = a), this.tickImmediate() }, r.onMediaEnded = function () { this.startPosition = this.lastCurrentTime = 0 }, r.onManifestLoaded = function (t, e) { this.startTimeOffset = e.startTimeOffset, this.initPTS = [] }, r.onHandlerDestroying = function () { this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), this.stopLoad(), t.prototype.onHandlerDestroying.call(this), this.hls = null }, r.onHandlerDestroyed = function () { this.state = Ei, this.fragmentLoader && this.fragmentLoader.destroy(), this.keyLoader && this.keyLoader.destroy(), this.decrypter && this.decrypter.destroy(), this.hls = this.log = this.warn = this.decrypter = this.keyLoader = this.fragmentLoader = this.fragmentTracker = null, t.prototype.onHandlerDestroyed.call(this) }, r.loadFragment = function (t, e, r) { this._loadFragForPlayback(t, e, r) }, r._loadFragForPlayback = function (t, e, r) { var i = this; this._doFragLoad(t, e, r, (function (e) { if (i.fragContextChanged(t)) return i.warn("Fragment " + t.sn + (e.part ? " p: " + e.part.index : "") + " of level " + t.level + " was dropped during download."), void i.fragmentTracker.removeFragment(t); t.stats.chunkCount++, i._handleFragmentLoadProgress(e) })).then((function (e) { if (e) { var r = i.state; i.fragContextChanged(t) ? (r === Li || !i.fragCurrent && r === bi) && (i.fragmentTracker.removeFragment(t), i.state = Ti) : ("payload" in e && (i.log("Loaded fragment " + t.sn + " of level " + t.level), i.hls.trigger(S.FRAG_LOADED, e)), i._handleFragmentLoadComplete(e)) } })).catch((function (e) { i.state !== Ei && i.state !== Ii && (i.warn("Frag error: " + ((null == e ? void 0 : e.message) || e)), i.resetFragmentLoading(t)) })) }, r.clearTrackerIfNeeded = function (t) { var e, r = this.fragmentTracker; if (r.getState(t) === zr) { var i = t.type, n = this.getFwdBufferInfo(this.mediaBuffer, i), a = Math.max(t.duration, n ? n.len : this.config.maxBufferLength), s = this.backtrackFragment; (1 == (s ? t.sn - s.sn : 0) || this.reduceMaxBufferLength(a, t.duration)) && r.removeFragment(t) } else 0 === (null == (e = this.mediaBuffer) ? void 0 : e.buffered.length) ? r.removeAllFragments() : r.hasParts(t.type) && (r.detectPartialFragments({ frag: t, part: null, stats: t.stats, id: t.type }), r.getState(t) === Qr && r.removeFragment(t)) }, r.checkLiveUpdate = function (t) { if (t.updated && !t.live) { var e = t.fragments[t.fragments.length - 1]; this.fragmentTracker.detectPartialFragments({ frag: e, part: null, stats: e.stats, id: e.type }) } t.fragments[0] || (t.deltaUpdateFailed = !0) }, r.flushMainBuffer = function (t, e, r) { if (void 0 === r && (r = null), t - e) { var i = { startOffset: t, endOffset: e, type: r }; this.hls.trigger(S.BUFFER_FLUSHING, i) } }, r._loadInitSegment = function (t, e) { var r = this; this._doFragLoad(t, e).then((function (e) { if (!e || r.fragContextChanged(t) || !r.levels) throw new Error("init load aborted"); return e })).then((function (e) { var i = r.hls, n = e.payload, a = t.decryptdata; if (n && n.byteLength > 0 && null != a && a.key && a.iv && "AES-128" === a.method) { var s = self.performance.now(); return r.decrypter.decrypt(new Uint8Array(n), a.key.buffer, a.iv.buffer).catch((function (e) { throw i.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_DECRYPT_ERROR, fatal: !1, error: e, reason: e.message, frag: t }), e })).then((function (n) { var a = self.performance.now(); return i.trigger(S.FRAG_DECRYPTED, { frag: t, payload: n, stats: { tstart: s, tdecrypt: a } }), e.payload = n, r.completeInitSegmentLoad(e) })) } return r.completeInitSegmentLoad(e) })).catch((function (e) { r.state !== Ei && r.state !== Ii && (r.warn(e), r.resetFragmentLoading(t)) })) }, r.completeInitSegmentLoad = function (t) { if (!this.levels) throw new Error("init load aborted, missing levels"); var e = t.frag.stats; this.state = Ti, t.frag.data = new Uint8Array(t.payload), e.parsing.start = e.buffering.start = self.performance.now(), e.parsing.end = e.buffering.end = self.performance.now(), this.tick() }, r.fragContextChanged = function (t) { var e = this.fragCurrent; return !t || !e || t.sn !== e.sn || t.level !== e.level }, r.fragBufferedComplete = function (t, e) { var r, i, n, a, s = this.mediaBuffer ? this.mediaBuffer : this.media; if (this.log("Buffered " + t.type + " sn: " + t.sn + (e ? " part: " + e.index : "") + " of " + (this.playlistType === Fe ? "level" : "track") + " " + t.level + " (frag:[" + (null != (r = t.startPTS) ? r : NaN).toFixed(3) + "-" + (null != (i = t.endPTS) ? i : NaN).toFixed(3) + "] > buffer:" + (s ? yi(ri.getBuffered(s)) : "(detached)") + ")"), "initSegment" !== t.sn) { var o; if (t.type !== Oe) { var l = t.elementaryStreams; if (!Object.keys(l).some((function (t) { return !!l[t] }))) return void (this.state = Ti) } var u = null == (o = this.levels) ? void 0 : o[t.level]; null != u && u.fragmentError && (this.log("Resetting level fragment error count of " + u.fragmentError + " on frag buffered"), u.fragmentError = 0) } this.state = Ti, s && (!this.loadedmetadata && t.type == Fe && s.buffered.length && (null == (n = this.fragCurrent) ? void 0 : n.sn) === (null == (a = this.fragPrevious) ? void 0 : a.sn) && (this.loadedmetadata = !0, this.seekToStartPos()), this.tick()) }, r.seekToStartPos = function () { }, r._handleFragmentLoadComplete = function (t) { var e = this.transmuxer; if (e) { var r = t.frag, i = t.part, n = t.partsLoaded, a = !n || 0 === n.length || n.some((function (t) { return !t })), s = new ii(r.level, r.sn, r.stats.chunkCount + 1, 0, i ? i.index : -1, !a); e.flush(s) } }, r._handleFragmentLoadProgress = function (t) { }, r._doFragLoad = function (t, e, r, i) { var n, a = this; void 0 === r && (r = null); var s = null == e ? void 0 : e.details; if (!this.levels || !s) throw new Error("frag load aborted, missing level" + (s ? "" : " detail") + "s"); var o = null; if (!t.encrypted || null != (n = t.decryptdata) && n.key ? !t.encrypted && s.encryptedFragments.length && this.keyLoader.loadClear(t, s.encryptedFragments) : (this.log("Loading key for " + t.sn + " of [" + s.startSN + "-" + s.endSN + "], " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + " " + t.level), this.state = Si, this.fragCurrent = t, o = this.keyLoader.load(t).then((function (t) { if (!a.fragContextChanged(t.frag)) return a.hls.trigger(S.KEY_LOADED, t), a.state === Si && (a.state = Ti), t })), this.hls.trigger(S.KEY_LOADING, { frag: t }), null === this.fragCurrent && (o = Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))), r = Math.max(t.start, r || 0), this.config.lowLatencyMode && "initSegment" !== t.sn) { var l = s.partList; if (l && i) { r > t.end && s.fragmentHint && (t = s.fragmentHint); var u = this.getNextPart(l, t, r); if (u > -1) { var h, d = l[u]; return this.log("Loading part sn: " + t.sn + " p: " + d.index + " cc: " + t.cc + " of playlist [" + s.startSN + "-" + s.endSN + "] parts [0-" + u + "-" + (l.length - 1) + "] " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + t.level + ", target: " + parseFloat(r.toFixed(3))), this.nextLoadPosition = d.start + d.duration, this.state = Li, h = o ? o.then((function (r) { return !r || a.fragContextChanged(r.frag) ? null : a.doFragPartsLoad(t, d, e, i) })).catch((function (t) { return a.handleFragLoadError(t) })) : this.doFragPartsLoad(t, d, e, i).catch((function (t) { return a.handleFragLoadError(t) })), this.hls.trigger(S.FRAG_LOADING, { frag: t, part: d, targetBufferTime: r }), null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")) : h } if (!t.url || this.loadedEndOfParts(l, r)) return Promise.resolve(null) } } this.log("Loading fragment " + t.sn + " cc: " + t.cc + " " + (s ? "of [" + s.startSN + "-" + s.endSN + "] " : "") + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + t.level + ", target: " + parseFloat(r.toFixed(3))), y(t.sn) && !this.bitrateTest && (this.nextLoadPosition = t.start + t.duration), this.state = Li; var c, f = this.config.progressive; return c = f && o ? o.then((function (e) { return !e || a.fragContextChanged(null == e ? void 0 : e.frag) ? null : a.fragmentLoader.load(t, i) })).catch((function (t) { return a.handleFragLoadError(t) })) : Promise.all([this.fragmentLoader.load(t, f ? i : void 0), o]).then((function (t) { var e = t[0]; return !f && e && i && i(e), e })).catch((function (t) { return a.handleFragLoadError(t) })), this.hls.trigger(S.FRAG_LOADING, { frag: t, targetBufferTime: r }), null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")) : c }, r.doFragPartsLoad = function (t, e, r, i) { var n = this; return new Promise((function (a, s) { var o, l = [], u = null == (o = r.details) ? void 0 : o.partList; !function e(o) { n.fragmentLoader.loadPart(t, o, i).then((function (i) { l[o.index] = i; var s = i.part; n.hls.trigger(S.FRAG_LOADED, i); var h = gr(r, t.sn, o.index + 1) || vr(u, t.sn, o.index + 1); if (!h) return a({ frag: t, part: s, partsLoaded: l }); e(h) })).catch(s) }(e) })) }, r.handleFragLoadError = function (t) { if ("data" in t) { var e = t.data; t.data && e.details === A.INTERNAL_ABORTED ? this.handleFragLoadAborted(e.frag, e.part) : this.hls.trigger(S.ERROR, e) } else this.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, err: t, error: t, fatal: !0 }); return null }, r._handleTransmuxerFlush = function (t) { var e = this.getCurrentContext(t); if (e && this.state === bi) { var r = e.frag, i = e.part, n = e.level, a = self.performance.now(); r.stats.parsing.end = a, i && (i.stats.parsing.end = a), this.updateLevelTiming(r, i, n, t.partial) } else this.fragCurrent || this.state === Ei || this.state === Ii || (this.state = Ti) }, r.getCurrentContext = function (t) { var e = this.levels, r = this.fragCurrent, i = t.level, n = t.sn, a = t.part; if (null == e || !e[i]) return this.warn("Levels object was unset while buffering fragment " + n + " of level " + i + ". The current chunk will not be buffered."), null; var s = e[i], o = a > -1 ? gr(s, n, a) : null, l = o ? o.fragment : function (t, e, r) { if (null == t || !t.details) return null; var i = t.details, n = i.fragments[e - i.startSN]; return n || ((n = i.fragmentHint) && n.sn === e ? n : e < i.startSN && r && r.sn === e ? r : null) }(s, n, r); return l ? (r && r !== l && (l.stats = r.stats), { frag: l, part: o, level: s }) : null }, r.bufferFragmentData = function (t, e, r, i, n) { var a; if (t && this.state === bi) { var s = t.data1, o = t.data2, l = s; if (s && o && (l = Wt(s, o)), null != (a = l) && a.length) { var u = { type: t.type, frag: e, part: r, chunkMeta: i, parent: e.type, data: l }; if (this.hls.trigger(S.BUFFER_APPENDING, u), t.dropped && t.independent && !r) { if (n) return; this.flushBufferGap(e) } } } }, r.flushBufferGap = function (t) { var e = this.media; if (e) if (ri.isBuffered(e, e.currentTime)) { var r = e.currentTime, i = ri.bufferInfo(e, r, 0), n = t.duration, a = Math.min(2 * this.config.maxFragLookUpTolerance, .25 * n), s = Math.max(Math.min(t.start - a, i.end - a), r + a); t.start - s > a && this.flushMainBuffer(s, t.start) } else this.flushMainBuffer(0, t.start) }, r.getFwdBufferInfo = function (t, e) { var r = this.getLoadPosition(); return y(r) ? this.getFwdBufferInfoAtPos(t, r, e) : null }, r.getFwdBufferInfoAtPos = function (t, e, r) { var i = this.config.maxBufferHole, n = ri.bufferInfo(t, e, i); if (0 === n.len && void 0 !== n.nextStart) { var a = this.fragmentTracker.getBufferedFrag(e, r); if (a && n.nextStart < a.end) return ri.bufferInfo(t, e, Math.max(n.nextStart, i)) } return n }, r.getMaxBufferLength = function (t) { var e, r = this.config; return e = t ? Math.max(8 * r.maxBufferSize / t, r.maxBufferLength) : r.maxBufferLength, Math.min(e, r.maxMaxBufferLength) }, r.reduceMaxBufferLength = function (t, e) { var r = this.config, i = Math.max(Math.min(t - e, r.maxBufferLength), e), n = Math.max(t - 3 * e, r.maxMaxBufferLength / 2, i); return n >= i && (r.maxMaxBufferLength = n, this.warn("Reduce max buffer length to " + n + "s"), !0) }, r.getAppendedFrag = function (t, e) { var r = this.fragmentTracker.getAppendedFrag(t, Fe); return r && "fragment" in r ? r.fragment : r }, r.getNextFragment = function (t, e) { var r = e.fragments, i = r.length; if (!i) return null; var n, a = this.config, s = r[0].start; if (e.live) { var o = a.initialLiveManifestSize; if (i < o) return this.warn("Not enough fragments to start playback (have: " + i + ", need: " + o + ")"), null; (!e.PTSKnown && !this.startFragRequested && -1 === this.startPosition || t < s) && (n = this.getInitialLiveFragment(e, r), this.startPosition = this.nextLoadPosition = n ? this.hls.liveSyncPosition || n.start : t) } else t <= s && (n = r[0]); if (!n) { var l = a.lowLatencyMode ? e.partEnd : e.fragmentEnd; n = this.getFragmentAtPosition(t, l, e) } return this.mapToInitFragWhenRequired(n) }, r.isLoopLoading = function (t, e) { var r = this.fragmentTracker.getState(t); return (r === Jr || r === Qr && !!t.gap) && this.nextLoadPosition > e }, r.getNextFragmentLoopLoading = function (t, e, r, i, n) { var a = t.gap, s = this.getNextFragment(this.nextLoadPosition, e); if (null === s) return s; if (t = s, a && t && !t.gap && r.nextStart) { var o = this.getFwdBufferInfoAtPos(this.mediaBuffer ? this.mediaBuffer : this.media, r.nextStart, i); if (null !== o && r.len + o.len >= n) return this.log('buffer full after gaps in "' + i + '" playlist starting at sn: ' + t.sn), null } return t }, r.mapToInitFragWhenRequired = function (t) { return null == t || !t.initSegment || null != t && t.initSegment.data || this.bitrateTest ? t : t.initSegment }, r.getNextPart = function (t, e, r) { for (var i = -1, n = !1, a = !0, s = 0, o = t.length; s < o; s++) { var l = t[s]; if (a = a && !l.independent, i > -1 && r < l.start) break; var u = l.loaded; u ? i = -1 : (n || l.independent || a) && l.fragment === e && (i = s), n = u } return i }, r.loadedEndOfParts = function (t, e) { var r = t[t.length - 1]; return r && e > r.start && r.loaded }, r.getInitialLiveFragment = function (t, e) { var r = this.fragPrevious, i = null; if (r) { if (t.hasProgramDateTime && (this.log("Live playlist, switching playlist, load frag with same PDT: " + r.programDateTime), i = function (t, e, r) { if (null === e || !Array.isArray(t) || !t.length || !y(e)) return null; if (e < (t[0].programDateTime || 0)) return null; if (e >= (t[t.length - 1].endProgramDateTime || 0)) return null; r = r || 0; for (var i = 0; i < t.length; ++i) { var n = t[i]; if (br(e, r, n)) return n } return null }(e, r.endProgramDateTime, this.config.maxFragLookUpTolerance)), !i) { var n = r.sn + 1; if (n >= t.startSN && n <= t.endSN) { var a = e[n - t.startSN]; r.cc === a.cc && (i = a, this.log("Live playlist, switching playlist, load frag with next SN: " + i.sn)) } i || (i = function (t, e) { return Lr(t, (function (t) { return t.cc < e ? 1 : t.cc > e ? -1 : 0 })) }(e, r.cc), i && this.log("Live playlist, switching playlist, load frag with same CC: " + i.sn)) } } else { var s = this.hls.liveSyncPosition; null !== s && (i = this.getFragmentAtPosition(s, this.bitrateTest ? t.fragmentEnd : t.edge, t)) } return i }, r.getFragmentAtPosition = function (t, e, r) { var i, n = this.config, a = this.fragPrevious, s = r.fragments, o = r.endSN, l = r.fragmentHint, u = n.maxFragLookUpTolerance, h = r.partList, d = !!(n.lowLatencyMode && null != h && h.length && l); if (d && l && !this.bitrateTest && (s = s.concat(l), o = l.sn), i = t < e ? Ar(a, s, t, t > e - u ? 0 : u) : s[s.length - 1]) { var c = i.sn - r.startSN, f = this.fragmentTracker.getState(i); if ((f === Jr || f === Qr && i.gap) && (a = i), a && i.sn === a.sn && (!d || h[0].fragment.sn > i.sn) && a && i.level === a.level) { var g = s[c + 1]; i = i.sn < o && this.fragmentTracker.getState(g) !== Jr ? g : null } } return i }, r.synchronizeToLiveEdge = function (t) { var e = this.config, r = this.media; if (r) { var i = this.hls.liveSyncPosition, n = r.currentTime, a = t.fragments[0].start, s = t.edge, o = n >= a - e.maxFragLookUpTolerance && n <= s; if (null !== i && r.duration > i && (n < i || !o)) { var l = void 0 !== e.liveMaxLatencyDuration ? e.liveMaxLatencyDuration : e.liveMaxLatencyDurationCount * t.targetduration; (!o && r.readyState < 4 || n < s - l) && (this.loadedmetadata || (this.nextLoadPosition = i), r.readyState && (this.warn("Playback: " + n.toFixed(3) + " is located too far from the end of live sliding playlist: " + s + ", reset currentTime to : " + i.toFixed(3)), r.currentTime = i)) } } }, r.alignPlaylists = function (t, e, r) { var i = t.fragments.length; if (!i) return this.warn("No fragments in live playlist"), 0; var n = t.fragments[0].start, a = !e, s = t.alignedSliding && y(n); if (a || !s && !n) { var o = this.fragPrevious; oi(o, r, t); var l = t.fragments[0].start; return this.log("Live playlist sliding: " + l.toFixed(2) + " start-sn: " + (e ? e.startSN : "na") + "->" + t.startSN + " prev-sn: " + (o ? o.sn : "na") + " fragments: " + i), l } return n }, r.waitForCdnTuneIn = function (t) { return t.live && t.canBlockReload && t.partTarget && t.tuneInGoal > Math.max(t.partHoldBack, 3 * t.partTarget) }, r.setStartPosition = function (t, e) { var r = this.startPosition; if (r < e && (r = -1), -1 === r || -1 === this.lastCurrentTime) { var i = null !== this.startTimeOffset, n = i ? this.startTimeOffset : t.startTimeOffset; null !== n && y(n) ? (r = e + n, n < 0 && (r += t.totalduration), r = Math.min(Math.max(e, r), e + t.totalduration), this.log("Start time offset " + n + " found in " + (i ? "multivariant" : "media") + " playlist, adjust startPosition to " + r), this.startPosition = r) : t.live ? r = this.hls.liveSyncPosition || e : this.startPosition = r = 0, this.lastCurrentTime = r } this.nextLoadPosition = r }, r.getLoadPosition = function () { var t = this.media, e = 0; return this.loadedmetadata && t ? e = t.currentTime : this.nextLoadPosition && (e = this.nextLoadPosition), e }, r.handleFragLoadAborted = function (t, e) { this.transmuxer && "initSegment" !== t.sn && t.stats.aborted && (this.warn("Fragment " + t.sn + (e ? " part " + e.index : "") + " of level " + t.level + " was aborted"), this.resetFragmentLoading(t)) }, r.resetFragmentLoading = function (t) { this.fragCurrent && (this.fragContextChanged(t) || this.state === Ai) || (this.state = Ti) }, r.onFragmentOrKeyLoadError = function (t, e) { if (e.chunkMeta && !e.frag) { var r = this.getCurrentContext(e.chunkMeta); r && (e.frag = r.frag) } var i = e.frag; if (i && i.type === t && this.levels) if (this.fragContextChanged(i)) { var n; this.warn("Frag load error must match current frag to retry " + i.url + " > " + (null == (n = this.fragCurrent) ? void 0 : n.url)) } else { var a = e.details === A.FRAG_GAP; a && this.fragmentTracker.fragBuffered(i, !0); var s = e.errorAction, o = s || {}, l = o.action, u = o.retryCount, h = void 0 === u ? 0 : u, d = o.retryConfig; if (s && l === wr && d) { this.resetStartWhenNotLoaded(this.levelLastLoaded); var c = Er(d, h); this.warn("Fragment " + i.sn + " of " + t + " " + i.level + " errored with " + e.details + ", retrying loading " + (h + 1) + "/" + d.maxNumRetry + " in " + c + "ms"), s.resolved = !0, this.retryDate = self.performance.now() + c, this.state = Ai } else if (d && s) { if (this.resetFragmentErrors(t), !(h < d.maxNumRetry)) return void w.warn(e.details + " reached or exceeded max retry (" + h + ")"); a || l === Ir || (s.resolved = !0) } else (null == s ? void 0 : s.action) === Dr ? this.state = Ci : this.state = Ii; this.tickImmediate() } }, r.reduceLengthAndFlushBuffer = function (t) { if (this.state === bi || this.state === ki) { var e = t.frag, r = t.parent, i = this.getFwdBufferInfo(this.mediaBuffer, r), n = i && i.len > .5; n && this.reduceMaxBufferLength(i.len, (null == e ? void 0 : e.duration) || 10); var a = !n; return a && this.warn("Buffer full error while media.currentTime is not buffered, flush " + r + " buffer"), e && (this.fragmentTracker.removeFragment(e), this.nextLoadPosition = e.start), this.resetLoadingState(), a } return !1 }, r.resetFragmentErrors = function (t) { t === Me && (this.fragCurrent = null), this.loadedmetadata || (this.startFragRequested = !1), this.state !== Ei && (this.state = Ti) }, r.afterBufferFlushed = function (t, e, r) { if (t) { var i = ri.getBuffered(t); this.fragmentTracker.detectEvictedFragments(e, i, r), this.state === Di && this.resetLoadingState() } }, r.resetLoadingState = function () { this.log("Reset loading state"), this.fragCurrent = null, this.fragPrevious = null, this.state = Ti }, r.resetStartWhenNotLoaded = function (t) { if (!this.loadedmetadata) { this.startFragRequested = !1; var e = t ? t.details : null; null != e && e.live ? (this.startPosition = -1, this.setStartPosition(e, 0), this.resetLoadingState()) : this.nextLoadPosition = this.startPosition } }, r.resetWhenMissingContext = function (t) { this.warn("The loading context changed while buffering fragment " + t.sn + " of level " + t.level + ". This chunk will not be buffered."), this.removeUnbufferedFrags(), this.resetStartWhenNotLoaded(this.levelLastLoaded), this.resetLoadingState() }, r.removeUnbufferedFrags = function (t) { void 0 === t && (t = 0), this.fragmentTracker.removeFragmentsInRange(t, 1 / 0, this.playlistType, !1, !0) }, r.updateLevelTiming = function (t, e, r, i) { var n, a = this, s = r.details; if (s) { if (!Object.keys(t.elementaryStreams).reduce((function (e, n) { var o = t.elementaryStreams[n]; if (o) { var l = o.endPTS - o.startPTS; if (l <= 0) return a.warn("Could not parse fragment " + t.sn + " " + n + " duration reliably (" + l + ")"), e || !1; var u = i ? 0 : hr(s, t, o.startPTS, o.endPTS, o.startDTS, o.endDTS); return a.hls.trigger(S.LEVEL_PTS_UPDATED, { details: s, level: r, drift: u, type: n, frag: t, start: o.startPTS, end: o.endPTS }), !0 } return e }), !1) && null === (null == (n = this.transmuxer) ? void 0 : n.error)) { var o = new Error("Found no media in fragment " + t.sn + " of level " + t.level + " resetting transmuxer to fallback to playlist timing"); if (0 === r.fragmentError && (r.fragmentError++, t.gap = !0, this.fragmentTracker.removeFragment(t), this.fragmentTracker.fragBuffered(t, !0)), this.warn(o.message), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: o, frag: t, reason: "Found no media in msn " + t.sn + ' of level "' + r.url + '"' }), !this.hls) return; this.resetTransmuxer() } this.state = ki, this.hls.trigger(S.FRAG_PARSED, { frag: t, part: e }) } else this.warn("level.details undefined") }, r.resetTransmuxer = function () { this.transmuxer && (this.transmuxer.destroy(), this.transmuxer = null) }, r.recoverWorkerError = function (t) { "demuxerWorker" === t.event && (this.fragmentTracker.removeAllFragments(), this.resetTransmuxer(), this.resetStartWhenNotLoaded(this.levelLastLoaded), this.resetLoadingState()) }, s(e, [{ key: "state", get: function () { return this._state }, set: function (t) { var e = this._state; e !== t && (this._state = t, this.log(e + "->" + t)) } }]), e }(qr), xi = function () { function t() { this.chunks = [], this.dataLength = 0 } var e = t.prototype; return e.push = function (t) { this.chunks.push(t), this.dataLength += t.length }, e.flush = function () { var t, e = this.chunks, r = this.dataLength; return e.length ? (t = 1 === e.length ? e[0] : function (t, e) { for (var r = new Uint8Array(e), i = 0, n = 0; n < t.length; n++) { var a = t[n]; r.set(a, i), i += a.length } return r }(e, r), this.reset(), t) : new Uint8Array(0) }, e.reset = function () { this.chunks.length = 0, this.dataLength = 0 }, t }(); function Pi(t, e) { return void 0 === t && (t = ""), void 0 === e && (e = 9e4), { type: t, id: -1, pid: -1, inputTimeScale: e, sequenceNumber: -1, samples: [], dropped: 0 } } var Fi = function () { function t() { this._audioTrack = void 0, this._id3Track = void 0, this.frameIndex = 0, this.cachedData = null, this.basePTS = null, this.initPTS = null, this.lastPTS = null } var e = t.prototype; return e.resetInitSegment = function (t, e, r, i) { this._id3Track = { type: "id3", id: 3, pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0 } }, e.resetTimeStamp = function (t) { this.initPTS = t, this.resetContiguity() }, e.resetContiguity = function () { this.basePTS = null, this.lastPTS = null, this.frameIndex = 0 }, e.canParse = function (t, e) { return !1 }, e.appendFrame = function (t, e, r) { }, e.demux = function (t, e) { this.cachedData && (t = Wt(this.cachedData, t), this.cachedData = null); var r, i = ct(t, 0), n = i ? i.length : 0, a = this._audioTrack, s = this._id3Track, o = i ? vt(i) : void 0, l = t.length; for ((null === this.basePTS || 0 === this.frameIndex && y(o)) && (this.basePTS = Mi(o, e, this.initPTS), this.lastPTS = this.basePTS), null === this.lastPTS && (this.lastPTS = this.basePTS), i && i.length > 0 && s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: i, type: We, duration: Number.POSITIVE_INFINITY }); n < l;) { if (this.canParse(t, n)) { var u = this.appendFrame(a, t, n); u ? (this.frameIndex++, this.lastPTS = u.sample.pts, r = n += u.length) : n = l } else gt(t, n) ? (i = ct(t, n), s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: i, type: We, duration: Number.POSITIVE_INFINITY }), r = n += i.length) : n++; if (n === l && r !== l) { var h = lt(t, r); this.cachedData ? this.cachedData = Wt(this.cachedData, h) : this.cachedData = h } } return { audioTrack: a, videoTrack: Pi(), id3Track: s, textTrack: Pi() } }, e.demuxSampleAes = function (t, e, r) { return Promise.reject(new Error("[" + this + "] This demuxer does not support Sample-AES decryption")) }, e.flush = function (t) { var e = this.cachedData; return e && (this.cachedData = null, this.demux(e, 0)), { audioTrack: this._audioTrack, videoTrack: Pi(), id3Track: this._id3Track, textTrack: Pi() } }, e.destroy = function () { }, t }(), Mi = function (t, e, r) { return y(t) ? 90 * t : 9e4 * e + (r ? 9e4 * r.baseTime / r.timescale : 0) }; function Oi(t, e) { return 255 === t[e] && 240 == (246 & t[e + 1]) } function Ni(t, e) { return 1 & t[e + 1] ? 7 : 9 } function Ui(t, e) { return (3 & t[e + 3]) << 11 | t[e + 4] << 3 | (224 & t[e + 5]) >>> 5 } function Bi(t, e) { return e + 1 < t.length && Oi(t, e) } function Gi(t, e) { if (Bi(t, e)) { var r = Ni(t, e); if (e + r >= t.length) return !1; var i = Ui(t, e); if (i <= r) return !1; var n = e + i; return n === t.length || Bi(t, n) } return !1 } function Ki(t, e, r, i, n) { if (!t.samplerate) { var a = function (t, e, r, i) { var n, a, s, o, l = navigator.userAgent.toLowerCase(), u = i, h = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]; n = 1 + ((192 & e[r + 2]) >>> 6); var d = (60 & e[r + 2]) >>> 2; if (!(d > h.length - 1)) return s = (1 & e[r + 2]) << 2, s |= (192 & e[r + 3]) >>> 6, w.log("manifest codec:" + i + ", ADTS type:" + n + ", samplingIndex:" + d), /firefox/i.test(l) ? d >= 6 ? (n = 5, o = new Array(4), a = d - 3) : (n = 2, o = new Array(2), a = d) : -1 !== l.indexOf("android") ? (n = 2, o = new Array(2), a = d) : (n = 5, o = new Array(4), i && (-1 !== i.indexOf("mp4a.40.29") || -1 !== i.indexOf("mp4a.40.5")) || !i && d >= 6 ? a = d - 3 : ((i && -1 !== i.indexOf("mp4a.40.2") && (d >= 6 && 1 === s || /vivaldi/i.test(l)) || !i && 1 === s) && (n = 2, o = new Array(2)), a = d)), o[0] = n << 3, o[0] |= (14 & d) >> 1, o[1] |= (1 & d) << 7, o[1] |= s << 3, 5 === n && (o[1] |= (14 & a) >> 1, o[2] = (1 & a) << 7, o[2] |= 8, o[3] = 0), { config: o, samplerate: h[d], channelCount: s, codec: "mp4a.40." + n, manifestCodec: u }; var c = new Error("invalid ADTS sampling index:" + d); t.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !0, error: c, reason: c.message }) }(e, r, i, n); if (!a) return; t.config = a.config, t.samplerate = a.samplerate, t.channelCount = a.channelCount, t.codec = a.codec, t.manifestCodec = a.manifestCodec, w.log("parsed codec:" + t.codec + ", rate:" + a.samplerate + ", channels:" + a.channelCount) } } function Hi(t) { return 9216e4 / t } function Vi(t, e, r, i, n) { var a, s = i + n * Hi(t.samplerate), o = function (t, e) { var r = Ni(t, e); if (e + r <= t.length) { var i = Ui(t, e) - r; if (i > 0) return { headerLength: r, frameLength: i } } }(e, r); if (o) { var l = o.frameLength, u = o.headerLength, h = u + l, d = Math.max(0, r + h - e.length); d ? (a = new Uint8Array(h - u)).set(e.subarray(r + u, e.length), 0) : a = e.subarray(r + u, r + h); var c = { unit: a, pts: s }; return d || t.samples.push(c), { sample: c, length: h, missing: d } } var f = e.length - r; return (a = new Uint8Array(f)).set(e.subarray(r, e.length), 0), { sample: { unit: a, pts: s }, length: f, missing: -1 } } var Yi = null, Wi = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160], ji = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3], qi = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]], Xi = [0, 1, 1, 4]; function zi(t, e, r, i, n) { if (!(r + 24 > e.length)) { var a = Qi(e, r); if (a && r + a.frameLength <= e.length) { var s = i + n * (9e4 * a.samplesPerFrame / a.sampleRate), o = { unit: e.subarray(r, r + a.frameLength), pts: s, dts: s }; return t.config = [], t.channelCount = a.channelCount, t.samplerate = a.sampleRate, t.samples.push(o), { sample: o, length: a.frameLength, missing: 0 } } } } function Qi(t, e) { var r = t[e + 1] >> 3 & 3, i = t[e + 1] >> 1 & 3, n = t[e + 2] >> 4 & 15, a = t[e + 2] >> 2 & 3; if (1 !== r && 0 !== n && 15 !== n && 3 !== a) { var s = t[e + 2] >> 1 & 1, o = t[e + 3] >> 6, l = 1e3 * Wi[14 * (3 === r ? 3 - i : 3 === i ? 3 : 4) + n - 1], u = ji[3 * (3 === r ? 0 : 2 === r ? 1 : 2) + a], h = 3 === o ? 1 : 2, d = qi[r][i], c = Xi[i], f = 8 * d * c, g = Math.floor(d * l / u + s) * c; if (null === Yi) { var v = (navigator.userAgent || "").match(/Chrome\/(\d+)/i); Yi = v ? parseInt(v[1]) : 0 } return !!Yi && Yi <= 87 && 2 === i && l >= 224e3 && 0 === o && (t[e + 3] = 128 | t[e + 3]), { sampleRate: u, channelCount: h, frameLength: g, samplesPerFrame: f } } } function Ji(t, e) { return 255 === t[e] && 224 == (224 & t[e + 1]) && 0 != (6 & t[e + 1]) } function $i(t, e) { return e + 1 < t.length && Ji(t, e) } function Zi(t, e) { if (e + 1 < t.length && Ji(t, e)) { var r = Qi(t, e), i = 4; null != r && r.frameLength && (i = r.frameLength); var n = e + i; return n === t.length || $i(t, n) } return !1 } var tn = function (t) { function e(e, r) { var i; return (i = t.call(this) || this).observer = void 0, i.config = void 0, i.observer = e, i.config = r, i } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/adts", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "aac", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, e.probe = function (t) { if (!t) return !1; var e = ct(t, 0), r = (null == e ? void 0 : e.length) || 0; if (Zi(t, r)) return !1; for (var i = t.length; r < i; r++)if (Gi(t, r)) return w.log("ADTS sync word found !"), !0; return !1 }, r.canParse = function (t, e) { return function (t, e) { return function (t, e) { return e + 5 < t.length }(t, e) && Oi(t, e) && Ui(t, e) <= t.length - e }(t, e) }, r.appendFrame = function (t, e, r) { Ki(t, this.observer, e, r, t.manifestCodec); var i = Vi(t, e, r, this.basePTS, this.frameIndex); if (i && 0 === i.missing) return i }, e }(Fi), en = /\/emsg[-/]ID3/i, rn = function () { function t(t, e) { this.remainderData = null, this.timeOffset = 0, this.config = void 0, this.videoTrack = void 0, this.audioTrack = void 0, this.id3Track = void 0, this.txtTrack = void 0, this.config = e } var e = t.prototype; return e.resetTimeStamp = function () { }, e.resetInitSegment = function (t, e, r, i) { var n = this.videoTrack = Pi("video", 1), a = this.audioTrack = Pi("audio", 1), s = this.txtTrack = Pi("text", 1); if (this.id3Track = Pi("id3", 1), this.timeOffset = 0, null != t && t.byteLength) { var o = Ut(t); if (o.video) { var l = o.video, u = l.id, h = l.timescale, d = l.codec; n.id = u, n.timescale = s.timescale = h, n.codec = d } if (o.audio) { var c = o.audio, f = c.id, g = c.timescale, v = c.codec; a.id = f, a.timescale = g, a.codec = v } s.id = wt.text, n.sampleDuration = 0, n.duration = a.duration = i } }, e.resetContiguity = function () { this.remainderData = null }, t.probe = function (t) { return function (t) { for (var e = t.byteLength, r = 0; r < e;) { var i = xt(t, r); if (i > 8 && 109 === t[r + 4] && 111 === t[r + 5] && 111 === t[r + 6] && 102 === t[r + 7]) return !0; r = i > 1 ? r + i : e } return !1 }(t) }, e.demux = function (t, e) { this.timeOffset = e; var r = t, i = this.videoTrack, n = this.txtTrack; if (this.config.progressive) { this.remainderData && (r = Wt(this.remainderData, t)); var a = function (t) { var e = { valid: null, remainder: null }, r = Ot(t, ["moof"]); if (r.length < 2) return e.remainder = t, e; var i = r[r.length - 1]; return e.valid = lt(t, 0, i.byteOffset - 8), e.remainder = lt(t, i.byteOffset - 8), e }(r); this.remainderData = a.remainder, i.samples = a.valid || new Uint8Array } else i.samples = r; var s = this.extractID3Track(i, e); return n.samples = jt(e, i), { videoTrack: i, audioTrack: this.audioTrack, id3Track: s, textTrack: this.txtTrack } }, e.flush = function () { var t = this.timeOffset, e = this.videoTrack, r = this.txtTrack; e.samples = this.remainderData || new Uint8Array, this.remainderData = null; var i = this.extractID3Track(e, this.timeOffset); return r.samples = jt(t, e), { videoTrack: e, audioTrack: Pi(), id3Track: i, textTrack: Pi() } }, e.extractID3Track = function (t, e) { var r = this.id3Track; if (t.samples.length) { var i = Ot(t.samples, ["emsg"]); i && i.forEach((function (t) { var i = function (t) { var e = t[0], r = "", i = "", n = 0, a = 0, s = 0, o = 0, l = 0, u = 0; if (0 === e) { for (; "\0" !== Ct(t.subarray(u, u + 1));)r += Ct(t.subarray(u, u + 1)), u += 1; for (r += Ct(t.subarray(u, u + 1)), u += 1; "\0" !== Ct(t.subarray(u, u + 1));)i += Ct(t.subarray(u, u + 1)), u += 1; i += Ct(t.subarray(u, u + 1)), u += 1, n = xt(t, 12), a = xt(t, 16), o = xt(t, 20), l = xt(t, 24), u = 28 } else if (1 === e) { n = xt(t, u += 4); var h = xt(t, u += 4), d = xt(t, u += 4); for (u += 4, s = Math.pow(2, 32) * h + d, E(s) || (s = Number.MAX_SAFE_INTEGER, w.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")), o = xt(t, u), l = xt(t, u += 4), u += 4; "\0" !== Ct(t.subarray(u, u + 1));)r += Ct(t.subarray(u, u + 1)), u += 1; for (r += Ct(t.subarray(u, u + 1)), u += 1; "\0" !== Ct(t.subarray(u, u + 1));)i += Ct(t.subarray(u, u + 1)), u += 1; i += Ct(t.subarray(u, u + 1)), u += 1 } return { schemeIdUri: r, value: i, timeScale: n, presentationTime: s, presentationTimeDelta: a, eventDuration: o, id: l, payload: t.subarray(u, t.byteLength) } }(t); if (en.test(i.schemeIdUri)) { var n = y(i.presentationTime) ? i.presentationTime / i.timeScale : e + i.presentationTimeDelta / i.timeScale, a = 4294967295 === i.eventDuration ? Number.POSITIVE_INFINITY : i.eventDuration / i.timeScale; a <= .001 && (a = Number.POSITIVE_INFINITY); var s = i.payload; r.samples.push({ data: s, len: s.byteLength, dts: n, pts: n, type: qe, duration: a }) } })) } return r }, e.demuxSampleAes = function (t, e, r) { return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption")) }, e.destroy = function () { }, t }(), nn = function (t, e) { var r = 0, i = 5; e += i; for (var n = new Uint32Array(1), a = new Uint32Array(1), s = new Uint8Array(1); i > 0;) { s[0] = t[e]; var o = Math.min(i, 8), l = 8 - o; a[0] = 4278190080 >>> 24 + l << l, n[0] = (s[0] & a[0]) >> l, r = r ? r << o | n[0] : n[0], e += 1, i -= o } return r }, an = function (t) { function e(e) { var r; return (r = t.call(this) || this).observer = void 0, r.observer = e, r } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/ac-3", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "ac3", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, r.canParse = function (t, e) { return e + 64 < t.length }, r.appendFrame = function (t, e, r) { var i = sn(t, e, r, this.basePTS, this.frameIndex); if (-1 !== i) return { sample: t.samples[t.samples.length - 1], length: i, missing: 0 } }, e.probe = function (t) { if (!t) return !1; var e = ct(t, 0); if (!e) return !1; var r = e.length; return 11 === t[r] && 119 === t[r + 1] && void 0 !== vt(e) && nn(t, r) < 16 }, e }(Fi); function sn(t, e, r, i, n) { if (r + 8 > e.length) return -1; if (11 !== e[r] || 119 !== e[r + 1]) return -1; var a = e[r + 4] >> 6; if (a >= 3) return -1; var s = [48e3, 44100, 32e3][a], o = 63 & e[r + 4], l = 2 * [64, 69, 96, 64, 70, 96, 80, 87, 120, 80, 88, 120, 96, 104, 144, 96, 105, 144, 112, 121, 168, 112, 122, 168, 128, 139, 192, 128, 140, 192, 160, 174, 240, 160, 175, 240, 192, 208, 288, 192, 209, 288, 224, 243, 336, 224, 244, 336, 256, 278, 384, 256, 279, 384, 320, 348, 480, 320, 349, 480, 384, 417, 576, 384, 418, 576, 448, 487, 672, 448, 488, 672, 512, 557, 768, 512, 558, 768, 640, 696, 960, 640, 697, 960, 768, 835, 1152, 768, 836, 1152, 896, 975, 1344, 896, 976, 1344, 1024, 1114, 1536, 1024, 1115, 1536, 1152, 1253, 1728, 1152, 1254, 1728, 1280, 1393, 1920, 1280, 1394, 1920][3 * o + a]; if (r + l > e.length) return -1; var u = e[r + 6] >> 5, h = 0; 2 === u ? h += 2 : (1 & u && 1 !== u && (h += 2), 4 & u && (h += 2)); var d = (e[r + 6] << 8 | e[r + 7]) >> 12 - h & 1, c = [2, 1, 2, 3, 3, 4, 4, 5][u] + d, f = e[r + 5] >> 3, g = 7 & e[r + 5], v = new Uint8Array([a << 6 | f << 1 | g >> 2, (3 & g) << 6 | u << 3 | d << 2 | o >> 4, o << 4 & 224]), m = i + n * (1536 / s * 9e4), p = e.subarray(r, r + l); return t.config = v, t.channelCount = c, t.samplerate = s, t.samples.push({ unit: p, pts: m }), l } var on = function () { function t() { this.VideoSample = null } var e = t.prototype; return e.createVideoSample = function (t, e, r, i) { return { key: t, frame: !1, pts: e, dts: r, units: [], debug: i, length: 0 } }, e.getLastNalUnit = function (t) { var e, r, i = this.VideoSample; if (i && 0 !== i.units.length || (i = t[t.length - 1]), null != (e = i) && e.units) { var n = i.units; r = n[n.length - 1] } return r }, e.pushAccessUnit = function (t, e) { if (t.units.length && t.frame) { if (void 0 === t.pts) { var r = e.samples, i = r.length; if (!i) return void e.dropped++; var n = r[i - 1]; t.pts = n.pts, t.dts = n.dts } e.samples.push(t) } t.debug.length && w.log(t.pts + "/" + t.dts + ":" + t.debug) }, t }(), ln = function () { function t(t) { this.data = void 0, this.bytesAvailable = void 0, this.word = void 0, this.bitsAvailable = void 0, this.data = t, this.bytesAvailable = t.byteLength, this.word = 0, this.bitsAvailable = 0 } var e = t.prototype; return e.loadWord = function () { var t = this.data, e = this.bytesAvailable, r = t.byteLength - e, i = new Uint8Array(4), n = Math.min(4, e); if (0 === n) throw new Error("no bytes available"); i.set(t.subarray(r, r + n)), this.word = new DataView(i.buffer).getUint32(0), this.bitsAvailable = 8 * n, this.bytesAvailable -= n }, e.skipBits = function (t) { var e; t = Math.min(t, 8 * this.bytesAvailable + this.bitsAvailable), this.bitsAvailable > t ? (this.word <<= t, this.bitsAvailable -= t) : (t -= this.bitsAvailable, t -= (e = t >> 3) << 3, this.bytesAvailable -= e, this.loadWord(), this.word <<= t, this.bitsAvailable -= t) }, e.readBits = function (t) { var e = Math.min(this.bitsAvailable, t), r = this.word >>> 32 - e; if (t > 32 && w.error("Cannot read more than 32 bits at a time"), this.bitsAvailable -= e, this.bitsAvailable > 0) this.word <<= e; else { if (!(this.bytesAvailable > 0)) throw new Error("no bits available"); this.loadWord() } return (e = t - e) > 0 && this.bitsAvailable ? r << e | this.readBits(e) : r }, e.skipLZ = function () { var t; for (t = 0; t < this.bitsAvailable; ++t)if (0 != (this.word & 2147483648 >>> t)) return this.word <<= t, this.bitsAvailable -= t, t; return this.loadWord(), t + this.skipLZ() }, e.skipUEG = function () { this.skipBits(1 + this.skipLZ()) }, e.skipEG = function () { this.skipBits(1 + this.skipLZ()) }, e.readUEG = function () { var t = this.skipLZ(); return this.readBits(t + 1) - 1 }, e.readEG = function () { var t = this.readUEG(); return 1 & t ? 1 + t >>> 1 : -1 * (t >>> 1) }, e.readBoolean = function () { return 1 === this.readBits(1) }, e.readUByte = function () { return this.readBits(8) }, e.readUShort = function () { return this.readBits(16) }, e.readUInt = function () { return this.readBits(32) }, e.skipScalingList = function (t) { for (var e = 8, r = 8, i = 0; i < t; i++)0 !== r && (r = (e + this.readEG() + 256) % 256), e = 0 === r ? e : r }, e.readSPS = function () { var t, e, r, i = 0, n = 0, a = 0, s = 0, o = this.readUByte.bind(this), l = this.readBits.bind(this), u = this.readUEG.bind(this), h = this.readBoolean.bind(this), d = this.skipBits.bind(this), c = this.skipEG.bind(this), f = this.skipUEG.bind(this), g = this.skipScalingList.bind(this); o(); var v = o(); if (l(5), d(3), o(), f(), 100 === v || 110 === v || 122 === v || 244 === v || 44 === v || 83 === v || 86 === v || 118 === v || 128 === v) { var m = u(); if (3 === m && d(1), f(), f(), d(1), h()) for (e = 3 !== m ? 8 : 12, r = 0; r < e; r++)h() && g(r < 6 ? 16 : 64) } f(); var p = u(); if (0 === p) u(); else if (1 === p) for (d(1), c(), c(), t = u(), r = 0; r < t; r++)c(); f(), d(1); var y = u(), E = u(), T = l(1); 0 === T && d(1), d(1), h() && (i = u(), n = u(), a = u(), s = u()); var S = [1, 1]; if (h() && h()) switch (o()) { case 1: S = [1, 1]; break; case 2: S = [12, 11]; break; case 3: S = [10, 11]; break; case 4: S = [16, 11]; break; case 5: S = [40, 33]; break; case 6: S = [24, 11]; break; case 7: S = [20, 11]; break; case 8: S = [32, 11]; break; case 9: S = [80, 33]; break; case 10: S = [18, 11]; break; case 11: S = [15, 11]; break; case 12: S = [64, 33]; break; case 13: S = [160, 99]; break; case 14: S = [4, 3]; break; case 15: S = [3, 2]; break; case 16: S = [2, 1]; break; case 255: S = [o() << 8 | o(), o() << 8 | o()] }return { width: Math.ceil(16 * (y + 1) - 2 * i - 2 * n), height: (2 - T) * (E + 1) * 16 - (T ? 2 : 4) * (a + s), pixelRatio: S } }, e.readSliceType = function () { return this.readUByte(), this.readUEG(), this.readUEG() }, t }(), un = function (t) { function e() { return t.apply(this, arguments) || this } l(e, t); var r = e.prototype; return r.parseAVCPES = function (t, e, r, i, n) { var a, s = this, o = this.parseAVCNALu(t, r.data), l = this.VideoSample, u = !1; r.data = null, l && o.length && !t.audFound && (this.pushAccessUnit(l, t), l = this.VideoSample = this.createVideoSample(!1, r.pts, r.dts, "")), o.forEach((function (i) { var o; switch (i.type) { case 1: var h = !1; a = !0; var d, c = i.data; if (u && c.length > 4) { var f = new ln(c).readSliceType(); 2 !== f && 4 !== f && 7 !== f && 9 !== f || (h = !0) } h && null != (d = l) && d.frame && !l.key && (s.pushAccessUnit(l, t), l = s.VideoSample = null), l || (l = s.VideoSample = s.createVideoSample(!0, r.pts, r.dts, "")), l.frame = !0, l.key = h; break; case 5: a = !0, null != (o = l) && o.frame && !l.key && (s.pushAccessUnit(l, t), l = s.VideoSample = null), l || (l = s.VideoSample = s.createVideoSample(!0, r.pts, r.dts, "")), l.key = !0, l.frame = !0; break; case 6: a = !0, Xt(i.data, 1, r.pts, e.samples); break; case 7: var g, v; a = !0, u = !0; var m = i.data, p = new ln(m).readSPS(); if (!t.sps || t.width !== p.width || t.height !== p.height || (null == (g = t.pixelRatio) ? void 0 : g[0]) !== p.pixelRatio[0] || (null == (v = t.pixelRatio) ? void 0 : v[1]) !== p.pixelRatio[1]) { t.width = p.width, t.height = p.height, t.pixelRatio = p.pixelRatio, t.sps = [m], t.duration = n; for (var y = m.subarray(1, 4), E = "avc1.", T = 0; T < 3; T++) { var S = y[T].toString(16); S.length < 2 && (S = "0" + S), E += S } t.codec = E } break; case 8: a = !0, t.pps = [i.data]; break; case 9: a = !0, t.audFound = !0, l && s.pushAccessUnit(l, t), l = s.VideoSample = s.createVideoSample(!1, r.pts, r.dts, ""); break; case 12: a = !0; break; default: a = !1, l && (l.debug += "unknown NAL " + i.type + " ") }l && a && l.units.push(i) })), i && l && (this.pushAccessUnit(l, t), this.VideoSample = null) }, r.parseAVCNALu = function (t, e) { var r, i, n = e.byteLength, a = t.naluState || 0, s = a, o = [], l = 0, u = -1, h = 0; for (-1 === a && (u = 0, h = 31 & e[0], a = 0, l = 1); l < n;)if (r = e[l++], a) if (1 !== a) if (r) if (1 === r) { if (i = l - a - 1, u >= 0) { var d = { data: e.subarray(u, i), type: h }; o.push(d) } else { var c = this.getLastNalUnit(t.samples); c && (s && l <= 4 - s && c.state && (c.data = c.data.subarray(0, c.data.byteLength - s)), i > 0 && (c.data = Wt(c.data, e.subarray(0, i)), c.state = 0)) } l < n ? (u = l, h = 31 & e[l], a = 0) : a = -1 } else a = 0; else a = 3; else a = r ? 0 : 2; else a = r ? 0 : 1; if (u >= 0 && a >= 0) { var f = { data: e.subarray(u, n), type: h, state: a }; o.push(f) } if (0 === o.length) { var g = this.getLastNalUnit(t.samples); g && (g.data = Wt(g.data, e)) } return t.naluState = a, o }, e }(on), hn = function () { function t(t, e, r) { this.keyData = void 0, this.decrypter = void 0, this.keyData = r, this.decrypter = new pi(e, { removePKCS7Padding: !1 }) } var e = t.prototype; return e.decryptBuffer = function (t) { return this.decrypter.decrypt(t, this.keyData.key.buffer, this.keyData.iv.buffer) }, e.decryptAacSample = function (t, e, r) { var i = this, n = t[e].unit; if (!(n.length <= 16)) { var a = n.subarray(16, n.length - n.length % 16), s = a.buffer.slice(a.byteOffset, a.byteOffset + a.length); this.decryptBuffer(s).then((function (a) { var s = new Uint8Array(a); n.set(s, 16), i.decrypter.isSync() || i.decryptAacSamples(t, e + 1, r) })) } }, e.decryptAacSamples = function (t, e, r) { for (; ; e++) { if (e >= t.length) return void r(); if (!(t[e].unit.length < 32 || (this.decryptAacSample(t, e, r), this.decrypter.isSync()))) return } }, e.getAvcEncryptedData = function (t) { for (var e = 16 * Math.floor((t.length - 48) / 160) + 16, r = new Int8Array(e), i = 0, n = 32; n < t.length - 16; n += 160, i += 16)r.set(t.subarray(n, n + 16), i); return r }, e.getAvcDecryptedUnit = function (t, e) { for (var r = new Uint8Array(e), i = 0, n = 32; n < t.length - 16; n += 160, i += 16)t.set(r.subarray(i, i + 16), n); return t }, e.decryptAvcSample = function (t, e, r, i, n) { var a = this, s = zt(n.data), o = this.getAvcEncryptedData(s); this.decryptBuffer(o.buffer).then((function (o) { n.data = a.getAvcDecryptedUnit(s, o), a.decrypter.isSync() || a.decryptAvcSamples(t, e, r + 1, i) })) }, e.decryptAvcSamples = function (t, e, r, i) { if (t instanceof Uint8Array) throw new Error("Cannot decrypt samples of type Uint8Array"); for (; ; e++, r = 0) { if (e >= t.length) return void i(); for (var n = t[e].units; !(r >= n.length); r++) { var a = n[r]; if (!(a.data.length <= 48 || 1 !== a.type && 5 !== a.type || (this.decryptAvcSample(t, e, r, i, a), this.decrypter.isSync()))) return } } }, t }(), dn = 188, cn = function () { function t(t, e, r) { this.observer = void 0, this.config = void 0, this.typeSupported = void 0, this.sampleAes = null, this.pmtParsed = !1, this.audioCodec = void 0, this.videoCodec = void 0, this._duration = 0, this._pmtId = -1, this._videoTrack = void 0, this._audioTrack = void 0, this._id3Track = void 0, this._txtTrack = void 0, this.aacOverFlow = null, this.remainderData = null, this.videoParser = void 0, this.observer = t, this.config = e, this.typeSupported = r, this.videoParser = new un } t.probe = function (e) { var r = t.syncOffset(e); return r > 0 && w.warn("MPEG2-TS detected but first sync word found @ offset " + r), -1 !== r }, t.syncOffset = function (t) { for (var e = t.length, r = Math.min(940, e - dn) + 1, i = 0; i < r;) { for (var n = !1, a = -1, s = 0, o = i; o < e; o += dn) { if (71 !== t[o] || e - o !== dn && 71 !== t[o + dn]) { if (s) return -1; break } if (s++, -1 === a && 0 !== (a = o) && (r = Math.min(a + 18612, t.length - dn) + 1), n || (n = 0 === fn(t, o)), n && s > 1 && (0 === a && s > 2 || o + dn > r)) return a } i++ } return -1 }, t.createTrack = function (t, e) { return { container: "video" === t || "audio" === t ? "video/mp2t" : void 0, type: t, id: wt[t], pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0, duration: "audio" === t ? e : void 0 } }; var e = t.prototype; return e.resetInitSegment = function (e, r, i, n) { this.pmtParsed = !1, this._pmtId = -1, this._videoTrack = t.createTrack("video"), this._audioTrack = t.createTrack("audio", n), this._id3Track = t.createTrack("id3"), this._txtTrack = t.createTrack("text"), this._audioTrack.segmentCodec = "aac", this.aacOverFlow = null, this.remainderData = null, this.audioCodec = r, this.videoCodec = i, this._duration = n }, e.resetTimeStamp = function () { }, e.resetContiguity = function () { var t = this._audioTrack, e = this._videoTrack, r = this._id3Track; t && (t.pesData = null), e && (e.pesData = null), r && (r.pesData = null), this.aacOverFlow = null, this.remainderData = null }, e.demux = function (e, r, i, n) { var a; void 0 === i && (i = !1), void 0 === n && (n = !1), i || (this.sampleAes = null); var s = this._videoTrack, o = this._audioTrack, l = this._id3Track, u = this._txtTrack, h = s.pid, d = s.pesData, c = o.pid, f = l.pid, g = o.pesData, v = l.pesData, m = null, p = this.pmtParsed, y = this._pmtId, E = e.length; if (this.remainderData && (E = (e = Wt(this.remainderData, e)).length, this.remainderData = null), E < dn && !n) return this.remainderData = e, { audioTrack: o, videoTrack: s, id3Track: l, textTrack: u }; var T = Math.max(0, t.syncOffset(e)); (E -= (E - T) % dn) < e.byteLength && !n && (this.remainderData = new Uint8Array(e.buffer, E, e.buffer.byteLength - E)); for (var S = 0, L = T; L < E; L += dn)if (71 === e[L]) { var A = !!(64 & e[L + 1]), R = fn(e, L), b = void 0; if ((48 & e[L + 3]) >> 4 > 1) { if ((b = L + 5 + e[L + 4]) === L + dn) continue } else b = L + 4; switch (R) { case h: A && (d && (a = yn(d)) && this.videoParser.parseAVCPES(s, u, a, !1, this._duration), d = { data: [], size: 0 }), d && (d.data.push(e.subarray(b, L + dn)), d.size += L + dn - b); break; case c: if (A) { if (g && (a = yn(g))) switch (o.segmentCodec) { case "aac": this.parseAACPES(o, a); break; case "mp3": this.parseMPEGPES(o, a); break; case "ac3": this.parseAC3PES(o, a) }g = { data: [], size: 0 } } g && (g.data.push(e.subarray(b, L + dn)), g.size += L + dn - b); break; case f: A && (v && (a = yn(v)) && this.parseID3PES(l, a), v = { data: [], size: 0 }), v && (v.data.push(e.subarray(b, L + dn)), v.size += L + dn - b); break; case 0: A && (b += e[b] + 1), y = this._pmtId = gn(e, b); break; case y: A && (b += e[b] + 1); var k = vn(e, b, this.typeSupported, i, this.observer); (h = k.videoPid) > 0 && (s.pid = h, s.segmentCodec = k.segmentVideoCodec), (c = k.audioPid) > 0 && (o.pid = c, o.segmentCodec = k.segmentAudioCodec), (f = k.id3Pid) > 0 && (l.pid = f), null === m || p || (w.warn("MPEG-TS PMT found at " + L + " after unknown PID '" + m + "'. Backtracking to sync byte @" + T + " to parse all TS packets."), m = null, L = T - 188), p = this.pmtParsed = !0; break; case 17: case 8191: break; default: m = R } } else S++; S > 0 && mn(this.observer, new Error("Found " + S + " TS packet/s that do not start with 0x47")), s.pesData = d, o.pesData = g, l.pesData = v; var D = { audioTrack: o, videoTrack: s, id3Track: l, textTrack: u }; return n && this.extractRemainingSamples(D), D }, e.flush = function () { var t, e = this.remainderData; return this.remainderData = null, t = e ? this.demux(e, -1, !1, !0) : { videoTrack: this._videoTrack, audioTrack: this._audioTrack, id3Track: this._id3Track, textTrack: this._txtTrack }, this.extractRemainingSamples(t), this.sampleAes ? this.decrypt(t, this.sampleAes) : t }, e.extractRemainingSamples = function (t) { var e, r = t.audioTrack, i = t.videoTrack, n = t.id3Track, a = t.textTrack, s = i.pesData, o = r.pesData, l = n.pesData; if (s && (e = yn(s)) ? (this.videoParser.parseAVCPES(i, a, e, !0, this._duration), i.pesData = null) : i.pesData = s, o && (e = yn(o))) { switch (r.segmentCodec) { case "aac": this.parseAACPES(r, e); break; case "mp3": this.parseMPEGPES(r, e); break; case "ac3": this.parseAC3PES(r, e) }r.pesData = null } else null != o && o.size && w.log("last AAC PES packet truncated,might overlap between fragments"), r.pesData = o; l && (e = yn(l)) ? (this.parseID3PES(n, e), n.pesData = null) : n.pesData = l }, e.demuxSampleAes = function (t, e, r) { var i = this.demux(t, r, !0, !this.config.progressive), n = this.sampleAes = new hn(this.observer, this.config, e); return this.decrypt(i, n) }, e.decrypt = function (t, e) { return new Promise((function (r) { var i = t.audioTrack, n = t.videoTrack; i.samples && "aac" === i.segmentCodec ? e.decryptAacSamples(i.samples, 0, (function () { n.samples ? e.decryptAvcSamples(n.samples, 0, 0, (function () { r(t) })) : r(t) })) : n.samples && e.decryptAvcSamples(n.samples, 0, 0, (function () { r(t) })) })) }, e.destroy = function () { this._duration = 0 }, e.parseAACPES = function (t, e) { var r, i, n, a = 0, s = this.aacOverFlow, o = e.data; if (s) { this.aacOverFlow = null; var l = s.missing, u = s.sample.unit.byteLength; if (-1 === l) o = Wt(s.sample.unit, o); else { var h = u - l; s.sample.unit.set(o.subarray(0, l), h), t.samples.push(s.sample), a = s.missing } } for (r = a, i = o.length; r < i - 1 && !Bi(o, r); r++); if (r !== a) { var d, c = r < i - 1; if (d = c ? "AAC PES did not start with ADTS header,offset:" + r : "No ADTS header found in AAC PES", mn(this.observer, new Error(d), c), !c) return } if (Ki(t, this.observer, o, r, this.audioCodec), void 0 !== e.pts) n = e.pts; else { if (!s) return void w.warn("[tsdemuxer]: AAC PES unknown PTS"); var f = Hi(t.samplerate); n = s.sample.pts + f } for (var g, v = 0; r < i;) { if (r += (g = Vi(t, o, r, n, v)).length, g.missing) { this.aacOverFlow = g; break } for (v++; r < i - 1 && !Bi(o, r); r++); } }, e.parseMPEGPES = function (t, e) { var r = e.data, i = r.length, n = 0, a = 0, s = e.pts; if (void 0 !== s) for (; a < i;)if ($i(r, a)) { var o = zi(t, r, a, s, n); if (!o) break; a += o.length, n++ } else a++; else w.warn("[tsdemuxer]: MPEG PES unknown PTS") }, e.parseAC3PES = function (t, e) { var r = e.data, i = e.pts; if (void 0 !== i) for (var n, a = r.length, s = 0, o = 0; o < a && (n = sn(t, r, o, i, s++)) > 0;)o += n; else w.warn("[tsdemuxer]: AC3 PES unknown PTS") }, e.parseID3PES = function (t, e) { if (void 0 !== e.pts) { var r = o({}, e, { type: this._videoTrack ? qe : We, duration: Number.POSITIVE_INFINITY }); t.samples.push(r) } else w.warn("[tsdemuxer]: ID3 PES unknown PTS") }, t }(); function fn(t, e) { return ((31 & t[e + 1]) << 8) + t[e + 2] } function gn(t, e) { return (31 & t[e + 10]) << 8 | t[e + 11] } function vn(t, e, r, i, n) { var a = { audioPid: -1, videoPid: -1, id3Pid: -1, segmentVideoCodec: "avc", segmentAudioCodec: "aac" }, s = e + 3 + ((15 & t[e + 1]) << 8 | t[e + 2]) - 4; for (e += 12 + ((15 & t[e + 10]) << 8 | t[e + 11]); e < s;) { var o = fn(t, e), l = (15 & t[e + 3]) << 8 | t[e + 4]; switch (t[e]) { case 207: if (!i) { pn("ADTS AAC"); break } case 15: -1 === a.audioPid && (a.audioPid = o); break; case 21: -1 === a.id3Pid && (a.id3Pid = o); break; case 219: if (!i) { pn("H.264"); break } case 27: -1 === a.videoPid && (a.videoPid = o, a.segmentVideoCodec = "avc"); break; case 3: case 4: r.mpeg || r.mp3 ? -1 === a.audioPid && (a.audioPid = o, a.segmentAudioCodec = "mp3") : w.log("MPEG audio found, not supported in this browser"); break; case 193: if (!i) { pn("AC-3"); break } case 129: r.ac3 ? -1 === a.audioPid && (a.audioPid = o, a.segmentAudioCodec = "ac3") : w.log("AC-3 audio found, not supported in this browser"); break; case 6: if (-1 === a.audioPid && l > 0) for (var u = e + 5, h = l; h > 2;) { 106 === t[u] && (!0 !== r.ac3 ? w.log("AC-3 audio found, not supported in this browser for now") : (a.audioPid = o, a.segmentAudioCodec = "ac3")); var d = t[u + 1] + 2; u += d, h -= d } break; case 194: case 135: return mn(n, new Error("Unsupported EC-3 in M2TS found")), a; case 36: return mn(n, new Error("Unsupported HEVC in M2TS found")), a }e += l + 5 } return a } function mn(t, e, r) { w.warn("parsing error: " + e.message), t.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, levelRetry: r, error: e, reason: e.message }) } function pn(t) { w.log(t + " with AES-128-CBC encryption found in unencrypted stream") } function yn(t) { var e, r, i, n, a, s = 0, o = t.data; if (!t || 0 === t.size) return null; for (; o[0].length < 19 && o.length > 1;)o[0] = Wt(o[0], o[1]), o.splice(1, 1); if (1 === ((e = o[0])[0] << 16) + (e[1] << 8) + e[2]) { if ((r = (e[4] << 8) + e[5]) && r > t.size - 6) return null; var l = e[7]; 192 & l && (n = 536870912 * (14 & e[9]) + 4194304 * (255 & e[10]) + 16384 * (254 & e[11]) + 128 * (255 & e[12]) + (254 & e[13]) / 2, 64 & l ? n - (a = 536870912 * (14 & e[14]) + 4194304 * (255 & e[15]) + 16384 * (254 & e[16]) + 128 * (255 & e[17]) + (254 & e[18]) / 2) > 54e5 && (w.warn(Math.round((n - a) / 9e4) + "s delta between PTS and DTS, align them"), n = a) : a = n); var u = (i = e[8]) + 9; if (t.size <= u) return null; t.size -= u; for (var h = new Uint8Array(t.size), d = 0, c = o.length; d < c; d++) { var f = (e = o[d]).byteLength; if (u) { if (u > f) { u -= f; continue } e = e.subarray(u), f -= u, u = 0 } h.set(e, s), s += f } return r && (r -= i + 3), { data: h, pts: n, dts: a, len: r } } return null } var En = function (t) { function e() { return t.apply(this, arguments) || this } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/mpeg", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "mp3", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, e.probe = function (t) { if (!t) return !1; var e = ct(t, 0), r = (null == e ? void 0 : e.length) || 0; if (e && 11 === t[r] && 119 === t[r + 1] && void 0 !== vt(e) && nn(t, r) <= 16) return !1; for (var i = t.length; r < i; r++)if (Zi(t, r)) return w.log("MPEG Audio sync word found !"), !0; return !1 }, r.canParse = function (t, e) { return function (t, e) { return Ji(t, e) && 4 <= t.length - e }(t, e) }, r.appendFrame = function (t, e, r) { if (null !== this.basePTS) return zi(t, e, r, this.basePTS, this.frameIndex) }, e }(Fi), Tn = function () { function t() { } return t.getSilentFrame = function (t, e) { if ("mp4a.40.2" === t) { if (1 === e) return new Uint8Array([0, 200, 0, 128, 35, 128]); if (2 === e) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]); if (3 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]); if (4 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]); if (5 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]); if (6 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]) } else { if (1 === e) return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); if (2 === e) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); if (3 === e) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]) } }, t }(), Sn = Math.pow(2, 32) - 1, Ln = function () { function t() { } return t.init = function () { var e; for (e in t.types = { avc1: [], avcC: [], btrt: [], dinf: [], dref: [], esds: [], ftyp: [], hdlr: [], mdat: [], mdhd: [], mdia: [], mfhd: [], minf: [], moof: [], moov: [], mp4a: [], ".mp3": [], dac3: [], "ac-3": [], mvex: [], mvhd: [], pasp: [], sdtp: [], stbl: [], stco: [], stsc: [], stsd: [], stsz: [], stts: [], tfdt: [], tfhd: [], traf: [], trak: [], trun: [], trex: [], tkhd: [], vmhd: [], smhd: [] }, t.types) t.types.hasOwnProperty(e) && (t.types[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]); var r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]); t.HDLR_TYPES = { video: r, audio: i }; var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]); t.STTS = t.STSC = t.STCO = a, t.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), t.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), t.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), t.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]); var s = new Uint8Array([105, 115, 111, 109]), o = new Uint8Array([97, 118, 99, 49]), l = new Uint8Array([0, 0, 0, 1]); t.FTYP = t.box(t.types.ftyp, s, l, s, o), t.DINF = t.box(t.types.dinf, t.box(t.types.dref, n)) }, t.box = function (t) { for (var e = 8, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++)i[n - 1] = arguments[n]; for (var a = i.length, s = a; a--;)e += i[a].byteLength; var o = new Uint8Array(e); for (o[0] = e >> 24 & 255, o[1] = e >> 16 & 255, o[2] = e >> 8 & 255, o[3] = 255 & e, o.set(t, 4), a = 0, e = 8; a < s; a++)o.set(i[a], e), e += i[a].byteLength; return o }, t.hdlr = function (e) { return t.box(t.types.hdlr, t.HDLR_TYPES[e]) }, t.mdat = function (e) { return t.box(t.types.mdat, e) }, t.mdhd = function (e, r) { r *= e; var i = Math.floor(r / (Sn + 1)), n = Math.floor(r % (Sn + 1)); return t.box(t.types.mdhd, new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 85, 196, 0, 0])) }, t.mdia = function (e) { return t.box(t.types.mdia, t.mdhd(e.timescale, e.duration), t.hdlr(e.type), t.minf(e)) }, t.mfhd = function (e) { return t.box(t.types.mfhd, new Uint8Array([0, 0, 0, 0, e >> 24, e >> 16 & 255, e >> 8 & 255, 255 & e])) }, t.minf = function (e) { return "audio" === e.type ? t.box(t.types.minf, t.box(t.types.smhd, t.SMHD), t.DINF, t.stbl(e)) : t.box(t.types.minf, t.box(t.types.vmhd, t.VMHD), t.DINF, t.stbl(e)) }, t.moof = function (e, r, i) { return t.box(t.types.moof, t.mfhd(e), t.traf(i, r)) }, t.moov = function (e) { for (var r = e.length, i = []; r--;)i[r] = t.trak(e[r]); return t.box.apply(null, [t.types.moov, t.mvhd(e[0].timescale, e[0].duration)].concat(i).concat(t.mvex(e))) }, t.mvex = function (e) { for (var r = e.length, i = []; r--;)i[r] = t.trex(e[r]); return t.box.apply(null, [t.types.mvex].concat(i)) }, t.mvhd = function (e, r) { r *= e; var i = Math.floor(r / (Sn + 1)), n = Math.floor(r % (Sn + 1)), a = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]); return t.box(t.types.mvhd, a) }, t.sdtp = function (e) { var r, i, n = e.samples || [], a = new Uint8Array(4 + n.length); for (r = 0; r < n.length; r++)i = n[r].flags, a[r + 4] = i.dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy; return t.box(t.types.sdtp, a) }, t.stbl = function (e) { return t.box(t.types.stbl, t.stsd(e), t.box(t.types.stts, t.STTS), t.box(t.types.stsc, t.STSC), t.box(t.types.stsz, t.STSZ), t.box(t.types.stco, t.STCO)) }, t.avc1 = function (e) { var r, i, n, a = [], s = []; for (r = 0; r < e.sps.length; r++)n = (i = e.sps[r]).byteLength, a.push(n >>> 8 & 255), a.push(255 & n), a = a.concat(Array.prototype.slice.call(i)); for (r = 0; r < e.pps.length; r++)n = (i = e.pps[r]).byteLength, s.push(n >>> 8 & 255), s.push(255 & n), s = s.concat(Array.prototype.slice.call(i)); var o = t.box(t.types.avcC, new Uint8Array([1, a[3], a[4], a[5], 255, 224 | e.sps.length].concat(a).concat([e.pps.length]).concat(s))), l = e.width, u = e.height, h = e.pixelRatio[0], d = e.pixelRatio[1]; return t.box(t.types.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, l >> 8 & 255, 255 & l, u >> 8 & 255, 255 & u, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), o, t.box(t.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), t.box(t.types.pasp, new Uint8Array([h >> 24, h >> 16 & 255, h >> 8 & 255, 255 & h, d >> 24, d >> 16 & 255, d >> 8 & 255, 255 & d]))) }, t.esds = function (t) { var e = t.config.length; return new Uint8Array([0, 0, 0, 0, 3, 23 + e, 0, 1, 0, 4, 15 + e, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([e]).concat(t.config).concat([6, 1, 2])) }, t.audioStsd = function (t) { var e = t.samplerate; return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, e >> 8 & 255, 255 & e, 0, 0]) }, t.mp4a = function (e) { return t.box(t.types.mp4a, t.audioStsd(e), t.box(t.types.esds, t.esds(e))) }, t.mp3 = function (e) { return t.box(t.types[".mp3"], t.audioStsd(e)) }, t.ac3 = function (e) { return t.box(t.types["ac-3"], t.audioStsd(e), t.box(t.types.dac3, e.config)) }, t.stsd = function (e) { return "audio" === e.type ? "mp3" === e.segmentCodec && "mp3" === e.codec ? t.box(t.types.stsd, t.STSD, t.mp3(e)) : "ac3" === e.segmentCodec ? t.box(t.types.stsd, t.STSD, t.ac3(e)) : t.box(t.types.stsd, t.STSD, t.mp4a(e)) : t.box(t.types.stsd, t.STSD, t.avc1(e)) }, t.tkhd = function (e) { var r = e.id, i = e.duration * e.timescale, n = e.width, a = e.height, s = Math.floor(i / (Sn + 1)), o = Math.floor(i % (Sn + 1)); return t.box(t.types.tkhd, new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 0, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, n >> 8 & 255, 255 & n, 0, 0, a >> 8 & 255, 255 & a, 0, 0])) }, t.traf = function (e, r) { var i = t.sdtp(e), n = e.id, a = Math.floor(r / (Sn + 1)), s = Math.floor(r % (Sn + 1)); return t.box(t.types.traf, t.box(t.types.tfhd, new Uint8Array([0, 0, 0, 0, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n])), t.box(t.types.tfdt, new Uint8Array([1, 0, 0, 0, a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s])), t.trun(e, i.length + 16 + 20 + 8 + 16 + 8 + 8), i) }, t.trak = function (e) { return e.duration = e.duration || 4294967295, t.box(t.types.trak, t.tkhd(e), t.mdia(e)) }, t.trex = function (e) { var r = e.id; return t.box(t.types.trex, new Uint8Array([0, 0, 0, 0, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1])) }, t.trun = function (e, r) { var i, n, a, s, o, l, u = e.samples || [], h = u.length, d = 12 + 16 * h, c = new Uint8Array(d); for (r += 8 + d, c.set(["video" === e.type ? 1 : 0, 0, 15, 1, h >>> 24 & 255, h >>> 16 & 255, h >>> 8 & 255, 255 & h, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r], 0), i = 0; i < h; i++)a = (n = u[i]).duration, s = n.size, o = n.flags, l = n.cts, c.set([a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s, o.isLeading << 2 | o.dependsOn, o.isDependedOn << 6 | o.hasRedundancy << 4 | o.paddingValue << 1 | o.isNonSync, 61440 & o.degradPrio, 15 & o.degradPrio, l >>> 24 & 255, l >>> 16 & 255, l >>> 8 & 255, 255 & l], 12 + 16 * i); return t.box(t.types.trun, c) }, t.initSegment = function (e) { t.types || t.init(); var r = t.moov(e); return Wt(t.FTYP, r) }, t }(); Ln.types = void 0, Ln.HDLR_TYPES = void 0, Ln.STTS = void 0, Ln.STSC = void 0, Ln.STCO = void 0, Ln.STSZ = void 0, Ln.VMHD = void 0, Ln.SMHD = void 0, Ln.STSD = void 0, Ln.FTYP = void 0, Ln.DINF = void 0; var An = 9e4; function Rn(t, e, r, i) { void 0 === r && (r = 1), void 0 === i && (i = !1); var n = t * e * r; return i ? Math.round(n) : n } function bn(t, e) { return void 0 === e && (e = !1), Rn(t, 1e3, 1 / An, e) } var kn = null, Dn = null, In = function () { function t(t, e, r, i) { if (this.observer = void 0, this.config = void 0, this.typeSupported = void 0, this.ISGenerated = !1, this._initPTS = null, this._initDTS = null, this.nextAvcDts = null, this.nextAudioPts = null, this.videoSampleDuration = null, this.isAudioContiguous = !1, this.isVideoContiguous = !1, this.videoTrackConfig = void 0, this.observer = t, this.config = e, this.typeSupported = r, this.ISGenerated = !1, null === kn) { var n = (navigator.userAgent || "").match(/Chrome\/(\d+)/i); kn = n ? parseInt(n[1]) : 0 } if (null === Dn) { var a = navigator.userAgent.match(/Safari\/(\d+)/i); Dn = a ? parseInt(a[1]) : 0 } } var e = t.prototype; return e.destroy = function () { this.config = this.videoTrackConfig = this._initPTS = this._initDTS = null }, e.resetTimeStamp = function (t) { w.log("[mp4-remuxer]: initPTS & initDTS reset"), this._initPTS = this._initDTS = t }, e.resetNextTimestamp = function () { w.log("[mp4-remuxer]: reset next timestamp"), this.isVideoContiguous = !1, this.isAudioContiguous = !1 }, e.resetInitSegment = function () { w.log("[mp4-remuxer]: ISGenerated flag reset"), this.ISGenerated = !1, this.videoTrackConfig = void 0 }, e.getVideoStartPts = function (t) { var e = !1, r = t.reduce((function (t, r) { var i = r.pts - t; return i < -4294967296 ? (e = !0, wn(t, r.pts)) : i > 0 ? t : r.pts }), t[0].pts); return e && w.debug("PTS rollover detected"), r }, e.remux = function (t, e, r, i, n, a, s, o) { var l, u, h, d, c, f, g = n, v = n, m = t.pid > -1, p = e.pid > -1, y = e.samples.length, E = t.samples.length > 0, T = s && y > 0 || y > 1; if ((!m || E) && (!p || T) || this.ISGenerated || s) { if (this.ISGenerated) { var S, L, A, R, b = this.videoTrackConfig; !b || e.width === b.width && e.height === b.height && (null == (S = e.pixelRatio) ? void 0 : S[0]) === (null == (L = b.pixelRatio) ? void 0 : L[0]) && (null == (A = e.pixelRatio) ? void 0 : A[1]) === (null == (R = b.pixelRatio) ? void 0 : R[1]) || this.resetInitSegment() } else h = this.generateIS(t, e, n, a); var k, D = this.isVideoContiguous, I = -1; if (T && (I = function (t) { for (var e = 0; e < t.length; e++)if (t[e].key) return e; return -1 }(e.samples), !D && this.config.forceKeyFrameOnDiscontinuity)) if (f = !0, I > 0) { w.warn("[mp4-remuxer]: Dropped " + I + " out of " + y + " video samples due to a missing keyframe"); var C = this.getVideoStartPts(e.samples); e.samples = e.samples.slice(I), e.dropped += I, k = v += (e.samples[0].pts - C) / e.inputTimeScale } else -1 === I && (w.warn("[mp4-remuxer]: No keyframe found out of " + y + " video samples"), f = !1); if (this.ISGenerated) { if (E && T) { var _ = this.getVideoStartPts(e.samples), x = (wn(t.samples[0].pts, _) - _) / e.inputTimeScale; g += Math.max(0, x), v += Math.max(0, -x) } if (E) { if (t.samplerate || (w.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"), h = this.generateIS(t, e, n, a)), u = this.remuxAudio(t, g, this.isAudioContiguous, a, p || T || o === Me ? v : void 0), T) { var P = u ? u.endPTS - u.startPTS : 0; e.inputTimeScale || (w.warn("[mp4-remuxer]: regenerate InitSegment as video detected"), h = this.generateIS(t, e, n, a)), l = this.remuxVideo(e, v, D, P) } } else T && (l = this.remuxVideo(e, v, D, 0)); l && (l.firstKeyFrame = I, l.independent = -1 !== I, l.firstKeyFramePTS = k) } } return this.ISGenerated && this._initPTS && this._initDTS && (r.samples.length && (c = Cn(r, n, this._initPTS, this._initDTS)), i.samples.length && (d = _n(i, n, this._initPTS))), { audio: u, video: l, initSegment: h, independent: f, text: d, id3: c } }, e.generateIS = function (t, e, r, i) { var n, a, s, o = t.samples, l = e.samples, u = this.typeSupported, h = {}, d = this._initPTS, c = !d || i, f = "audio/mp4"; if (c && (n = a = 1 / 0), t.config && o.length) { switch (t.timescale = t.samplerate, t.segmentCodec) { case "mp3": u.mpeg ? (f = "audio/mpeg", t.codec = "") : u.mp3 && (t.codec = "mp3"); break; case "ac3": t.codec = "ac-3" }h.audio = { id: "audio", container: f, codec: t.codec, initSegment: "mp3" === t.segmentCodec && u.mpeg ? new Uint8Array(0) : Ln.initSegment([t]), metadata: { channelCount: t.channelCount } }, c && (s = t.inputTimeScale, d && s === d.timescale ? c = !1 : n = a = o[0].pts - Math.round(s * r)) } if (e.sps && e.pps && l.length) { if (e.timescale = e.inputTimeScale, h.video = { id: "main", container: "video/mp4", codec: e.codec, initSegment: Ln.initSegment([e]), metadata: { width: e.width, height: e.height } }, c) if (s = e.inputTimeScale, d && s === d.timescale) c = !1; else { var g = this.getVideoStartPts(l), v = Math.round(s * r); a = Math.min(a, wn(l[0].dts, g) - v), n = Math.min(n, g - v) } this.videoTrackConfig = { width: e.width, height: e.height, pixelRatio: e.pixelRatio } } if (Object.keys(h).length) return this.ISGenerated = !0, c ? (this._initPTS = { baseTime: n, timescale: s }, this._initDTS = { baseTime: a, timescale: s }) : n = s = void 0, { tracks: h, initPTS: n, timescale: s } }, e.remuxVideo = function (t, e, r, i) { var n, a, s = t.inputTimeScale, l = t.samples, u = [], h = l.length, d = this._initPTS, c = this.nextAvcDts, f = 8, g = this.videoSampleDuration, v = Number.POSITIVE_INFINITY, m = Number.NEGATIVE_INFINITY, p = !1; if (!r || null === c) { var y = e * s, E = l[0].pts - wn(l[0].dts, l[0].pts); kn && null !== c && Math.abs(y - E - c) < 15e3 ? r = !0 : c = y - E } for (var T = d.baseTime * s / d.timescale, R = 0; R < h; R++) { var b = l[R]; b.pts = wn(b.pts - T, c), b.dts = wn(b.dts - T, c), b.dts < l[R > 0 ? R - 1 : R].dts && (p = !0) } p && l.sort((function (t, e) { var r = t.dts - e.dts, i = t.pts - e.pts; return r || i })), n = l[0].dts; var k = (a = l[l.length - 1].dts) - n, D = k ? Math.round(k / (h - 1)) : g || t.inputTimeScale / 30; if (r) { var I = n - c, C = I > D, _ = I < -1; if ((C || _) && (C ? w.warn("AVC: " + bn(I, !0) + " ms (" + I + "dts) hole between fragments detected at " + e.toFixed(3)) : w.warn("AVC: " + bn(-I, !0) + " ms (" + I + "dts) overlapping between fragments detected at " + e.toFixed(3)), !_ || c >= l[0].pts || kn)) { n = c; var x = l[0].pts - I; if (C) l[0].dts = n, l[0].pts = x; else for (var P = 0; P < l.length && !(l[P].dts > x); P++)l[P].dts -= I, l[P].pts -= I; w.log("Video: Initial PTS/DTS adjusted: " + bn(x, !0) + "/" + bn(n, !0) + ", delta: " + bn(I, !0) + " ms") } } for (var F = 0, M = 0, O = n = Math.max(0, n), N = 0; N < h; N++) { for (var U = l[N], B = U.units, G = B.length, K = 0, H = 0; H < G; H++)K += B[H].data.length; M += K, F += G, U.length = K, U.dts < O ? (U.dts = O, O += D / 4 | 0 || 1) : O = U.dts, v = Math.min(U.pts, v), m = Math.max(U.pts, m) } a = l[h - 1].dts; var V, Y = M + 4 * F + 8; try { V = new Uint8Array(Y) } catch (t) { return void this.observer.emit(S.ERROR, S.ERROR, { type: L.MUX_ERROR, details: A.REMUX_ALLOC_ERROR, fatal: !1, error: t, bytes: Y, reason: "fail allocating video mdat " + Y }) } var W = new DataView(V.buffer); W.setUint32(0, Y), V.set(Ln.types.mdat, 4); for (var j = !1, q = Number.POSITIVE_INFINITY, X = Number.POSITIVE_INFINITY, z = Number.NEGATIVE_INFINITY, Q = Number.NEGATIVE_INFINITY, J = 0; J < h; J++) { for (var $ = l[J], Z = $.units, tt = 0, et = 0, rt = Z.length; et < rt; et++) { var it = Z[et], nt = it.data, at = it.data.byteLength; W.setUint32(f, at), f += 4, V.set(nt, f), f += at, tt += 4 + at } var st = void 0; if (J < h - 1) g = l[J + 1].dts - $.dts, st = l[J + 1].pts - $.pts; else { var ot = this.config, lt = J > 0 ? $.dts - l[J - 1].dts : D; if (st = J > 0 ? $.pts - l[J - 1].pts : D, ot.stretchShortVideoTrack && null !== this.nextAudioPts) { var ut = Math.floor(ot.maxBufferHole * s), ht = (i ? v + i * s : this.nextAudioPts) - $.pts; ht > ut ? ((g = ht - lt) < 0 ? g = lt : j = !0, w.log("[mp4-remuxer]: It is approximately " + ht / 90 + " ms to the next segment; using duration " + g / 90 + " ms for the last video frame.")) : g = lt } else g = lt } var dt = Math.round($.pts - $.dts); q = Math.min(q, g), z = Math.max(z, g), X = Math.min(X, st), Q = Math.max(Q, st), u.push(new Pn($.key, g, tt, dt)) } if (u.length) if (kn) { if (kn < 70) { var ct = u[0].flags; ct.dependsOn = 2, ct.isNonSync = 0 } } else if (Dn && Q - X < z - q && D / z < .025 && 0 === u[0].cts) { w.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration."); for (var ft = n, gt = 0, vt = u.length; gt < vt; gt++) { var mt = ft + u[gt].duration, pt = ft + u[gt].cts; if (gt < vt - 1) { var yt = mt + u[gt + 1].cts; u[gt].duration = yt - pt } else u[gt].duration = gt ? u[gt - 1].duration : D; u[gt].cts = 0, ft = mt } } g = j || !g ? D : g, this.nextAvcDts = c = a + g, this.videoSampleDuration = g, this.isVideoContiguous = !0; var Et = { data1: Ln.moof(t.sequenceNumber++, n, o({}, t, { samples: u })), data2: V, startPTS: v / s, endPTS: (m + g) / s, startDTS: n / s, endDTS: c / s, type: "video", hasAudio: !1, hasVideo: !0, nb: u.length, dropped: t.dropped }; return t.samples = [], t.dropped = 0, Et }, e.getSamplesPerFrame = function (t) { switch (t.segmentCodec) { case "mp3": return 1152; case "ac3": return 1536; default: return 1024 } }, e.remuxAudio = function (t, e, r, i, n) { var a = t.inputTimeScale, s = a / (t.samplerate ? t.samplerate : a), l = this.getSamplesPerFrame(t), u = l * s, h = this._initPTS, d = "mp3" === t.segmentCodec && this.typeSupported.mpeg, c = [], f = void 0 !== n, g = t.samples, v = d ? 0 : 8, m = this.nextAudioPts || -1, p = e * a, y = h.baseTime * a / h.timescale; if (this.isAudioContiguous = r = r || g.length && m > 0 && (i && Math.abs(p - m) < 9e3 || Math.abs(wn(g[0].pts - y, p) - m) < 20 * u), g.forEach((function (t) { t.pts = wn(t.pts - y, p) })), !r || m < 0) { if (g = g.filter((function (t) { return t.pts >= 0 })), !g.length) return; m = 0 === n ? 0 : i && !f ? Math.max(0, p) : g[0].pts } if ("aac" === t.segmentCodec) for (var E = this.config.maxAudioFramesDrift, T = 0, R = m; T < g.length; T++) { var b = g[T], k = b.pts, D = k - R, I = Math.abs(1e3 * D / a); if (D <= -E * u && f) 0 === T && (w.warn("Audio frame @ " + (k / a).toFixed(3) + "s overlaps nextAudioPts by " + Math.round(1e3 * D / a) + " ms."), this.nextAudioPts = m = R = k); else if (D >= E * u && I < 1e4 && f) { var C = Math.round(D / u); (R = k - C * u) < 0 && (C--, R += u), 0 === T && (this.nextAudioPts = m = R), w.warn("[mp4-remuxer]: Injecting " + C + " audio frame @ " + (R / a).toFixed(3) + "s due to " + Math.round(1e3 * D / a) + " ms gap."); for (var _ = 0; _ < C; _++) { var x = Math.max(R, 0), P = Tn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount); P || (w.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."), P = b.unit.subarray()), g.splice(T, 0, { unit: P, pts: x }), R += u, T++ } } b.pts = R, R += u } for (var F, M = null, O = null, N = 0, U = g.length; U--;)N += g[U].unit.byteLength; for (var B = 0, G = g.length; B < G; B++) { var K = g[B], H = K.unit, V = K.pts; if (null !== O) c[B - 1].duration = Math.round((V - O) / s); else { if (r && "aac" === t.segmentCodec && (V = m), M = V, !(N > 0)) return; N += v; try { F = new Uint8Array(N) } catch (t) { return void this.observer.emit(S.ERROR, S.ERROR, { type: L.MUX_ERROR, details: A.REMUX_ALLOC_ERROR, fatal: !1, error: t, bytes: N, reason: "fail allocating audio mdat " + N }) } d || (new DataView(F.buffer).setUint32(0, N), F.set(Ln.types.mdat, 4)) } F.set(H, v); var Y = H.byteLength; v += Y, c.push(new Pn(!0, l, Y, 0)), O = V } var W = c.length; if (W) { var j = c[c.length - 1]; this.nextAudioPts = m = O + s * j.duration; var q = d ? new Uint8Array(0) : Ln.moof(t.sequenceNumber++, M / s, o({}, t, { samples: c })); t.samples = []; var X = M / a, z = m / a, Q = { data1: q, data2: F, startPTS: X, endPTS: z, startDTS: X, endDTS: z, type: "audio", hasAudio: !0, hasVideo: !1, nb: W }; return this.isAudioContiguous = !0, Q } }, e.remuxEmptyAudio = function (t, e, r, i) { var n = t.inputTimeScale, a = n / (t.samplerate ? t.samplerate : n), s = this.nextAudioPts, o = this._initDTS, l = 9e4 * o.baseTime / o.timescale, u = (null !== s ? s : i.startDTS * n) + l, h = i.endDTS * n + l, d = 1024 * a, c = Math.ceil((h - u) / d), f = Tn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount); if (w.warn("[mp4-remuxer]: remux empty Audio"), f) { for (var g = [], v = 0; v < c; v++) { var m = u + v * d; g.push({ unit: f, pts: m, dts: m }) } return t.samples = g, this.remuxAudio(t, e, r, !1) } w.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec") }, t }(); function wn(t, e) { var r; if (null === e) return t; for (r = e < t ? -8589934592 : 8589934592; Math.abs(t - e) > 4294967296;)t += r; return t } function Cn(t, e, r, i) { var n = t.samples.length; if (n) { for (var a = t.inputTimeScale, s = 0; s < n; s++) { var o = t.samples[s]; o.pts = wn(o.pts - r.baseTime * a / r.timescale, e * a) / a, o.dts = wn(o.dts - i.baseTime * a / i.timescale, e * a) / a } var l = t.samples; return t.samples = [], { samples: l } } } function _n(t, e, r) { var i = t.samples.length; if (i) { for (var n = t.inputTimeScale, a = 0; a < i; a++) { var s = t.samples[a]; s.pts = wn(s.pts - r.baseTime * n / r.timescale, e * n) / n } t.samples.sort((function (t, e) { return t.pts - e.pts })); var o = t.samples; return t.samples = [], { samples: o } } } var xn, Pn = function (t, e, r, i) { this.size = void 0, this.duration = void 0, this.cts = void 0, this.flags = void 0, this.duration = e, this.size = r, this.cts = i, this.flags = { isLeading: 0, isDependedOn: 0, hasRedundancy: 0, degradPrio: 0, dependsOn: t ? 2 : 1, isNonSync: t ? 0 : 1 } }, Fn = function () { function t() { this.emitInitSegment = !1, this.audioCodec = void 0, this.videoCodec = void 0, this.initData = void 0, this.initPTS = null, this.initTracks = void 0, this.lastEndTime = null } var e = t.prototype; return e.destroy = function () { }, e.resetTimeStamp = function (t) { this.initPTS = t, this.lastEndTime = null }, e.resetNextTimestamp = function () { this.lastEndTime = null }, e.resetInitSegment = function (t, e, r, i) { this.audioCodec = e, this.videoCodec = r, this.generateInitSegment(function (t, e) { if (!t || !e) return t; var r = e.keyId; return r && e.isCommonEncryption && Ot(t, ["moov", "trak"]).forEach((function (t) { var e = Ot(t, ["mdia", "minf", "stbl", "stsd"])[0].subarray(8), i = Ot(e, ["enca"]), n = i.length > 0; n || (i = Ot(e, ["encv"])), i.forEach((function (t) { Ot(n ? t.subarray(28) : t.subarray(78), ["sinf"]).forEach((function (t) { var e = Vt(t); if (e) { var i = e.subarray(8, 24); i.some((function (t) { return 0 !== t })) || (w.log("[eme] Patching keyId in 'enc" + (n ? "a" : "v") + ">sinf>>tenc' box: " + kt.hexDump(i) + " -> " + kt.hexDump(r)), e.set(r, 8)) } })) })) })), t }(t, i)), this.emitInitSegment = !0 }, e.generateInitSegment = function (t) { var e = this.audioCodec, r = this.videoCodec; if (null == t || !t.byteLength) return this.initTracks = void 0, void (this.initData = void 0); var i = this.initData = Ut(t); i.audio && (e = Mn(i.audio, O)), i.video && (r = Mn(i.video, N)); var n = {}; i.audio && i.video ? n.audiovideo = { container: "video/mp4", codec: e + "," + r, initSegment: t, id: "main" } : i.audio ? n.audio = { container: "audio/mp4", codec: e, initSegment: t, id: "audio" } : i.video ? n.video = { container: "video/mp4", codec: r, initSegment: t, id: "main" } : w.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."), this.initTracks = n }, e.remux = function (t, e, r, i, n, a) { var s, o, l = this.initPTS, u = this.lastEndTime, h = { audio: void 0, video: void 0, text: i, id3: r, initSegment: void 0 }; y(u) || (u = this.lastEndTime = n || 0); var d = e.samples; if (null == d || !d.length) return h; var c = { initPTS: void 0, timescale: 1 }, f = this.initData; if (null != (s = f) && s.length || (this.generateInitSegment(d), f = this.initData), null == (o = f) || !o.length) return w.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."), h; this.emitInitSegment && (c.tracks = this.initTracks, this.emitInitSegment = !1); var g = function (t, e) { for (var r = 0, i = 0, n = 0, a = Ot(t, ["moof", "traf"]), s = 0; s < a.length; s++) { var o = a[s], l = Ot(o, ["tfhd"])[0], u = e[xt(l, 4)]; if (u) { var h = u.default, d = xt(l, 0) | (null == h ? void 0 : h.flags), c = null == h ? void 0 : h.duration; 8 & d && (c = xt(l, 2 & d ? 12 : 8)); for (var f = u.timescale || 9e4, g = Ot(o, ["trun"]), v = 0; v < g.length; v++)!(r = Yt(g[v])) && c && (r = c * xt(g[v], 4)), u.type === N ? i += r / f : u.type === O && (n += r / f) } } if (0 === i && 0 === n) { for (var m = 1 / 0, p = 0, E = 0, T = Ot(t, ["sidx"]), S = 0; S < T.length; S++) { var L = Nt(T[S]); if (null != L && L.references) { m = Math.min(m, L.earliestPresentationTime / L.timescale); var A = L.references.reduce((function (t, e) { return t + e.info.duration || 0 }), 0); E = (p = Math.max(p, A + L.earliestPresentationTime / L.timescale)) - m } } if (E && y(E)) return E } return i || n }(d, f), v = function (t, e) { return Ot(e, ["moof", "traf"]).reduce((function (e, r) { var i = Ot(r, ["tfdt"])[0], n = i[0], a = Ot(r, ["tfhd"]).reduce((function (e, r) { var a = xt(r, 4), s = t[a]; if (s) { var o = xt(i, 4); if (1 === n) { if (o === Dt) return w.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"), e; o *= Dt + 1, o += xt(i, 8) } var l = o / (s.timescale || 9e4); if (y(l) && (null === e || l < e)) return l } return e }), null); return null !== a && y(a) && (null === e || a < e) ? a : e }), null) }(f, d), m = null === v ? n : v; (function (t, e, r, i) { if (null === t) return !0; var n = Math.max(i, 1), a = e - t.baseTime / t.timescale; return Math.abs(a - r) > n }(l, m, n, g) || c.timescale !== l.timescale && a) && (c.initPTS = m - n, l && 1 === l.timescale && w.warn("Adjusting initPTS by " + (c.initPTS - l.baseTime)), this.initPTS = l = { baseTime: c.initPTS, timescale: 1 }); var p = t ? m - l.baseTime / l.timescale : u, E = p + g; !function (t, e, r) { Ot(e, ["moof", "traf"]).forEach((function (e) { Ot(e, ["tfhd"]).forEach((function (i) { var n = xt(i, 4), a = t[n]; if (a) { var s = a.timescale || 9e4; Ot(e, ["tfdt"]).forEach((function (t) { var e = t[0], i = r * s; if (i) { var n = xt(t, 4); if (0 === e) n -= i, Mt(t, 4, n = Math.max(n, 0)); else { n *= Math.pow(2, 32), n += xt(t, 8), n -= i, n = Math.max(n, 0); var a = Math.floor(n / (Dt + 1)), o = Math.floor(n % (Dt + 1)); Mt(t, 4, a), Mt(t, 8, o) } } })) } })) })) }(f, d, l.baseTime / l.timescale), g > 0 ? this.lastEndTime = E : (w.warn("Duration parsed from mp4 should be greater than zero"), this.resetNextTimestamp()); var T = !!f.audio, S = !!f.video, L = ""; T && (L += "audio"), S && (L += "video"); var A = { data1: d, startPTS: p, startDTS: p, endPTS: E, endDTS: E, type: L, hasAudio: T, hasVideo: S, nb: 1, dropped: 0 }; return h.audio = "audio" === A.type ? A : void 0, h.video = "audio" !== A.type ? A : void 0, h.initSegment = c, h.id3 = Cn(r, n, l, l), i.samples.length && (h.text = _n(i, n, l)), h }, t }(); function Mn(t, e) { var r = null == t ? void 0 : t.codec; if (r && r.length > 4) return r; if (e === O) { if ("ec-3" === r || "ac-3" === r || "alac" === r) return r; if ("fLaC" === r || "Opus" === r) return ve(r, !1); var i = "mp4a.40.5"; return w.info('Parsed audio codec "' + r + '" or audio object type not handled. Using "' + i + '"'), i } return w.warn('Unhandled video codec "' + r + '"'), "hvc1" === r || "hev1" === r ? "hvc1.1.6.L120.90" : "av01" === r ? "av01.0.04M.08" : "avc1.42e01e" } try { xn = self.performance.now.bind(self.performance) } catch (t) { w.debug("Unable to use Performance API on this environment"), xn = null == j ? void 0 : j.Date.now } var On = [{ demux: rn, remux: Fn }, { demux: cn, remux: In }, { demux: tn, remux: In }, { demux: En, remux: In }]; On.splice(2, 0, { demux: an, remux: In }); var Nn = function () { function t(t, e, r, i, n) { this.async = !1, this.observer = void 0, this.typeSupported = void 0, this.config = void 0, this.vendor = void 0, this.id = void 0, this.demuxer = void 0, this.remuxer = void 0, this.decrypter = void 0, this.probe = void 0, this.decryptionPromise = null, this.transmuxConfig = void 0, this.currentTransmuxState = void 0, this.observer = t, this.typeSupported = e, this.config = r, this.vendor = i, this.id = n } var e = t.prototype; return e.configure = function (t) { this.transmuxConfig = t, this.decrypter && this.decrypter.reset() }, e.push = function (t, e, r, i) { var n = this, a = r.transmuxing; a.executeStart = xn(); var s = new Uint8Array(t), o = this.currentTransmuxState, l = this.transmuxConfig; i && (this.currentTransmuxState = i); var u = i || o, h = u.contiguous, d = u.discontinuity, c = u.trackSwitch, f = u.accurateTimeOffset, g = u.timeOffset, v = u.initSegmentChange, m = l.audioCodec, p = l.videoCodec, y = l.defaultInitPts, E = l.duration, T = l.initSegmentData, R = function (t, e) { var r = null; return t.byteLength > 0 && null != (null == e ? void 0 : e.key) && null !== e.iv && null != e.method && (r = e), r }(s, e); if (R && "AES-128" === R.method) { var b = this.getDecrypter(); if (!b.isSync()) return this.decryptionPromise = b.webCryptoDecrypt(s, R.key.buffer, R.iv.buffer).then((function (t) { var e = n.push(t, null, r); return n.decryptionPromise = null, e })), this.decryptionPromise; var k = b.softwareDecrypt(s, R.key.buffer, R.iv.buffer); if (r.part > -1 && (k = b.flush()), !k) return a.executeEnd = xn(), Un(r); s = new Uint8Array(k) } var D = this.needsProbing(d, c); if (D) { var I = this.configureTransmuxer(s); if (I) return w.warn("[transmuxer] " + I.message), this.observer.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: I, reason: I.message }), a.executeEnd = xn(), Un(r) } (d || c || v || D) && this.resetInitSegment(T, m, p, E, e), (d || v || D) && this.resetInitialTimestamp(y), h || this.resetContiguity(); var C = this.transmux(s, R, g, f, r), _ = this.currentTransmuxState; return _.contiguous = !0, _.discontinuity = !1, _.trackSwitch = !1, a.executeEnd = xn(), C }, e.flush = function (t) { var e = this, r = t.transmuxing; r.executeStart = xn(); var i = this.decrypter, n = this.currentTransmuxState, a = this.decryptionPromise; if (a) return a.then((function () { return e.flush(t) })); var s = [], o = n.timeOffset; if (i) { var l = i.flush(); l && s.push(this.push(l, null, t)) } var u = this.demuxer, h = this.remuxer; if (!u || !h) return r.executeEnd = xn(), [Un(t)]; var d = u.flush(o); return Bn(d) ? d.then((function (r) { return e.flushRemux(s, r, t), s })) : (this.flushRemux(s, d, t), s) }, e.flushRemux = function (t, e, r) { var i = e.audioTrack, n = e.videoTrack, a = e.id3Track, s = e.textTrack, o = this.currentTransmuxState, l = o.accurateTimeOffset, u = o.timeOffset; w.log("[transmuxer.ts]: Flushed fragment " + r.sn + (r.part > -1 ? " p: " + r.part : "") + " of level " + r.level); var h = this.remuxer.remux(i, n, a, s, u, l, !0, this.id); t.push({ remuxResult: h, chunkMeta: r }), r.transmuxing.executeEnd = xn() }, e.resetInitialTimestamp = function (t) { var e = this.demuxer, r = this.remuxer; e && r && (e.resetTimeStamp(t), r.resetTimeStamp(t)) }, e.resetContiguity = function () { var t = this.demuxer, e = this.remuxer; t && e && (t.resetContiguity(), e.resetNextTimestamp()) }, e.resetInitSegment = function (t, e, r, i, n) { var a = this.demuxer, s = this.remuxer; a && s && (a.resetInitSegment(t, e, r, i), s.resetInitSegment(t, e, r, n)) }, e.destroy = function () { this.demuxer && (this.demuxer.destroy(), this.demuxer = void 0), this.remuxer && (this.remuxer.destroy(), this.remuxer = void 0) }, e.transmux = function (t, e, r, i, n) { return e && "SAMPLE-AES" === e.method ? this.transmuxSampleAes(t, e, r, i, n) : this.transmuxUnencrypted(t, r, i, n) }, e.transmuxUnencrypted = function (t, e, r, i) { var n = this.demuxer.demux(t, e, !1, !this.config.progressive), a = n.audioTrack, s = n.videoTrack, o = n.id3Track, l = n.textTrack; return { remuxResult: this.remuxer.remux(a, s, o, l, e, r, !1, this.id), chunkMeta: i } }, e.transmuxSampleAes = function (t, e, r, i, n) { var a = this; return this.demuxer.demuxSampleAes(t, e, r).then((function (t) { return { remuxResult: a.remuxer.remux(t.audioTrack, t.videoTrack, t.id3Track, t.textTrack, r, i, !1, a.id), chunkMeta: n } })) }, e.configureTransmuxer = function (t) { for (var e, r = this.config, i = this.observer, n = this.typeSupported, a = this.vendor, s = 0, o = On.length; s < o; s++) { var l; if (null != (l = On[s].demux) && l.probe(t)) { e = On[s]; break } } if (!e) return new Error("Failed to find demuxer by probing fragment data"); var u = this.demuxer, h = this.remuxer, d = e.remux, c = e.demux; h && h instanceof d || (this.remuxer = new d(i, r, n, a)), u && u instanceof c || (this.demuxer = new c(i, r, n), this.probe = c.probe) }, e.needsProbing = function (t, e) { return !this.demuxer || !this.remuxer || t || e }, e.getDecrypter = function () { var t = this.decrypter; return t || (t = this.decrypter = new pi(this.config)), t }, t }(), Un = function (t) { return { remuxResult: {}, chunkMeta: t } }; function Bn(t) { return "then" in t && t.then instanceof Function } var Gn = function (t, e, r, i, n) { this.audioCodec = void 0, this.videoCodec = void 0, this.initSegmentData = void 0, this.duration = void 0, this.defaultInitPts = void 0, this.audioCodec = t, this.videoCodec = e, this.initSegmentData = r, this.duration = i, this.defaultInitPts = n || null }, Kn = function (t, e, r, i, n, a) { this.discontinuity = void 0, this.contiguous = void 0, this.accurateTimeOffset = void 0, this.trackSwitch = void 0, this.timeOffset = void 0, this.initSegmentChange = void 0, this.discontinuity = t, this.contiguous = e, this.accurateTimeOffset = r, this.trackSwitch = i, this.timeOffset = n, this.initSegmentChange = a }, Hn = { exports: {} }; !function (t) { var e = Object.prototype.hasOwnProperty, r = "~"; function i() { } function n(t, e, r) { this.fn = t, this.context = e, this.once = r || !1 } function a(t, e, i, a, s) { if ("function" != typeof i) throw new TypeError("The listener must be a function"); var o = new n(i, a || t, s), l = r ? r + e : e; return t._events[l] ? t._events[l].fn ? t._events[l] = [t._events[l], o] : t._events[l].push(o) : (t._events[l] = o, t._eventsCount++), t } function s(t, e) { 0 == --t._eventsCount ? t._events = new i : delete t._events[e] } function o() { this._events = new i, this._eventsCount = 0 } Object.create && (i.prototype = Object.create(null), (new i).__proto__ || (r = !1)), o.prototype.eventNames = function () { var t, i, n = []; if (0 === this._eventsCount) return n; for (i in t = this._events) e.call(t, i) && n.push(r ? i.slice(1) : i); return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n }, o.prototype.listeners = function (t) { var e = r ? r + t : t, i = this._events[e]; if (!i) return []; if (i.fn) return [i.fn]; for (var n = 0, a = i.length, s = new Array(a); n < a; n++)s[n] = i[n].fn; return s }, o.prototype.listenerCount = function (t) { var e = r ? r + t : t, i = this._events[e]; return i ? i.fn ? 1 : i.length : 0 }, o.prototype.emit = function (t, e, i, n, a, s) { var o = r ? r + t : t; if (!this._events[o]) return !1; var l, u, h = this._events[o], d = arguments.length; if (h.fn) { switch (h.once && this.removeListener(t, h.fn, void 0, !0), d) { case 1: return h.fn.call(h.context), !0; case 2: return h.fn.call(h.context, e), !0; case 3: return h.fn.call(h.context, e, i), !0; case 4: return h.fn.call(h.context, e, i, n), !0; case 5: return h.fn.call(h.context, e, i, n, a), !0; case 6: return h.fn.call(h.context, e, i, n, a, s), !0 }for (u = 1, l = new Array(d - 1); u < d; u++)l[u - 1] = arguments[u]; h.fn.apply(h.context, l) } else { var c, f = h.length; for (u = 0; u < f; u++)switch (h[u].once && this.removeListener(t, h[u].fn, void 0, !0), d) { case 1: h[u].fn.call(h[u].context); break; case 2: h[u].fn.call(h[u].context, e); break; case 3: h[u].fn.call(h[u].context, e, i); break; case 4: h[u].fn.call(h[u].context, e, i, n); break; default: if (!l) for (c = 1, l = new Array(d - 1); c < d; c++)l[c - 1] = arguments[c]; h[u].fn.apply(h[u].context, l) } } return !0 }, o.prototype.on = function (t, e, r) { return a(this, t, e, r, !1) }, o.prototype.once = function (t, e, r) { return a(this, t, e, r, !0) }, o.prototype.removeListener = function (t, e, i, n) { var a = r ? r + t : t; if (!this._events[a]) return this; if (!e) return s(this, a), this; var o = this._events[a]; if (o.fn) o.fn !== e || n && !o.once || i && o.context !== i || s(this, a); else { for (var l = 0, u = [], h = o.length; l < h; l++)(o[l].fn !== e || n && !o[l].once || i && o[l].context !== i) && u.push(o[l]); u.length ? this._events[a] = 1 === u.length ? u[0] : u : s(this, a) } return this }, o.prototype.removeAllListeners = function (t) { var e; return t ? (e = r ? r + t : t, this._events[e] && s(this, e)) : (this._events = new i, this._eventsCount = 0), this }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prefixed = r, o.EventEmitter = o, t.exports = o }(Hn); var Vn = v(Hn.exports); function Yn(t, e) { if (!((r = e.remuxResult).audio || r.video || r.text || r.id3 || r.initSegment)) return !1; var r, i = [], n = e.remuxResult, a = n.audio, s = n.video; return a && Wn(i, a), s && Wn(i, s), t.postMessage({ event: "transmuxComplete", data: e }, i), !0 } function Wn(t, e) { e.data1 && t.push(e.data1.buffer), e.data2 && t.push(e.data2.buffer) } function jn(t, e, r) { e.reduce((function (e, r) { return Yn(t, r) || e }), !1) || t.postMessage({ event: "transmuxComplete", data: e[0] }), t.postMessage({ event: "flush", data: r }) } void 0 !== e && e && function (t) { var e = new Vn, r = function (e, r) { t.postMessage({ event: e, data: r }) }; e.on(S.FRAG_DECRYPTED, r), e.on(S.ERROR, r); var i = function () { var t = function (t) { var e = function (e) { r("workerLog", { logType: t, message: e }) }; w[t] = e }; for (var e in w) t(e) }; t.addEventListener("message", (function (n) { var a = n.data; switch (a.cmd) { case "init": var s = JSON.parse(a.config); t.transmuxer = new Nn(e, a.typeSupported, s, "", a.id), I(s.debug, a.id), i(), r("init", null); break; case "configure": t.transmuxer.configure(a.config); break; case "demux": var o = t.transmuxer.push(a.data, a.decryptdata, a.chunkMeta, a.state); Bn(o) ? (t.transmuxer.async = !0, o.then((function (e) { Yn(t, e) })).catch((function (t) { r(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: a.chunkMeta, fatal: !1, error: t, err: t, reason: "transmuxer-worker push error" }) }))) : (t.transmuxer.async = !1, Yn(t, o)); break; case "flush": var l = a.chunkMeta, u = t.transmuxer.flush(l); Bn(u) || t.transmuxer.async ? (Bn(u) || (u = Promise.resolve(u)), u.then((function (e) { jn(t, e, l) })).catch((function (t) { r(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: a.chunkMeta, fatal: !1, error: t, err: t, reason: "transmuxer-worker flush error" }) }))) : jn(t, u, l) } })) }(self); var qn = function () { function e(e, r, i, n) { var a = this; this.error = null, this.hls = void 0, this.id = void 0, this.observer = void 0, this.frag = null, this.part = null, this.useWorker = void 0, this.workerContext = null, this.onwmsg = void 0, this.transmuxer = null, this.onTransmuxComplete = void 0, this.onFlush = void 0; var s = e.config; this.hls = e, this.id = r, this.useWorker = !!s.enableWorker, this.onTransmuxComplete = i, this.onFlush = n; var o = function (t, e) { (e = e || {}).frag = a.frag, e.id = a.id, t === S.ERROR && (a.error = e.error), a.hls.trigger(t, e) }; this.observer = new Vn, this.observer.on(S.FRAG_DECRYPTED, o), this.observer.on(S.ERROR, o); var l, u, h, d, c = se(s.preferManagedMediaSource) || { isTypeSupported: function () { return !1 } }, f = { mpeg: c.isTypeSupported("audio/mpeg"), mp3: c.isTypeSupported('audio/mp4; codecs="mp3"'), ac3: c.isTypeSupported('audio/mp4; codecs="ac-3"') }; if (!this.useWorker || "undefined" == typeof Worker || (s.workerPath, 0)) this.transmuxer = new Nn(this.observer, f, s, "", r); else try { s.workerPath ? (w.log("loading Web Worker " + s.workerPath + ' for "' + r + '"'), this.workerContext = (h = s.workerPath, d = new self.URL(h, self.location.href).href, { worker: new self.Worker(d), scriptURL: d })) : (w.log('injecting Web Worker for "' + r + '"'), this.workerContext = (l = new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(" + t.toString() + ")(true);"], { type: "text/javascript" }), u = self.URL.createObjectURL(l), { worker: new self.Worker(u), objectURL: u })), this.onwmsg = function (t) { return a.onWorkerMessage(t) }; var g = this.workerContext.worker; g.addEventListener("message", this.onwmsg), g.onerror = function (t) { var e = new Error(t.message + "  (" + t.filename + ":" + t.lineno + ")"); s.enableWorker = !1, w.warn('Error in "' + r + '" Web Worker, fallback to inline'), a.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, fatal: !1, event: "demuxerWorker", error: e }) }, g.postMessage({ cmd: "init", typeSupported: f, vendor: "", id: r, config: JSON.stringify(s) }) } catch (t) { w.warn('Error setting up "' + r + '" Web Worker, fallback to inline', t), this.resetWorker(), this.error = null, this.transmuxer = new Nn(this.observer, f, s, "", r) } } var r = e.prototype; return r.resetWorker = function () { if (this.workerContext) { var t = this.workerContext, e = t.worker, r = t.objectURL; r && self.URL.revokeObjectURL(r), e.removeEventListener("message", this.onwmsg), e.onerror = null, e.terminate(), this.workerContext = null } }, r.destroy = function () { if (this.workerContext) this.resetWorker(), this.onwmsg = void 0; else { var t = this.transmuxer; t && (t.destroy(), this.transmuxer = null) } var e = this.observer; e && e.removeAllListeners(), this.frag = null, this.observer = null, this.hls = null }, r.push = function (t, e, r, i, n, a, s, o, l, u) { var h, d, c = this; l.transmuxing.start = self.performance.now(); var f = this.transmuxer, g = a ? a.start : n.start, v = n.decryptdata, m = this.frag, p = !(m && n.cc === m.cc), y = !(m && l.level === m.level), E = m ? l.sn - m.sn : -1, T = this.part ? l.part - this.part.index : -1, S = 0 === E && l.id > 1 && l.id === (null == m ? void 0 : m.stats.chunkCount), L = !y && (1 === E || 0 === E && (1 === T || S && T <= 0)), A = self.performance.now(); (y || E || 0 === n.stats.parsing.start) && (n.stats.parsing.start = A), !a || !T && L || (a.stats.parsing.start = A); var R = !(m && (null == (h = n.initSegment) ? void 0 : h.url) === (null == (d = m.initSegment) ? void 0 : d.url)), b = new Kn(p, L, o, y, g, R); if (!L || p || R) { w.log("[transmuxer-interface, " + n.type + "]: Starting new transmux session for sn: " + l.sn + " p: " + l.part + " level: " + l.level + " id: " + l.id + "\n        discontinuity: " + p + "\n        trackSwitch: " + y + "\n        contiguous: " + L + "\n        accurateTimeOffset: " + o + "\n        timeOffset: " + g + "\n        initSegmentChange: " + R); var k = new Gn(r, i, e, s, u); this.configureTransmuxer(k) } if (this.frag = n, this.part = a, this.workerContext) this.workerContext.worker.postMessage({ cmd: "demux", data: t, decryptdata: v, chunkMeta: l, state: b }, t instanceof ArrayBuffer ? [t] : []); else if (f) { var D = f.push(t, v, l, b); Bn(D) ? (f.async = !0, D.then((function (t) { c.handleTransmuxComplete(t) })).catch((function (t) { c.transmuxerError(t, l, "transmuxer-interface push error") }))) : (f.async = !1, this.handleTransmuxComplete(D)) } }, r.flush = function (t) { var e = this; t.transmuxing.start = self.performance.now(); var r = this.transmuxer; if (this.workerContext) this.workerContext.worker.postMessage({ cmd: "flush", chunkMeta: t }); else if (r) { var i = r.flush(t); Bn(i) || r.async ? (Bn(i) || (i = Promise.resolve(i)), i.then((function (r) { e.handleFlushResult(r, t) })).catch((function (r) { e.transmuxerError(r, t, "transmuxer-interface flush error") }))) : this.handleFlushResult(i, t) } }, r.transmuxerError = function (t, e, r) { this.hls && (this.error = t, this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: e, frag: this.frag || void 0, fatal: !1, error: t, err: t, reason: r })) }, r.handleFlushResult = function (t, e) { var r = this; t.forEach((function (t) { r.handleTransmuxComplete(t) })), this.onFlush(e) }, r.onWorkerMessage = function (t) { var e = t.data; if (null != e && e.event) { var r = this.hls; if (this.hls) switch (e.event) { case "init": var i, n = null == (i = this.workerContext) ? void 0 : i.objectURL; n && self.URL.revokeObjectURL(n); break; case "transmuxComplete": this.handleTransmuxComplete(e.data); break; case "flush": this.onFlush(e.data); break; case "workerLog": w[e.data.logType] && w[e.data.logType](e.data.message); break; default: e.data = e.data || {}, e.data.frag = this.frag, e.data.id = this.id, r.trigger(e.event, e.data) } } else w.warn("worker message received with no " + (e ? "event name" : "data")) }, r.configureTransmuxer = function (t) { var e = this.transmuxer; this.workerContext ? this.workerContext.worker.postMessage({ cmd: "configure", config: t }) : e && e.configure(t) }, r.handleTransmuxComplete = function (t) { t.chunkMeta.transmuxing.end = self.performance.now(), this.onTransmuxComplete(t) }, e }(); function Xn(t, e) { if (t.length !== e.length) return !1; for (var r = 0; r < t.length; r++)if (!zn(t[r].attrs, e[r].attrs)) return !1; return !0 } function zn(t, e, r) { var i = t["STABLE-RENDITION-ID"]; return i && !r ? i === e["STABLE-RENDITION-ID"] : !(r || ["LANGUAGE", "NAME", "CHARACTERISTICS", "AUTOSELECT", "DEFAULT", "FORCED", "ASSOC-LANGUAGE"]).some((function (r) { return t[r] !== e[r] })) } function Qn(t, e) { return e.label.toLowerCase() === t.name.toLowerCase() && (!e.language || e.language.toLowerCase() === (t.lang || "").toLowerCase()) } var Jn = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[audio-stream-controller]", Me) || this).videoBuffer = null, n.videoTrackCC = -1, n.waitingVideoCC = -1, n.bufferedTrack = null, n.switchingTrack = null, n.trackId = -1, n.waitingData = null, n.mainDetails = null, n.flushing = !1, n.bufferFlushed = !1, n.cachedTrackLoadedData = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this), this.mainDetails = null, this.bufferedTrack = null, this.switchingTrack = null }, r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this), t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.on(S.ERROR, this.onError, this), t.on(S.BUFFER_RESET, this.onBufferReset, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this), t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.off(S.ERROR, this.onError, this), t.off(S.BUFFER_RESET, this.onBufferReset, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.onInitPtsFound = function (t, e) { var r = e.frag, i = e.id, n = e.initPTS, a = e.timescale; if ("main" === i) { var s = r.cc; this.initPTS[r.cc] = { baseTime: n, timescale: a }, this.log("InitPTS for cc: " + s + " found from main: " + n), this.videoTrackCC = s, this.state === wi && this.tick() } }, r.startLoad = function (t) { if (!this.levels) return this.startPosition = t, void (this.state = Ei); var e = this.lastCurrentTime; this.stopLoad(), this.setInterval(100), e > 0 && -1 === t ? (this.log("Override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e, this.state = Ti) : (this.loadedmetadata = !1, this.state = Ri), this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() }, r.doTick = function () { switch (this.state) { case Ti: this.doTickIdle(); break; case Ri: var e, r = this.levels, i = this.trackId, n = null == r || null == (e = r[i]) ? void 0 : e.details; if (n) { if (this.waitForCdnTuneIn(n)) break; this.state = wi } break; case Ai: var a, s = performance.now(), o = this.retryDate; if (!o || s >= o || null != (a = this.media) && a.seeking) { var l = this.levels, u = this.trackId; this.log("RetryDate reached, switch back to IDLE state"), this.resetStartWhenNotLoaded((null == l ? void 0 : l[u]) || null), this.state = Ti } break; case wi: var h = this.waitingData; if (h) { var d = h.frag, c = h.part, f = h.cache, g = h.complete; if (void 0 !== this.initPTS[d.cc]) { this.waitingData = null, this.waitingVideoCC = -1, this.state = Li; var v = { frag: d, part: c, payload: f.flush(), networkDetails: null }; this._handleFragmentLoadProgress(v), g && t.prototype._handleFragmentLoadComplete.call(this, v) } else if (this.videoTrackCC !== this.waitingVideoCC) this.log("Waiting fragment cc (" + d.cc + ") cancelled because video is at cc " + this.videoTrackCC), this.clearWaitingFragment(); else { var m = this.getLoadPosition(), p = ri.bufferInfo(this.mediaBuffer, m, this.config.maxBufferHole); Rr(p.end, this.config.maxFragLookUpTolerance, d) < 0 && (this.log("Waiting fragment cc (" + d.cc + ") @ " + d.start + " cancelled because another fragment at " + p.end + " is needed"), this.clearWaitingFragment()) } } else this.state = Ti }this.onTickEnd() }, r.clearWaitingFragment = function () { var t = this.waitingData; t && (this.fragmentTracker.removeFragment(t.frag), this.waitingData = null, this.waitingVideoCC = -1, this.state = Ti) }, r.resetLoadingState = function () { this.clearWaitingFragment(), t.prototype.resetLoadingState.call(this) }, r.onTickEnd = function () { var t = this.media; null != t && t.readyState && (this.lastCurrentTime = t.currentTime) }, r.doTickIdle = function () { var t = this.hls, e = this.levels, r = this.media, i = this.trackId, n = t.config; if ((r || !this.startFragRequested && n.startFragPrefetch) && null != e && e[i]) { var a = e[i], s = a.details; if (!s || s.live && this.levelLastLoaded !== a || this.waitForCdnTuneIn(s)) this.state = Ri; else { var o = this.mediaBuffer ? this.mediaBuffer : this.media; this.bufferFlushed && o && (this.bufferFlushed = !1, this.afterBufferFlushed(o, O, Me)); var l = this.getFwdBufferInfo(o, Me); if (null !== l) { var u = this.bufferedTrack, h = this.switchingTrack; if (!h && this._streamEnded(l, s)) return t.trigger(S.BUFFER_EOS, { type: "audio" }), void (this.state = Di); var d = this.getFwdBufferInfo(this.videoBuffer ? this.videoBuffer : this.media, Fe), c = l.len, f = this.getMaxBufferLength(null == d ? void 0 : d.len), g = s.fragments, v = g[0].start, m = this.flushing ? this.getLoadPosition() : l.end; if (h && r) { var p = this.getLoadPosition(); u && !zn(h.attrs, u.attrs) && (m = p), s.PTSKnown && p < v && (l.end > v || l.nextStart) && (this.log("Alt audio track ahead of main track, seek to start of alt audio track"), r.currentTime = v + .05) } if (!(c >= f && !h && m < g[g.length - 1].start)) { var y = this.getNextFragment(m, s), E = !1; if (y && this.isLoopLoading(y, m) && (E = !!y.gap, y = this.getNextFragmentLoopLoading(y, s, l, Fe, f)), y) { var T = d && y.start > d.end + s.targetduration; if (T || (null == d || !d.len) && l.len) { var L = this.getAppendedFrag(y.start, Fe); if (null === L) return; if (E || (E = !!L.gap || !!T && 0 === d.len), T && !E || E && l.nextStart && l.nextStart < L.end) return } this.loadFragment(y, a, m) } else this.bufferFlushed = !0 } } } } }, r.getMaxBufferLength = function (e) { var r = t.prototype.getMaxBufferLength.call(this); return e ? Math.min(Math.max(r, e), this.config.maxMaxBufferLength) : r }, r.onMediaDetaching = function () { this.videoBuffer = null, this.bufferFlushed = this.flushing = !1, t.prototype.onMediaDetaching.call(this) }, r.onAudioTracksUpdated = function (t, e) { var r = e.audioTracks; this.resetTransmuxer(), this.levels = r.map((function (t) { return new or(t) })) }, r.onAudioTrackSwitching = function (t, e) { var r = !!e.url; this.trackId = e.id; var i = this.fragCurrent; i && (i.abortRequests(), this.removeUnbufferedFrags(i.start)), this.resetLoadingState(), r ? this.setInterval(100) : this.resetTransmuxer(), r ? (this.switchingTrack = e, this.state = Ti, this.flushAudioIfNeeded(e)) : (this.switchingTrack = null, this.bufferedTrack = e, this.state = Ei), this.tick() }, r.onManifestLoading = function () { this.fragmentTracker.removeAllFragments(), this.startPosition = this.lastCurrentTime = 0, this.bufferFlushed = this.flushing = !1, this.levels = this.mainDetails = this.waitingData = this.bufferedTrack = this.cachedTrackLoadedData = this.switchingTrack = null, this.startFragRequested = !1, this.trackId = this.videoTrackCC = this.waitingVideoCC = -1 }, r.onLevelLoaded = function (t, e) { this.mainDetails = e.details, null !== this.cachedTrackLoadedData && (this.hls.trigger(S.AUDIO_TRACK_LOADED, this.cachedTrackLoadedData), this.cachedTrackLoadedData = null) }, r.onAudioTrackLoaded = function (t, e) { var r; if (null != this.mainDetails) { var i = this.levels, n = e.details, a = e.id; if (i) { this.log("Audio track " + a + " loaded [" + n.startSN + "," + n.endSN + "]" + (n.lastPartSn ? "[part-" + n.lastPartSn + "-" + n.lastPartIndex + "]" : "") + ",duration:" + n.totalduration); var s = i[a], o = 0; if (n.live || null != (r = s.details) && r.live) { this.checkLiveUpdate(n); var l, u = this.mainDetails; if (n.deltaUpdateFailed || !u) return; !s.details && n.hasProgramDateTime && u.hasProgramDateTime ? (li(n, u), o = n.fragments[0].start) : o = this.alignPlaylists(n, s.details, null == (l = this.levelLastLoaded) ? void 0 : l.details) } s.details = n, this.levelLastLoaded = s, this.startFragRequested || !this.mainDetails && n.live || this.setStartPosition(this.mainDetails || n, o), this.state !== Ri || this.waitForCdnTuneIn(n) || (this.state = Ti), this.tick() } else this.warn("Audio tracks were reset while loading level " + a) } else this.cachedTrackLoadedData = e }, r._handleFragmentLoadProgress = function (t) { var e, r = t.frag, i = t.part, n = t.payload, a = this.config, s = this.trackId, o = this.levels; if (o) { var l = o[s]; if (l) { var u = l.details; if (!u) return this.warn("Audio track details undefined on fragment load progress"), void this.removeUnbufferedFrags(r.start); var h = a.defaultAudioCodec || l.audioCodec || "mp4a.40.2", d = this.transmuxer; d || (d = this.transmuxer = new qn(this.hls, Me, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this))); var c = this.initPTS[r.cc], f = null == (e = r.initSegment) ? void 0 : e.data; if (void 0 !== c) { var g = i ? i.index : -1, v = -1 !== g, m = new ii(r.level, r.sn, r.stats.chunkCount, n.byteLength, g, v); d.push(n, f, h, "", r, i, u.totalduration, !1, m, c) } else this.log("Unknown video PTS for cc " + r.cc + ", waiting for video PTS before demuxing audio frag " + r.sn + " of [" + u.startSN + " ," + u.endSN + "],track " + s), (this.waitingData = this.waitingData || { frag: r, part: i, cache: new xi, complete: !1 }).cache.push(new Uint8Array(n)), this.waitingVideoCC = this.videoTrackCC, this.state = wi } else this.warn("Audio track is undefined on fragment load progress") } else this.warn("Audio tracks were reset while fragment load was in progress. Fragment " + r.sn + " of level " + r.level + " will not be buffered") }, r._handleFragmentLoadComplete = function (e) { this.waitingData ? this.waitingData.complete = !0 : t.prototype._handleFragmentLoadComplete.call(this, e) }, r.onBufferReset = function () { this.mediaBuffer = this.videoBuffer = null, this.loadedmetadata = !1 }, r.onBufferCreated = function (t, e) { var r = e.tracks.audio; r && (this.mediaBuffer = r.buffer || null), e.tracks.video && (this.videoBuffer = e.tracks.video.buffer || null) }, r.onFragBuffered = function (t, e) { var r = e.frag, n = e.part; if (r.type === Me) if (this.fragContextChanged(r)) this.warn("Fragment " + r.sn + (n ? " p: " + n.index : "") + " of level " + r.level + " finished buffering, but was aborted. state: " + this.state + ", audioSwitch: " + (this.switchingTrack ? this.switchingTrack.name : "false")); else { if ("initSegment" !== r.sn) { this.fragPrevious = r; var a = this.switchingTrack; a && (this.bufferedTrack = a, this.switchingTrack = null, this.hls.trigger(S.AUDIO_TRACK_SWITCHED, i({}, a))) } this.fragBufferedComplete(r, n) } else if (!this.loadedmetadata && r.type === Fe) { var s = this.videoBuffer || this.media; s && ri.getBuffered(s).length && (this.loadedmetadata = !0) } }, r.onError = function (e, r) { var i; if (r.fatal) this.state = Ii; else switch (r.details) { case A.FRAG_GAP: case A.FRAG_PARSING_ERROR: case A.FRAG_DECRYPT_ERROR: case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: this.onFragmentOrKeyLoadError(Me, r); break; case A.AUDIO_TRACK_LOAD_ERROR: case A.AUDIO_TRACK_LOAD_TIMEOUT: case A.LEVEL_PARSING_ERROR: r.levelRetry || this.state !== Ri || (null == (i = r.context) ? void 0 : i.type) !== xe || (this.state = Ti); break; case A.BUFFER_APPEND_ERROR: case A.BUFFER_FULL_ERROR: if (!r.parent || "audio" !== r.parent) return; if (r.details === A.BUFFER_APPEND_ERROR) return void this.resetLoadingState(); this.reduceLengthAndFlushBuffer(r) && (this.bufferedTrack = null, t.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio")); break; case A.INTERNAL_EXCEPTION: this.recoverWorkerError(r) } }, r.onBufferFlushing = function (t, e) { e.type !== N && (this.flushing = !0) }, r.onBufferFlushed = function (t, e) { var r = e.type; if (r !== N) { this.flushing = !1, this.bufferFlushed = !0, this.state === Di && (this.state = Ti); var i = this.mediaBuffer || this.media; i && (this.afterBufferFlushed(i, r, Me), this.tick()) } }, r._handleTransmuxComplete = function (t) { var e, r = "audio", i = this.hls, n = t.remuxResult, a = t.chunkMeta, s = this.getCurrentContext(a); if (s) { var l = s.frag, u = s.part, h = s.level, d = h.details, c = n.audio, f = n.text, g = n.id3, v = n.initSegment; if (!this.fragContextChanged(l) && d) { if (this.state = bi, this.switchingTrack && c && this.completeAudioSwitch(this.switchingTrack), null != v && v.tracks) { var m = l.initSegment || l; this._bufferInitSegment(h, v.tracks, m, a), i.trigger(S.FRAG_PARSING_INIT_SEGMENT, { frag: m, id: r, tracks: v.tracks }) } if (c) { var p = c.startPTS, y = c.endPTS, E = c.startDTS, T = c.endDTS; u && (u.elementaryStreams[O] = { startPTS: p, endPTS: y, startDTS: E, endDTS: T }), l.setElementaryStreamInfo(O, p, y, E, T), this.bufferFragmentData(c, l, u, a) } if (null != g && null != (e = g.samples) && e.length) { var L = o({ id: r, frag: l, details: d }, g); i.trigger(S.FRAG_PARSING_METADATA, L) } if (f) { var A = o({ id: r, frag: l, details: d }, f); i.trigger(S.FRAG_PARSING_USERDATA, A) } } else this.fragmentTracker.removeFragment(l) } else this.resetWhenMissingContext(a) }, r._bufferInitSegment = function (t, e, r, i) { if (this.state === bi) { e.video && delete e.video; var n = e.audio; if (n) { n.id = "audio"; var a = t.audioCodec; this.log("Init audio buffer, container:" + n.container + ", codecs[level/parsed]=[" + a + "/" + n.codec + "]"), a && 1 === a.split(",").length && (n.levelCodec = a), this.hls.trigger(S.BUFFER_CODECS, e); var s = n.initSegment; if (null != s && s.byteLength) { var o = { type: "audio", frag: r, part: null, chunkMeta: i, parent: r.type, data: s }; this.hls.trigger(S.BUFFER_APPENDING, o) } this.tickImmediate() } } }, r.loadFragment = function (e, r, i) { var n, a = this.fragmentTracker.getState(e); if (this.fragCurrent = e, this.switchingTrack || a === Xr || a === Qr) if ("initSegment" === e.sn) this._loadInitSegment(e, r); else if (null != (n = r.details) && n.live && !this.initPTS[e.cc]) { this.log("Waiting for video PTS in continuity counter " + e.cc + " of live stream before loading audio fragment " + e.sn + " of level " + this.trackId), this.state = wi; var s = this.mainDetails; s && s.fragments[0].start !== r.details.fragments[0].start && li(r.details, s) } else this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i); else this.clearTrackerIfNeeded(e) }, r.flushAudioIfNeeded = function (e) { var r = this.media, i = this.bufferedTrack, n = null == i ? void 0 : i.attrs, a = e.attrs; r && n && (n.CHANNELS !== a.CHANNELS || i.name !== e.name || i.lang !== e.lang) && (this.log("Switching audio track : flushing all audio"), t.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio"), this.bufferedTrack = null) }, r.completeAudioSwitch = function (t) { var e = this.hls; this.flushAudioIfNeeded(t), this.bufferedTrack = t, this.switchingTrack = null, e.trigger(S.AUDIO_TRACK_SWITCHED, i({}, t)) }, e }(_i), $n = function (t) { function e(e) { var r; return (r = t.call(this, e, "[audio-track-controller]") || this).tracks = [], r.groupIds = null, r.tracksInGroup = [], r.trackId = -1, r.currentTrack = null, r.selectDefaultTrack = !0, r.registerListeners(), r } l(e, t); var r = e.prototype; return r.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.on(S.ERROR, this.onError, this) }, r.unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.off(S.ERROR, this.onError, this) }, r.destroy = function () { this.unregisterListeners(), this.tracks.length = 0, this.tracksInGroup.length = 0, this.currentTrack = null, t.prototype.destroy.call(this) }, r.onManifestLoading = function () { this.tracks = [], this.tracksInGroup = [], this.groupIds = null, this.currentTrack = null, this.trackId = -1, this.selectDefaultTrack = !0 }, r.onManifestParsed = function (t, e) { this.tracks = e.audioTracks || [] }, r.onAudioTrackLoaded = function (t, e) { var r = e.id, i = e.groupId, n = e.details, a = this.tracksInGroup[r]; if (a && a.groupId === i) { var s = a.details; a.details = e.details, this.log("Audio track " + r + ' "' + a.name + '" lang:' + a.lang + " group:" + i + " loaded [" + n.startSN + "-" + n.endSN + "]"), r === this.trackId && this.playlistLoaded(r, e, s) } else this.warn("Audio track with id:" + r + " and group:" + i + " not found in active group " + (null == a ? void 0 : a.groupId)) }, r.onLevelLoading = function (t, e) { this.switchLevel(e.level) }, r.onLevelSwitching = function (t, e) { this.switchLevel(e.level) }, r.switchLevel = function (t) { var e = this.hls.levels[t]; if (e) { var r = e.audioGroups || null, i = this.groupIds, n = this.currentTrack; if (!r || (null == i ? void 0 : i.length) !== (null == r ? void 0 : r.length) || null != r && r.some((function (t) { return -1 === (null == i ? void 0 : i.indexOf(t)) }))) { this.groupIds = r, this.trackId = -1, this.currentTrack = null; var a = this.tracks.filter((function (t) { return !r || -1 !== r.indexOf(t.groupId) })); if (a.length) this.selectDefaultTrack && !a.some((function (t) { return t.default })) && (this.selectDefaultTrack = !1), a.forEach((function (t, e) { t.id = e })); else if (!n && !this.tracksInGroup.length) return; this.tracksInGroup = a; var s = this.hls.config.audioPreference; if (!n && s) { var o = Hr(s, a, Yr); if (o > -1) n = a[o]; else { var l = Hr(s, this.tracks); n = this.tracks[l] } } var u = this.findTrackId(n); -1 === u && n && (u = this.findTrackId(null)); var h = { audioTracks: a }; this.log("Updating audio tracks, " + a.length + " track(s) found in group(s): " + (null == r ? void 0 : r.join(","))), this.hls.trigger(S.AUDIO_TRACKS_UPDATED, h); var d = this.trackId; if (-1 !== u && -1 === d) this.setAudioTrack(u); else if (a.length && -1 === d) { var c, f = new Error("No audio track selected for current audio group-ID(s): " + (null == (c = this.groupIds) ? void 0 : c.join(",")) + " track count: " + a.length); this.warn(f.message), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.AUDIO_TRACK_LOAD_ERROR, fatal: !0, error: f }) } } else this.shouldReloadPlaylist(n) && this.setAudioTrack(this.trackId) } }, r.onError = function (t, e) { !e.fatal && e.context && (e.context.type !== xe || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || (this.requestScheduled = -1, this.checkRetry(e))) }, r.setAudioOption = function (t) { var e = this.hls; if (e.config.audioPreference = t, t) { var r = this.allAudioTracks; if (this.selectDefaultTrack = !1, r.length) { var i = this.currentTrack; if (i && Vr(t, i, Yr)) return i; var n = Hr(t, this.tracksInGroup, Yr); if (n > -1) { var a = this.tracksInGroup[n]; return this.setAudioTrack(n), a } if (i) { var s = e.loadLevel; -1 === s && (s = e.firstAutoLevel); var o = function (t, e, r, i, n) { var a = e[i], s = e.reduce((function (t, e, r) { var i = e.uri; return (t[i] || (t[i] = [])).push(r), t }), {})[a.uri]; s.length > 1 && (i = Math.max.apply(Math, s)); var o = a.videoRange, l = a.frameRate, u = a.codecSet.substring(0, 4), h = Wr(e, i, (function (e) { if (e.videoRange !== o || e.frameRate !== l || e.codecSet.substring(0, 4) !== u) return !1; var i = e.audioGroups, a = r.filter((function (t) { return !i || -1 !== i.indexOf(t.groupId) })); return Hr(t, a, n) > -1 })); return h > -1 ? h : Wr(e, i, (function (e) { var i = e.audioGroups, a = r.filter((function (t) { return !i || -1 !== i.indexOf(t.groupId) })); return Hr(t, a, n) > -1 })) }(t, e.levels, r, s, Yr); if (-1 === o) return null; e.nextLoadLevel = o } if (t.channels || t.audioCodec) { var l = Hr(t, r); if (l > -1) return r[l] } } } return null }, r.setAudioTrack = function (t) { var e = this.tracksInGroup; if (t < 0 || t >= e.length) this.warn("Invalid audio track id: " + t); else { this.clearTimer(), this.selectDefaultTrack = !1; var r = this.currentTrack, n = e[t], a = n.details && !n.details.live; if (!(t === this.trackId && n === r && a || (this.log("Switching to audio-track " + t + ' "' + n.name + '" lang:' + n.lang + " group:" + n.groupId + " channels:" + n.channels), this.trackId = t, this.currentTrack = n, this.hls.trigger(S.AUDIO_TRACK_SWITCHING, i({}, n)), a))) { var s = this.switchParams(n.url, null == r ? void 0 : r.details, n.details); this.loadPlaylist(s) } } }, r.findTrackId = function (t) { for (var e = this.tracksInGroup, r = 0; r < e.length; r++) { var i = e[r]; if ((!this.selectDefaultTrack || i.default) && (!t || Vr(t, i, Yr))) return r } if (t) { for (var n = t.name, a = t.lang, s = t.assocLang, o = t.characteristics, l = t.audioCodec, u = t.channels, h = 0; h < e.length; h++)if (Vr({ name: n, lang: a, assocLang: s, characteristics: o, audioCodec: l, channels: u }, e[h], Yr)) return h; for (var d = 0; d < e.length; d++) { var c = e[d]; if (zn(t.attrs, c.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"])) return d } for (var f = 0; f < e.length; f++) { var g = e[f]; if (zn(t.attrs, g.attrs, ["LANGUAGE"])) return f } } return -1 }, r.loadPlaylist = function (e) { var r = this.currentTrack; if (this.shouldLoadPlaylist(r) && r) { t.prototype.loadPlaylist.call(this); var i = r.id, n = r.groupId, a = r.url; if (e) try { a = e.addDirectives(a) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } this.log("loading audio-track playlist " + i + ' "' + r.name + '" lang:' + r.lang + " group:" + n), this.clearTimer(), this.hls.trigger(S.AUDIO_TRACK_LOADING, { url: a, id: i, groupId: n, deliveryDirectives: e || null }) } }, s(e, [{ key: "allAudioTracks", get: function () { return this.tracks } }, { key: "audioTracks", get: function () { return this.tracksInGroup } }, { key: "audioTrack", get: function () { return this.trackId }, set: function (t) { this.selectDefaultTrack = !1, this.setAudioTrack(t) } }]), e }(Fr), Zn = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[subtitle-stream-controller]", Oe) || this).currentTrackId = -1, n.tracksBuffered = [], n.mainDetails = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this), this.mainDetails = null }, r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.ERROR, this.onError, this), t.on(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.on(S.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this), t.on(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.on(S.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.ERROR, this.onError, this), t.off(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.off(S.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this), t.off(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.off(S.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.startLoad = function (t) { this.stopLoad(), this.state = Ti, this.setInterval(500), this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() }, r.onManifestLoading = function () { this.mainDetails = null, this.fragmentTracker.removeAllFragments() }, r.onMediaDetaching = function () { this.tracksBuffered = [], t.prototype.onMediaDetaching.call(this) }, r.onLevelLoaded = function (t, e) { this.mainDetails = e.details }, r.onSubtitleFragProcessed = function (t, e) { var r = e.frag, i = e.success; if (this.fragPrevious = r, this.state = Ti, i) { var n = this.tracksBuffered[this.currentTrackId]; if (n) { for (var a, s = r.start, o = 0; o < n.length; o++)if (s >= n[o].start && s <= n[o].end) { a = n[o]; break } var l = r.start + r.duration; a ? a.end = l : (a = { start: s, end: l }, n.push(a)), this.fragmentTracker.fragBuffered(r), this.fragBufferedComplete(r, null) } } }, r.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset; if (0 === r && i !== Number.POSITIVE_INFINITY) { var n = i - 1; if (n <= 0) return; e.endOffsetSubtitles = Math.max(0, n), this.tracksBuffered.forEach((function (t) { for (var e = 0; e < t.length;)if (t[e].end <= n) t.shift(); else { if (!(t[e].start < n)) break; t[e].start = n, e++ } })), this.fragmentTracker.removeFragmentsInRange(r, n, Oe) } }, r.onFragBuffered = function (t, e) { var r; this.loadedmetadata || e.frag.type !== Fe || null != (r = this.media) && r.buffered.length && (this.loadedmetadata = !0) }, r.onError = function (t, e) { var r = e.frag; (null == r ? void 0 : r.type) === Oe && (e.details === A.FRAG_GAP && this.fragmentTracker.fragBuffered(r, !0), this.fragCurrent && this.fragCurrent.abortRequests(), this.state !== Ei && (this.state = Ti)) }, r.onSubtitleTracksUpdated = function (t, e) { var r = this, i = e.subtitleTracks; this.levels && Xn(this.levels, i) ? this.levels = i.map((function (t) { return new or(t) })) : (this.tracksBuffered = [], this.levels = i.map((function (t) { var e = new or(t); return r.tracksBuffered[e.id] = [], e })), this.fragmentTracker.removeFragmentsInRange(0, Number.POSITIVE_INFINITY, Oe), this.fragPrevious = null, this.mediaBuffer = null) }, r.onSubtitleTrackSwitch = function (t, e) { var r; if (this.currentTrackId = e.id, null != (r = this.levels) && r.length && -1 !== this.currentTrackId) { var i = this.levels[this.currentTrackId]; null != i && i.details ? this.mediaBuffer = this.mediaBufferTimeRanges : this.mediaBuffer = null, i && this.setInterval(500) } else this.clearInterval() }, r.onSubtitleTrackLoaded = function (t, e) { var r, i = this.currentTrackId, n = this.levels, a = e.details, s = e.id; if (n) { var o = n[s]; if (!(s >= n.length) && o) { this.log("Subtitle track " + s + " loaded [" + a.startSN + "," + a.endSN + "]" + (a.lastPartSn ? "[part-" + a.lastPartSn + "-" + a.lastPartIndex + "]" : "") + ",duration:" + a.totalduration), this.mediaBuffer = this.mediaBufferTimeRanges; var l = 0; if (a.live || null != (r = o.details) && r.live) { var u = this.mainDetails; if (a.deltaUpdateFailed || !u) return; var h, d = u.fragments[0]; o.details ? 0 === (l = this.alignPlaylists(a, o.details, null == (h = this.levelLastLoaded) ? void 0 : h.details)) && d && fr(a, l = d.start) : a.hasProgramDateTime && u.hasProgramDateTime ? (li(a, u), l = a.fragments[0].start) : d && fr(a, l = d.start) } o.details = a, this.levelLastLoaded = o, s === i && (this.startFragRequested || !this.mainDetails && a.live || this.setStartPosition(this.mainDetails || a, l), this.tick(), a.live && !this.fragCurrent && this.media && this.state === Ti && (Ar(null, a.fragments, this.media.currentTime, 0) || (this.warn("Subtitle playlist not aligned with playback"), o.details = void 0))) } } else this.warn("Subtitle tracks were reset while loading level " + s) }, r._handleFragmentLoadComplete = function (t) { var e = this, r = t.frag, i = t.payload, n = r.decryptdata, a = this.hls; if (!this.fragContextChanged(r) && i && i.byteLength > 0 && null != n && n.key && n.iv && "AES-128" === n.method) { var s = performance.now(); this.decrypter.decrypt(new Uint8Array(i), n.key.buffer, n.iv.buffer).catch((function (t) { throw a.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_DECRYPT_ERROR, fatal: !1, error: t, reason: t.message, frag: r }), t })).then((function (t) { var e = performance.now(); a.trigger(S.FRAG_DECRYPTED, { frag: r, payload: t, stats: { tstart: s, tdecrypt: e } }) })).catch((function (t) { e.warn(t.name + ": " + t.message), e.state = Ti })) } }, r.doTick = function () { if (this.media) { if (this.state === Ti) { var t = this.currentTrackId, e = this.levels, r = null == e ? void 0 : e[t]; if (!r || !e.length || !r.details) return; var i = this.config, n = this.getLoadPosition(), a = ri.bufferedInfo(this.tracksBuffered[this.currentTrackId] || [], n, i.maxBufferHole), s = a.end, o = a.len, l = this.getFwdBufferInfo(this.media, Fe), u = r.details; if (o > this.getMaxBufferLength(null == l ? void 0 : l.len) + u.levelTargetDuration) return; var h = u.fragments, d = h.length, c = u.edge, f = null, g = this.fragPrevious; if (s < c) { var v = i.maxFragLookUpTolerance, m = s > c - v ? 0 : v; !(f = Ar(g, h, Math.max(h[0].start, s), m)) && g && g.start < h[0].start && (f = h[0]) } else f = h[d - 1]; if (!f) return; if ("initSegment" !== (f = this.mapToInitFragWhenRequired(f)).sn) { var p = h[f.sn - u.startSN - 1]; p && p.cc === f.cc && this.fragmentTracker.getState(p) === Xr && (f = p) } this.fragmentTracker.getState(f) === Xr && this.loadFragment(f, r, s) } } else this.state = Ti }, r.getMaxBufferLength = function (e) { var r = t.prototype.getMaxBufferLength.call(this); return e ? Math.max(r, e) : r }, r.loadFragment = function (e, r, i) { this.fragCurrent = e, "initSegment" === e.sn ? this._loadInitSegment(e, r) : (this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i)) }, s(e, [{ key: "mediaBufferTimeRanges", get: function () { return new ta(this.tracksBuffered[this.currentTrackId] || []) } }]), e }(_i), ta = function (t) { this.buffered = void 0; var e = function (e, r, i) { if ((r >>>= 0) > i - 1) throw new DOMException("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + r + ") is greater than the maximum bound (" + i + ")"); return t[r][e] }; this.buffered = { get length() { return t.length }, end: function (r) { return e("end", r, t.length) }, start: function (r) { return e("start", r, t.length) } } }, ea = function (t) { function e(e) { var r; return (r = t.call(this, e, "[subtitle-track-controller]") || this).media = null, r.tracks = [], r.groupIds = null, r.tracksInGroup = [], r.trackId = -1, r.currentTrack = null, r.selectDefaultTrack = !0, r.queuedDefaultTrack = -1, r.asyncPollTrackChange = function () { return r.pollTrackChange(0) }, r.useTextTrackPolling = !1, r.subtitlePollingInterval = -1, r._subtitleDisplay = !0, r.onTextTracksChanged = function () { if (r.useTextTrackPolling || self.clearInterval(r.subtitlePollingInterval), r.media && r.hls.config.renderTextTracksNatively) { for (var t = null, e = Ye(r.media.textTracks), i = 0; i < e.length; i++)if ("hidden" === e[i].mode) t = e[i]; else if ("showing" === e[i].mode) { t = e[i]; break } var n = r.findTrackForTextTrack(t); r.subtitleTrack !== n && r.setSubtitleTrack(n) } }, r.registerListeners(), r } l(e, t); var r = e.prototype; return r.destroy = function () { this.unregisterListeners(), this.tracks.length = 0, this.tracksInGroup.length = 0, this.currentTrack = null, this.onTextTracksChanged = this.asyncPollTrackChange = null, t.prototype.destroy.call(this) }, r.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.on(S.ERROR, this.onError, this) }, r.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.off(S.ERROR, this.onError, this) }, r.onMediaAttached = function (t, e) { this.media = e.media, this.media && (this.queuedDefaultTrack > -1 && (this.subtitleTrack = this.queuedDefaultTrack, this.queuedDefaultTrack = -1), this.useTextTrackPolling = !(this.media.textTracks && "onchange" in this.media.textTracks), this.useTextTrackPolling ? this.pollTrackChange(500) : this.media.textTracks.addEventListener("change", this.asyncPollTrackChange)) }, r.pollTrackChange = function (t) { self.clearInterval(this.subtitlePollingInterval), this.subtitlePollingInterval = self.setInterval(this.onTextTracksChanged, t) }, r.onMediaDetaching = function () { this.media && (self.clearInterval(this.subtitlePollingInterval), this.useTextTrackPolling || this.media.textTracks.removeEventListener("change", this.asyncPollTrackChange), this.trackId > -1 && (this.queuedDefaultTrack = this.trackId), Ye(this.media.textTracks).forEach((function (t) { He(t) })), this.subtitleTrack = -1, this.media = null) }, r.onManifestLoading = function () { this.tracks = [], this.groupIds = null, this.tracksInGroup = [], this.trackId = -1, this.currentTrack = null, this.selectDefaultTrack = !0 }, r.onManifestParsed = function (t, e) { this.tracks = e.subtitleTracks }, r.onSubtitleTrackLoaded = function (t, e) { var r = e.id, i = e.groupId, n = e.details, a = this.tracksInGroup[r]; if (a && a.groupId === i) { var s = a.details; a.details = e.details, this.log("Subtitle track " + r + ' "' + a.name + '" lang:' + a.lang + " group:" + i + " loaded [" + n.startSN + "-" + n.endSN + "]"), r === this.trackId && this.playlistLoaded(r, e, s) } else this.warn("Subtitle track with id:" + r + " and group:" + i + " not found in active group " + (null == a ? void 0 : a.groupId)) }, r.onLevelLoading = function (t, e) { this.switchLevel(e.level) }, r.onLevelSwitching = function (t, e) { this.switchLevel(e.level) }, r.switchLevel = function (t) { var e = this.hls.levels[t]; if (e) { var r = e.subtitleGroups || null, i = this.groupIds, n = this.currentTrack; if (!r || (null == i ? void 0 : i.length) !== (null == r ? void 0 : r.length) || null != r && r.some((function (t) { return -1 === (null == i ? void 0 : i.indexOf(t)) }))) { this.groupIds = r, this.trackId = -1, this.currentTrack = null; var a = this.tracks.filter((function (t) { return !r || -1 !== r.indexOf(t.groupId) })); if (a.length) this.selectDefaultTrack && !a.some((function (t) { return t.default })) && (this.selectDefaultTrack = !1), a.forEach((function (t, e) { t.id = e })); else if (!n && !this.tracksInGroup.length) return; this.tracksInGroup = a; var s = this.hls.config.subtitlePreference; if (!n && s) { this.selectDefaultTrack = !1; var o = Hr(s, a); if (o > -1) n = a[o]; else { var l = Hr(s, this.tracks); n = this.tracks[l] } } var u = this.findTrackId(n); -1 === u && n && (u = this.findTrackId(null)); var h = { subtitleTracks: a }; this.log("Updating subtitle tracks, " + a.length + ' track(s) found in "' + (null == r ? void 0 : r.join(",")) + '" group-id'), this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED, h), -1 !== u && -1 === this.trackId && this.setSubtitleTrack(u) } else this.shouldReloadPlaylist(n) && this.setSubtitleTrack(this.trackId) } }, r.findTrackId = function (t) { for (var e = this.tracksInGroup, r = this.selectDefaultTrack, i = 0; i < e.length; i++) { var n = e[i]; if ((!r || n.default) && (r || t) && (!t || Vr(n, t))) return i } if (t) { for (var a = 0; a < e.length; a++) { var s = e[a]; if (zn(t.attrs, s.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"])) return a } for (var o = 0; o < e.length; o++) { var l = e[o]; if (zn(t.attrs, l.attrs, ["LANGUAGE"])) return o } } return -1 }, r.findTrackForTextTrack = function (t) { if (t) for (var e = this.tracksInGroup, r = 0; r < e.length; r++)if (Qn(e[r], t)) return r; return -1 }, r.onError = function (t, e) { !e.fatal && e.context && (e.context.type !== Pe || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || this.checkRetry(e)) }, r.setSubtitleOption = function (t) { if (this.hls.config.subtitlePreference = t, t) { var e = this.allSubtitleTracks; if (this.selectDefaultTrack = !1, e.length) { var r = this.currentTrack; if (r && Vr(t, r)) return r; var i = Hr(t, this.tracksInGroup); if (i > -1) { var n = this.tracksInGroup[i]; return this.setSubtitleTrack(i), n } if (r) return null; var a = Hr(t, e); if (a > -1) return e[a] } } return null }, r.loadPlaylist = function (e) { t.prototype.loadPlaylist.call(this); var r = this.currentTrack; if (this.shouldLoadPlaylist(r) && r) { var i = r.id, n = r.groupId, a = r.url; if (e) try { a = e.addDirectives(a) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } this.log("Loading subtitle playlist for id " + i), this.hls.trigger(S.SUBTITLE_TRACK_LOADING, { url: a, id: i, groupId: n, deliveryDirectives: e || null }) } }, r.toggleTrackModes = function () { var t = this.media; if (t) { var e, r = Ye(t.textTracks), i = this.currentTrack; if (i && ((e = r.filter((function (t) { return Qn(i, t) }))[0]) || this.warn('Unable to find subtitle TextTrack with name "' + i.name + '" and language "' + i.lang + '"')), [].slice.call(r).forEach((function (t) { "disabled" !== t.mode && t !== e && (t.mode = "disabled") })), e) { var n = this.subtitleDisplay ? "showing" : "hidden"; e.mode !== n && (e.mode = n) } } }, r.setSubtitleTrack = function (t) { var e = this.tracksInGroup; if (this.media) if (t < -1 || t >= e.length || !y(t)) this.warn("Invalid subtitle track id: " + t); else { this.clearTimer(), this.selectDefaultTrack = !1; var r = this.currentTrack, i = e[t] || null; if (this.trackId = t, this.currentTrack = i, this.toggleTrackModes(), i) { var n = !!i.details && !i.details.live; if (t !== this.trackId || i !== r || !n) { this.log("Switching to subtitle-track " + t + (i ? ' "' + i.name + '" lang:' + i.lang + " group:" + i.groupId : "")); var a = i.id, s = i.groupId, o = void 0 === s ? "" : s, l = i.name, u = i.type, h = i.url; this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: a, groupId: o, name: l, type: u, url: h }); var d = this.switchParams(i.url, null == r ? void 0 : r.details, i.details); this.loadPlaylist(d) } } else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: t }) } else this.queuedDefaultTrack = t }, s(e, [{ key: "subtitleDisplay", get: function () { return this._subtitleDisplay }, set: function (t) { this._subtitleDisplay = t, this.trackId > -1 && this.toggleTrackModes() } }, { key: "allSubtitleTracks", get: function () { return this.tracks } }, { key: "subtitleTracks", get: function () { return this.tracksInGroup } }, { key: "subtitleTrack", get: function () { return this.trackId }, set: function (t) { this.selectDefaultTrack = !1, this.setSubtitleTrack(t) } }]), e }(Fr), ra = function () { function t(t) { this.buffers = void 0, this.queues = { video: [], audio: [], audiovideo: [] }, this.buffers = t } var e = t.prototype; return e.append = function (t, e, r) { var i = this.queues[e]; i.push(t), 1 !== i.length || r || this.executeNext(e) }, e.insertAbort = function (t, e) { this.queues[e].unshift(t), this.executeNext(e) }, e.appendBlocker = function (t) { var e, r = new Promise((function (t) { e = t })), i = { execute: e, onStart: function () { }, onComplete: function () { }, onError: function () { } }; return this.append(i, t), r }, e.executeNext = function (t) { var e = this.queues[t]; if (e.length) { var r = e[0]; try { r.execute() } catch (e) { w.warn('[buffer-operation-queue]: Exception executing "' + t + '" SourceBuffer operation: ' + e), r.onError(e); var i = this.buffers[t]; null != i && i.updating || this.shiftAndExecuteNext(t) } } }, e.shiftAndExecuteNext = function (t) { this.queues[t].shift(), this.executeNext(t) }, e.current = function (t) { return this.queues[t][0] }, t }(), ia = /(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/, na = function () { function t(t) { var e = this; this.details = null, this._objectUrl = null, this.operationQueue = void 0, this.listeners = void 0, this.hls = void 0, this.bufferCodecEventsExpected = 0, this._bufferCodecEventsTotal = 0, this.media = null, this.mediaSource = null, this.lastMpegAudioChunk = null, this.appendSource = void 0, this.appendErrors = { audio: 0, video: 0, audiovideo: 0 }, this.tracks = {}, this.pendingTracks = {}, this.sourceBuffer = void 0, this.log = void 0, this.warn = void 0, this.error = void 0, this._onEndStreaming = function (t) { e.hls && e.hls.pauseBuffering() }, this._onStartStreaming = function (t) { e.hls && e.hls.resumeBuffering() }, this._onMediaSourceOpen = function () { var t = e.media, r = e.mediaSource; e.log("Media source opened"), t && (t.removeEventListener("emptied", e._onMediaEmptied), e.updateMediaElementDuration(), e.hls.trigger(S.MEDIA_ATTACHED, { media: t, mediaSource: r })), r && r.removeEventListener("sourceopen", e._onMediaSourceOpen), e.checkPendingTracks() }, this._onMediaSourceClose = function () { e.log("Media source closed") }, this._onMediaSourceEnded = function () { e.log("Media source ended") }, this._onMediaEmptied = function () { var t = e.mediaSrc, r = e._objectUrl; t !== r && w.error("Media element src was set while attaching MediaSource (" + r + " > " + t + ")") }, this.hls = t; var r, i = "[buffer-controller]"; this.appendSource = (r = se(t.config.preferManagedMediaSource), "undefined" != typeof self && r === self.ManagedMediaSource), this.log = w.log.bind(w, i), this.warn = w.warn.bind(w, i), this.error = w.error.bind(w, i), this._initSourceBuffer(), this.registerListeners() } var e = t.prototype; return e.hasSourceTypes = function () { return this.getSourceBufferTypes().length > 0 || Object.keys(this.pendingTracks).length > 0 }, e.destroy = function () { this.unregisterListeners(), this.details = null, this.lastMpegAudioChunk = null, this.hls = null }, e.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.BUFFER_RESET, this.onBufferReset, this), t.on(S.BUFFER_APPENDING, this.onBufferAppending, this), t.on(S.BUFFER_CODECS, this.onBufferCodecs, this), t.on(S.BUFFER_EOS, this.onBufferEos, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this), t.on(S.FRAG_PARSED, this.onFragParsed, this), t.on(S.FRAG_CHANGED, this.onFragChanged, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.BUFFER_RESET, this.onBufferReset, this), t.off(S.BUFFER_APPENDING, this.onBufferAppending, this), t.off(S.BUFFER_CODECS, this.onBufferCodecs, this), t.off(S.BUFFER_EOS, this.onBufferEos, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this), t.off(S.FRAG_PARSED, this.onFragParsed, this), t.off(S.FRAG_CHANGED, this.onFragChanged, this) }, e._initSourceBuffer = function () { this.sourceBuffer = {}, this.operationQueue = new ra(this.sourceBuffer), this.listeners = { audio: [], video: [], audiovideo: [] }, this.appendErrors = { audio: 0, video: 0, audiovideo: 0 }, this.lastMpegAudioChunk = null }, e.onManifestLoading = function () { this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = 0, this.details = null }, e.onManifestParsed = function (t, e) { var r = 2; (e.audio && !e.video || !e.altAudio) && (r = 1), this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = r, this.log(this.bufferCodecEventsExpected + " bufferCodec event(s) expected") }, e.onMediaAttaching = function (t, e) { var r = this.media = e.media, i = se(this.appendSource); if (r && i) { var n, a = this.mediaSource = new i; this.log("created media source: " + (null == (n = a.constructor) ? void 0 : n.name)), a.addEventListener("sourceopen", this._onMediaSourceOpen), a.addEventListener("sourceended", this._onMediaSourceEnded), a.addEventListener("sourceclose", this._onMediaSourceClose), this.appendSource && (a.addEventListener("startstreaming", this._onStartStreaming), a.addEventListener("endstreaming", this._onEndStreaming)); var s = this._objectUrl = self.URL.createObjectURL(a); if (this.appendSource) try { r.removeAttribute("src"); var o = self.ManagedMediaSource; r.disableRemotePlayback = r.disableRemotePlayback || o && a instanceof o, aa(r), function (t, e) { var r = self.document.createElement("source"); r.type = "video/mp4", r.src = e, t.appendChild(r) }(r, s), r.load() } catch (t) { r.src = s } else r.src = s; r.addEventListener("emptied", this._onMediaEmptied) } }, e.onMediaDetaching = function () { var t = this.media, e = this.mediaSource, r = this._objectUrl; if (e) { if (this.log("media source detaching"), "open" === e.readyState) try { e.endOfStream() } catch (t) { this.warn("onMediaDetaching: " + t.message + " while calling endOfStream") } this.onBufferReset(), e.removeEventListener("sourceopen", this._onMediaSourceOpen), e.removeEventListener("sourceended", this._onMediaSourceEnded), e.removeEventListener("sourceclose", this._onMediaSourceClose), this.appendSource && (e.removeEventListener("startstreaming", this._onStartStreaming), e.removeEventListener("endstreaming", this._onEndStreaming)), t && (t.removeEventListener("emptied", this._onMediaEmptied), r && self.URL.revokeObjectURL(r), this.mediaSrc === r ? (t.removeAttribute("src"), this.appendSource && aa(t), t.load()) : this.warn("media|source.src was changed by a third party - skip cleanup")), this.mediaSource = null, this.media = null, this._objectUrl = null, this.bufferCodecEventsExpected = this._bufferCodecEventsTotal, this.pendingTracks = {}, this.tracks = {} } this.hls.trigger(S.MEDIA_DETACHED, void 0) }, e.onBufferReset = function () { var t = this; this.getSourceBufferTypes().forEach((function (e) { t.resetBuffer(e) })), this._initSourceBuffer() }, e.resetBuffer = function (t) { var e = this.sourceBuffer[t]; try { var r; e && (this.removeBufferListeners(t), this.sourceBuffer[t] = void 0, null != (r = this.mediaSource) && r.sourceBuffers.length && this.mediaSource.removeSourceBuffer(e)) } catch (e) { this.warn("onBufferReset " + t, e) } }, e.onBufferCodecs = function (t, e) { var r = this, i = this.getSourceBufferTypes().length, n = Object.keys(e); if (n.forEach((function (t) { if (i) { var n = r.tracks[t]; if (n && "function" == typeof n.buffer.changeType) { var a, s = e[t], o = s.id, l = s.codec, u = s.levelCodec, h = s.container, d = s.metadata, c = me(n.codec, n.levelCodec), f = null == c ? void 0 : c.replace(ia, "$1"), g = me(l, u), v = null == (a = g) ? void 0 : a.replace(ia, "$1"); if (g && f !== v) { "audio" === t.slice(0, 5) && (g = ve(g, r.appendSource)); var m = h + ";codecs=" + g; r.appendChangeType(t, m), r.log("switching codec " + c + " to " + g), r.tracks[t] = { buffer: n.buffer, codec: l, container: h, levelCodec: u, metadata: d, id: o } } } } else r.pendingTracks[t] = e[t] })), !i) { var a = Math.max(this.bufferCodecEventsExpected - 1, 0); this.bufferCodecEventsExpected !== a && (this.log(a + " bufferCodec event(s) expected " + n.join(",")), this.bufferCodecEventsExpected = a), this.mediaSource && "open" === this.mediaSource.readyState && this.checkPendingTracks() } }, e.appendChangeType = function (t, e) { var r = this, i = this.operationQueue, n = { execute: function () { var n = r.sourceBuffer[t]; n && (r.log("changing " + t + " sourceBuffer type to " + e), n.changeType(e)), i.shiftAndExecuteNext(t) }, onStart: function () { }, onComplete: function () { }, onError: function (e) { r.warn("Failed to change " + t + " SourceBuffer type", e) } }; i.append(n, t, !!this.pendingTracks[t]) }, e.onBufferAppending = function (t, e) { var r = this, i = this.hls, n = this.operationQueue, a = this.tracks, s = e.data, o = e.type, l = e.frag, u = e.part, h = e.chunkMeta, d = h.buffering[o], c = self.performance.now(); d.start = c; var f = l.stats.buffering, g = u ? u.stats.buffering : null; 0 === f.start && (f.start = c), g && 0 === g.start && (g.start = c); var v = a.audio, m = !1; "audio" === o && "audio/mpeg" === (null == v ? void 0 : v.container) && (m = !this.lastMpegAudioChunk || 1 === h.id || this.lastMpegAudioChunk.sn !== h.sn, this.lastMpegAudioChunk = h); var p = l.start, y = { execute: function () { if (d.executeStart = self.performance.now(), m) { var t = r.sourceBuffer[o]; if (t) { var e = p - t.timestampOffset; Math.abs(e) >= .1 && (r.log("Updating audio SourceBuffer timestampOffset to " + p + " (delta: " + e + ") sn: " + l.sn + ")"), t.timestampOffset = p) } } r.appendExecutor(s, o) }, onStart: function () { }, onComplete: function () { var t = self.performance.now(); d.executeEnd = d.end = t, 0 === f.first && (f.first = t), g && 0 === g.first && (g.first = t); var e = r.sourceBuffer, i = {}; for (var n in e) i[n] = ri.getBuffered(e[n]); r.appendErrors[o] = 0, "audio" === o || "video" === o ? r.appendErrors.audiovideo = 0 : (r.appendErrors.audio = 0, r.appendErrors.video = 0), r.hls.trigger(S.BUFFER_APPENDED, { type: o, frag: l, part: u, chunkMeta: h, parent: l.type, timeRanges: i }) }, onError: function (t) { var e = { type: L.MEDIA_ERROR, parent: l.type, details: A.BUFFER_APPEND_ERROR, sourceBufferName: o, frag: l, part: u, chunkMeta: h, error: t, err: t, fatal: !1 }; if (t.code === DOMException.QUOTA_EXCEEDED_ERR) e.details = A.BUFFER_FULL_ERROR; else { var n = ++r.appendErrors[o]; e.details = A.BUFFER_APPEND_ERROR, r.warn("Failed " + n + "/" + i.config.appendErrorMaxRetry + ' times to append segment in "' + o + '" sourceBuffer'), n >= i.config.appendErrorMaxRetry && (e.fatal = !0) } i.trigger(S.ERROR, e) } }; n.append(y, o, !!this.pendingTracks[o]) }, e.onBufferFlushing = function (t, e) { var r = this, i = this.operationQueue, n = function (t) { return { execute: r.removeExecutor.bind(r, t, e.startOffset, e.endOffset), onStart: function () { }, onComplete: function () { r.hls.trigger(S.BUFFER_FLUSHED, { type: t }) }, onError: function (e) { r.warn("Failed to remove from " + t + " SourceBuffer", e) } } }; e.type ? i.append(n(e.type), e.type) : this.getSourceBufferTypes().forEach((function (t) { i.append(n(t), t) })) }, e.onFragParsed = function (t, e) { var r = this, i = e.frag, n = e.part, a = [], s = n ? n.elementaryStreams : i.elementaryStreams; s[U] ? a.push("audiovideo") : (s[O] && a.push("audio"), s[N] && a.push("video")), 0 === a.length && this.warn("Fragments must have at least one ElementaryStreamType set. type: " + i.type + " level: " + i.level + " sn: " + i.sn), this.blockBuffers((function () { var t = self.performance.now(); i.stats.buffering.end = t, n && (n.stats.buffering.end = t); var e = n ? n.stats : i.stats; r.hls.trigger(S.FRAG_BUFFERED, { frag: i, part: n, stats: e, id: i.type }) }), a) }, e.onFragChanged = function (t, e) { this.trimBuffers() }, e.onBufferEos = function (t, e) { var r = this; this.getSourceBufferTypes().reduce((function (t, i) { var n = r.sourceBuffer[i]; return !n || e.type && e.type !== i || (n.ending = !0, n.ended || (n.ended = !0, r.log(i + " sourceBuffer now EOS"))), t && !(n && !n.ended) }), !0) && (this.log("Queueing mediaSource.endOfStream()"), this.blockBuffers((function () { r.getSourceBufferTypes().forEach((function (t) { var e = r.sourceBuffer[t]; e && (e.ending = !1) })); var t = r.mediaSource; t && "open" === t.readyState ? (r.log("Calling mediaSource.endOfStream()"), t.endOfStream()) : t && r.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: " + t.readyState) }))) }, e.onLevelUpdated = function (t, e) { var r = e.details; r.fragments.length && (this.details = r, this.getSourceBufferTypes().length ? this.blockBuffers(this.updateMediaElementDuration.bind(this)) : this.updateMediaElementDuration()) }, e.trimBuffers = function () { var t = this.hls, e = this.details, r = this.media; if (r && null !== e && this.getSourceBufferTypes().length) { var i = t.config, n = r.currentTime, a = e.levelTargetDuration, s = e.live && null !== i.liveBackBufferLength ? i.liveBackBufferLength : i.backBufferLength; if (y(s) && s > 0) { var o = Math.max(s, a), l = Math.floor(n / a) * a - o; this.flushBackBuffer(n, a, l) } if (y(i.frontBufferFlushThreshold) && i.frontBufferFlushThreshold > 0) { var u = Math.max(i.maxBufferLength, i.frontBufferFlushThreshold), h = Math.max(u, a), d = Math.floor(n / a) * a + h; this.flushFrontBuffer(n, a, d) } } }, e.flushBackBuffer = function (t, e, r) { var i = this, n = this.details, a = this.sourceBuffer; this.getSourceBufferTypes().forEach((function (s) { var o = a[s]; if (o) { var l = ri.getBuffered(o); if (l.length > 0 && r > l.start(0)) { if (i.hls.trigger(S.BACK_BUFFER_REACHED, { bufferEnd: r }), null != n && n.live) i.hls.trigger(S.LIVE_BACK_BUFFER_REACHED, { bufferEnd: r }); else if (o.ended && l.end(l.length - 1) - t < 2 * e) return void i.log("Cannot flush " + s + " back buffer while SourceBuffer is in ended state"); i.hls.trigger(S.BUFFER_FLUSHING, { startOffset: 0, endOffset: r, type: s }) } } })) }, e.flushFrontBuffer = function (t, e, r) { var i = this, n = this.sourceBuffer; this.getSourceBufferTypes().forEach((function (a) { var s = n[a]; if (s) { var o = ri.getBuffered(s), l = o.length; if (l < 2) return; var u = o.start(l - 1), h = o.end(l - 1); if (r > u || t >= u && t <= h) return; if (s.ended && t - h < 2 * e) return void i.log("Cannot flush " + a + " front buffer while SourceBuffer is in ended state"); i.hls.trigger(S.BUFFER_FLUSHING, { startOffset: u, endOffset: 1 / 0, type: a }) } })) }, e.updateMediaElementDuration = function () { if (this.details && this.media && this.mediaSource && "open" === this.mediaSource.readyState) { var t = this.details, e = this.hls, r = this.media, i = this.mediaSource, n = t.fragments[0].start + t.totalduration, a = r.duration, s = y(i.duration) ? i.duration : 0; t.live && e.config.liveDurationInfinity ? (i.duration = 1 / 0, this.updateSeekableRange(t)) : (n > s && n > a || !y(a)) && (this.log("Updating Media Source duration to " + n.toFixed(3)), i.duration = n) } }, e.updateSeekableRange = function (t) { var e = this.mediaSource, r = t.fragments; if (r.length && t.live && null != e && e.setLiveSeekableRange) { var i = Math.max(0, r[0].start), n = Math.max(i, i + t.totalduration); this.log("Media Source duration is set to " + e.duration + ". Setting seekable range to " + i + "-" + n + "."), e.setLiveSeekableRange(i, n) } }, e.checkPendingTracks = function () { var t = this.bufferCodecEventsExpected, e = this.operationQueue, r = this.pendingTracks, i = Object.keys(r).length; if (i && (!t || 2 === i || "audiovideo" in r)) { this.createSourceBuffers(r), this.pendingTracks = {}; var n = this.getSourceBufferTypes(); if (n.length) this.hls.trigger(S.BUFFER_CREATED, { tracks: this.tracks }), n.forEach((function (t) { e.executeNext(t) })); else { var a = new Error("could not create source buffer for media codec(s)"); this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_INCOMPATIBLE_CODECS_ERROR, fatal: !0, error: a, reason: a.message }) } } }, e.createSourceBuffers = function (t) { var e = this, r = this.sourceBuffer, i = this.mediaSource; if (!i) throw Error("createSourceBuffers called when mediaSource was null"); var n = function (n) { if (!r[n]) { var a, s = t[n]; if (!s) throw Error("source buffer exists for track " + n + ", however track does not"); var o = -1 === (null == (a = s.levelCodec) ? void 0 : a.indexOf(",")) ? s.levelCodec : s.codec; o && "audio" === n.slice(0, 5) && (o = ve(o, e.appendSource)); var l = s.container + ";codecs=" + o; e.log("creating sourceBuffer(" + l + ")"); try { var u = r[n] = i.addSourceBuffer(l), h = n; e.addBufferListener(h, "updatestart", e._onSBUpdateStart), e.addBufferListener(h, "updateend", e._onSBUpdateEnd), e.addBufferListener(h, "error", e._onSBUpdateError), e.appendSource && e.addBufferListener(h, "bufferedchange", (function (t, r) { var i = r.removedRanges; null != i && i.length && e.hls.trigger(S.BUFFER_FLUSHED, { type: n }) })), e.tracks[n] = { buffer: u, codec: o, container: s.container, levelCodec: s.levelCodec, metadata: s.metadata, id: s.id } } catch (t) { e.error("error while trying to add sourceBuffer: " + t.message), e.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_ADD_CODEC_ERROR, fatal: !1, error: t, sourceBufferName: n, mimeType: l }) } } }; for (var a in t) n(a) }, e._onSBUpdateStart = function (t) { this.operationQueue.current(t).onStart() }, e._onSBUpdateEnd = function (t) { var e; if ("closed" !== (null == (e = this.mediaSource) ? void 0 : e.readyState)) { var r = this.operationQueue; r.current(t).onComplete(), r.shiftAndExecuteNext(t) } else this.resetBuffer(t) }, e._onSBUpdateError = function (t, e) { var r, i = new Error(t + " SourceBuffer error. MediaSource readyState: " + (null == (r = this.mediaSource) ? void 0 : r.readyState)); this.error("" + i, e), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_APPENDING_ERROR, sourceBufferName: t, error: i, fatal: !1 }); var n = this.operationQueue.current(t); n && n.onError(i) }, e.removeExecutor = function (t, e, r) { var i = this.media, n = this.mediaSource, a = this.operationQueue, s = this.sourceBuffer[t]; if (!i || !n || !s) return this.warn("Attempting to remove from the " + t + " SourceBuffer, but it does not exist"), void a.shiftAndExecuteNext(t); var o = y(i.duration) ? i.duration : 1 / 0, l = y(n.duration) ? n.duration : 1 / 0, u = Math.max(0, e), h = Math.min(r, o, l); h > u && (!s.ending || s.ended) ? (s.ended = !1, this.log("Removing [" + u + "," + h + "] from the " + t + " SourceBuffer"), s.remove(u, h)) : a.shiftAndExecuteNext(t) }, e.appendExecutor = function (t, e) { var r = this.sourceBuffer[e]; if (r) r.ended = !1, r.appendBuffer(t); else if (!this.pendingTracks[e]) throw new Error("Attempting to append to the " + e + " SourceBuffer, but it does not exist") }, e.blockBuffers = function (t, e) { var r = this; if (void 0 === e && (e = this.getSourceBufferTypes()), !e.length) return this.log("Blocking operation requested, but no SourceBuffers exist"), void Promise.resolve().then(t); var i = this.operationQueue, n = e.map((function (t) { return i.appendBlocker(t) })); Promise.all(n).then((function () { t(), e.forEach((function (t) { var e = r.sourceBuffer[t]; null != e && e.updating || i.shiftAndExecuteNext(t) })) })) }, e.getSourceBufferTypes = function () { return Object.keys(this.sourceBuffer) }, e.addBufferListener = function (t, e, r) { var i = this.sourceBuffer[t]; if (i) { var n = r.bind(this, t); this.listeners[t].push({ event: e, listener: n }), i.addEventListener(e, n) } }, e.removeBufferListeners = function (t) { var e = this.sourceBuffer[t]; e && this.listeners[t].forEach((function (t) { e.removeEventListener(t.event, t.listener) })) }, s(t, [{ key: "mediaSrc", get: function () { var t, e, r = (null == (t = this.media) || null == (e = t.querySelector) ? void 0 : e.call(t, "source")) || this.media; return null == r ? void 0 : r.src } }]), t }(); function aa(t) { var e = t.querySelectorAll("source");[].slice.call(e).forEach((function (e) { t.removeChild(e) })) } var sa = { 42: 225, 92: 233, 94: 237, 95: 243, 96: 250, 123: 231, 124: 247, 125: 209, 126: 241, 127: 9608, 128: 174, 129: 176, 130: 189, 131: 191, 132: 8482, 133: 162, 134: 163, 135: 9834, 136: 224, 137: 32, 138: 232, 139: 226, 140: 234, 141: 238, 142: 244, 143: 251, 144: 193, 145: 201, 146: 211, 147: 218, 148: 220, 149: 252, 150: 8216, 151: 161, 152: 42, 153: 8217, 154: 9473, 155: 169, 156: 8480, 157: 8226, 158: 8220, 159: 8221, 160: 192, 161: 194, 162: 199, 163: 200, 164: 202, 165: 203, 166: 235, 167: 206, 168: 207, 169: 239, 170: 212, 171: 217, 172: 249, 173: 219, 174: 171, 175: 187, 176: 195, 177: 227, 178: 205, 179: 204, 180: 236, 181: 210, 182: 242, 183: 213, 184: 245, 185: 123, 186: 125, 187: 92, 188: 94, 189: 95, 190: 124, 191: 8764, 192: 196, 193: 228, 194: 214, 195: 246, 196: 223, 197: 165, 198: 164, 199: 9475, 200: 197, 201: 229, 202: 216, 203: 248, 204: 9487, 205: 9491, 206: 9495, 207: 9499 }, oa = function (t) { return String.fromCharCode(sa[t] || t) }, la = 15, ua = 100, ha = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 }, da = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 }, ca = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 }, fa = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 }, ga = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"], va = function () { function t() { this.time = null, this.verboseLevel = 0 } return t.prototype.log = function (t, e) { if (this.verboseLevel >= t) { var r = "function" == typeof e ? e() : e; w.log(this.time + " [" + t + "] " + r) } }, t }(), ma = function (t) { for (var e = [], r = 0; r < t.length; r++)e.push(t[r].toString(16)); return e }, pa = function () { function t() { this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1 } var e = t.prototype; return e.reset = function () { this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1 }, e.setStyles = function (t) { for (var e = ["foreground", "underline", "italics", "background", "flash"], r = 0; r < e.length; r++) { var i = e[r]; t.hasOwnProperty(i) && (this[i] = t[i]) } }, e.isDefault = function () { return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash }, e.equals = function (t) { return this.foreground === t.foreground && this.underline === t.underline && this.italics === t.italics && this.background === t.background && this.flash === t.flash }, e.copy = function (t) { this.foreground = t.foreground, this.underline = t.underline, this.italics = t.italics, this.background = t.background, this.flash = t.flash }, e.toString = function () { return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash }, t }(), ya = function () { function t() { this.uchar = " ", this.penState = new pa } var e = t.prototype; return e.reset = function () { this.uchar = " ", this.penState.reset() }, e.setChar = function (t, e) { this.uchar = t, this.penState.copy(e) }, e.setPenState = function (t) { this.penState.copy(t) }, e.equals = function (t) { return this.uchar === t.uchar && this.penState.equals(t.penState) }, e.copy = function (t) { this.uchar = t.uchar, this.penState.copy(t.penState) }, e.isEmpty = function () { return " " === this.uchar && this.penState.isDefault() }, t }(), Ea = function () { function t(t) { this.chars = [], this.pos = 0, this.currPenState = new pa, this.cueStartTime = null, this.logger = void 0; for (var e = 0; e < ua; e++)this.chars.push(new ya); this.logger = t } var e = t.prototype; return e.equals = function (t) { for (var e = 0; e < ua; e++)if (!this.chars[e].equals(t.chars[e])) return !1; return !0 }, e.copy = function (t) { for (var e = 0; e < ua; e++)this.chars[e].copy(t.chars[e]) }, e.isEmpty = function () { for (var t = !0, e = 0; e < ua; e++)if (!this.chars[e].isEmpty()) { t = !1; break } return t }, e.setCursor = function (t) { this.pos !== t && (this.pos = t), this.pos < 0 ? (this.logger.log(3, "Negative cursor position " + this.pos), this.pos = 0) : this.pos > ua && (this.logger.log(3, "Too large cursor position " + this.pos), this.pos = ua) }, e.moveCursor = function (t) { var e = this.pos + t; if (t > 1) for (var r = this.pos + 1; r < e + 1; r++)this.chars[r].setPenState(this.currPenState); this.setCursor(e) }, e.backSpace = function () { this.moveCursor(-1), this.chars[this.pos].setChar(" ", this.currPenState) }, e.insertChar = function (t) { var e = this; t >= 144 && this.backSpace(); var r = oa(t); this.pos >= ua ? this.logger.log(0, (function () { return "Cannot insert " + t.toString(16) + " (" + r + ") at position " + e.pos + ". Skipping it!" })) : (this.chars[this.pos].setChar(r, this.currPenState), this.moveCursor(1)) }, e.clearFromPos = function (t) { var e; for (e = t; e < ua; e++)this.chars[e].reset() }, e.clear = function () { this.clearFromPos(0), this.pos = 0, this.currPenState.reset() }, e.clearToEndOfRow = function () { this.clearFromPos(this.pos) }, e.getTextString = function () { for (var t = [], e = !0, r = 0; r < ua; r++) { var i = this.chars[r].uchar; " " !== i && (e = !1), t.push(i) } return e ? "" : t.join("") }, e.setPenStyles = function (t) { this.currPenState.setStyles(t), this.chars[this.pos].setPenState(this.currPenState) }, t }(), Ta = function () { function t(t) { this.rows = [], this.currRow = 14, this.nrRollUpRows = null, this.lastOutputScreen = null, this.logger = void 0; for (var e = 0; e < la; e++)this.rows.push(new Ea(t)); this.logger = t } var e = t.prototype; return e.reset = function () { for (var t = 0; t < la; t++)this.rows[t].clear(); this.currRow = 14 }, e.equals = function (t) { for (var e = !0, r = 0; r < la; r++)if (!this.rows[r].equals(t.rows[r])) { e = !1; break } return e }, e.copy = function (t) { for (var e = 0; e < la; e++)this.rows[e].copy(t.rows[e]) }, e.isEmpty = function () { for (var t = !0, e = 0; e < la; e++)if (!this.rows[e].isEmpty()) { t = !1; break } return t }, e.backSpace = function () { this.rows[this.currRow].backSpace() }, e.clearToEndOfRow = function () { this.rows[this.currRow].clearToEndOfRow() }, e.insertChar = function (t) { this.rows[this.currRow].insertChar(t) }, e.setPen = function (t) { this.rows[this.currRow].setPenStyles(t) }, e.moveCursor = function (t) { this.rows[this.currRow].moveCursor(t) }, e.setCursor = function (t) { this.logger.log(2, "setCursor: " + t), this.rows[this.currRow].setCursor(t) }, e.setPAC = function (t) { this.logger.log(2, (function () { return "pacData = " + JSON.stringify(t) })); var e = t.row - 1; if (this.nrRollUpRows && e < this.nrRollUpRows - 1 && (e = this.nrRollUpRows - 1), this.nrRollUpRows && this.currRow !== e) { for (var r = 0; r < la; r++)this.rows[r].clear(); var i = this.currRow + 1 - this.nrRollUpRows, n = this.lastOutputScreen; if (n) { var a = n.rows[i].cueStartTime, s = this.logger.time; if (null !== a && null !== s && a < s) for (var o = 0; o < this.nrRollUpRows; o++)this.rows[e - this.nrRollUpRows + o + 1].copy(n.rows[i + o]) } } this.currRow = e; var l = this.rows[this.currRow]; if (null !== t.indent) { var u = t.indent, h = Math.max(u - 1, 0); l.setCursor(t.indent), t.color = l.chars[h].penState.foreground } var d = { foreground: t.color, underline: t.underline, italics: t.italics, background: "black", flash: !1 }; this.setPen(d) }, e.setBkgData = function (t) { this.logger.log(2, (function () { return "bkgData = " + JSON.stringify(t) })), this.backSpace(), this.setPen(t), this.insertChar(32) }, e.setRollUpRows = function (t) { this.nrRollUpRows = t }, e.rollUp = function () { var t = this; if (null !== this.nrRollUpRows) { this.logger.log(1, (function () { return t.getDisplayText() })); var e = this.currRow + 1 - this.nrRollUpRows, r = this.rows.splice(e, 1)[0]; r.clear(), this.rows.splice(this.currRow, 0, r), this.logger.log(2, "Rolling up") } else this.logger.log(3, "roll_up but nrRollUpRows not set yet") }, e.getDisplayText = function (t) { t = t || !1; for (var e = [], r = "", i = -1, n = 0; n < la; n++) { var a = this.rows[n].getTextString(); a && (i = n + 1, t ? e.push("Row " + i + ": '" + a + "'") : e.push(a.trim())) } return e.length > 0 && (r = t ? "[" + e.join(" | ") + "]" : e.join("\n")), r }, e.getTextAndFormat = function () { return this.rows }, t }(), Sa = function () { function t(t, e, r) { this.chNr = void 0, this.outputFilter = void 0, this.mode = void 0, this.verbose = void 0, this.displayedMemory = void 0, this.nonDisplayedMemory = void 0, this.lastOutputScreen = void 0, this.currRollUpRow = void 0, this.writeScreen = void 0, this.cueStartTime = void 0, this.logger = void 0, this.chNr = t, this.outputFilter = e, this.mode = null, this.verbose = 0, this.displayedMemory = new Ta(r), this.nonDisplayedMemory = new Ta(r), this.lastOutputScreen = new Ta(r), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null, this.logger = r } var e = t.prototype; return e.reset = function () { this.mode = null, this.displayedMemory.reset(), this.nonDisplayedMemory.reset(), this.lastOutputScreen.reset(), this.outputFilter.reset(), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null }, e.getHandler = function () { return this.outputFilter }, e.setHandler = function (t) { this.outputFilter = t }, e.setPAC = function (t) { this.writeScreen.setPAC(t) }, e.setBkgData = function (t) { this.writeScreen.setBkgData(t) }, e.setMode = function (t) { t !== this.mode && (this.mode = t, this.logger.log(2, (function () { return "MODE=" + t })), "MODE_POP-ON" === this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory, this.writeScreen.reset()), "MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null, this.nonDisplayedMemory.nrRollUpRows = null), this.mode = t) }, e.insertChars = function (t) { for (var e = this, r = 0; r < t.length; r++)this.writeScreen.insertChar(t[r]); var i = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP"; this.logger.log(2, (function () { return i + ": " + e.writeScreen.getDisplayText(!0) })), "MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (this.logger.log(1, (function () { return "DISPLAYED: " + e.displayedMemory.getDisplayText(!0) })), this.outputDataUpdate()) }, e.ccRCL = function () { this.logger.log(2, "RCL - Resume Caption Loading"), this.setMode("MODE_POP-ON") }, e.ccBS = function () { this.logger.log(2, "BS - BackSpace"), "MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(), this.writeScreen === this.displayedMemory && this.outputDataUpdate()) }, e.ccAOF = function () { }, e.ccAON = function () { }, e.ccDER = function () { this.logger.log(2, "DER- Delete to End of Row"), this.writeScreen.clearToEndOfRow(), this.outputDataUpdate() }, e.ccRU = function (t) { this.logger.log(2, "RU(" + t + ") - Roll Up"), this.writeScreen = this.displayedMemory, this.setMode("MODE_ROLL-UP"), this.writeScreen.setRollUpRows(t) }, e.ccFON = function () { this.logger.log(2, "FON - Flash On"), this.writeScreen.setPen({ flash: !0 }) }, e.ccRDC = function () { this.logger.log(2, "RDC - Resume Direct Captioning"), this.setMode("MODE_PAINT-ON") }, e.ccTR = function () { this.logger.log(2, "TR"), this.setMode("MODE_TEXT") }, e.ccRTD = function () { this.logger.log(2, "RTD"), this.setMode("MODE_TEXT") }, e.ccEDM = function () { this.logger.log(2, "EDM - Erase Displayed Memory"), this.displayedMemory.reset(), this.outputDataUpdate(!0) }, e.ccCR = function () { this.logger.log(2, "CR - Carriage Return"), this.writeScreen.rollUp(), this.outputDataUpdate(!0) }, e.ccENM = function () { this.logger.log(2, "ENM - Erase Non-displayed Memory"), this.nonDisplayedMemory.reset() }, e.ccEOC = function () { var t = this; if (this.logger.log(2, "EOC - End Of Caption"), "MODE_POP-ON" === this.mode) { var e = this.displayedMemory; this.displayedMemory = this.nonDisplayedMemory, this.nonDisplayedMemory = e, this.writeScreen = this.nonDisplayedMemory, this.logger.log(1, (function () { return "DISP: " + t.displayedMemory.getDisplayText() })) } this.outputDataUpdate(!0) }, e.ccTO = function (t) { this.logger.log(2, "TO(" + t + ") - Tab Offset"), this.writeScreen.moveCursor(t) }, e.ccMIDROW = function (t) { var e = { flash: !1 }; if (e.underline = t % 2 == 1, e.italics = t >= 46, e.italics) e.foreground = "white"; else { var r = Math.floor(t / 2) - 16; e.foreground = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"][r] } this.logger.log(2, "MIDROW: " + JSON.stringify(e)), this.writeScreen.setPen(e) }, e.outputDataUpdate = function (t) { void 0 === t && (t = !1); var e = this.logger.time; null !== e && this.outputFilter && (null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue(this.cueStartTime, e, this.lastOutputScreen), t && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(), this.cueStartTime = this.displayedMemory.isEmpty() ? null : e) : this.cueStartTime = e, this.lastOutputScreen.copy(this.displayedMemory)) }, e.cueSplitAtTime = function (t) { this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, t, this.displayedMemory), this.cueStartTime = t)) }, t }(), La = function () { function t(t, e, r) { this.channels = void 0, this.currentChannel = 0, this.cmdHistory = { a: null, b: null }, this.logger = void 0; var i = this.logger = new va; this.channels = [null, new Sa(t, e, i), new Sa(t + 1, r, i)] } var e = t.prototype; return e.getHandler = function (t) { return this.channels[t].getHandler() }, e.setHandler = function (t, e) { this.channels[t].setHandler(e) }, e.addData = function (t, e) { var r = this; this.logger.time = t; for (var i = function (t) { var i = 127 & e[t], n = 127 & e[t + 1], a = !1, s = null; if (0 === i && 0 === n) return 0; r.logger.log(3, (function () { return "[" + ma([e[t], e[t + 1]]) + "] -> (" + ma([i, n]) + ")" })); var o = r.cmdHistory; if (i >= 16 && i <= 31) { if (function (t, e, r) { return r.a === t && r.b === e }(i, n, o)) return Aa(null, null, o), r.logger.log(3, (function () { return "Repeated command (" + ma([i, n]) + ") is dropped" })), 0; Aa(i, n, r.cmdHistory), (a = r.parseCmd(i, n)) || (a = r.parseMidrow(i, n)), a || (a = r.parsePAC(i, n)), a || (a = r.parseBackgroundAttributes(i, n)) } else Aa(null, null, o); if (!a && (s = r.parseChars(i, n))) { var l = r.currentChannel; l && l > 0 ? r.channels[l].insertChars(s) : r.logger.log(2, "No channel found yet. TEXT-MODE?") } a || s || r.logger.log(2, (function () { return "Couldn't parse cleaned data " + ma([i, n]) + " orig: " + ma([e[t], e[t + 1]]) })) }, n = 0; n < e.length; n += 2)i(n) }, e.parseCmd = function (t, e) { if (!((20 === t || 28 === t || 21 === t || 29 === t) && e >= 32 && e <= 47 || (23 === t || 31 === t) && e >= 33 && e <= 35)) return !1; var r = 20 === t || 21 === t || 23 === t ? 1 : 2, i = this.channels[r]; return 20 === t || 21 === t || 28 === t || 29 === t ? 32 === e ? i.ccRCL() : 33 === e ? i.ccBS() : 34 === e ? i.ccAOF() : 35 === e ? i.ccAON() : 36 === e ? i.ccDER() : 37 === e ? i.ccRU(2) : 38 === e ? i.ccRU(3) : 39 === e ? i.ccRU(4) : 40 === e ? i.ccFON() : 41 === e ? i.ccRDC() : 42 === e ? i.ccTR() : 43 === e ? i.ccRTD() : 44 === e ? i.ccEDM() : 45 === e ? i.ccCR() : 46 === e ? i.ccENM() : 47 === e && i.ccEOC() : i.ccTO(e - 32), this.currentChannel = r, !0 }, e.parseMidrow = function (t, e) { var r = 0; if ((17 === t || 25 === t) && e >= 32 && e <= 47) { if ((r = 17 === t ? 1 : 2) !== this.currentChannel) return this.logger.log(0, "Mismatch channel in midrow parsing"), !1; var i = this.channels[r]; return !!i && (i.ccMIDROW(e), this.logger.log(3, (function () { return "MIDROW (" + ma([t, e]) + ")" })), !0) } return !1 }, e.parsePAC = function (t, e) { var r; if (!((t >= 17 && t <= 23 || t >= 25 && t <= 31) && e >= 64 && e <= 127 || (16 === t || 24 === t) && e >= 64 && e <= 95)) return !1; var i = t <= 23 ? 1 : 2; r = e >= 64 && e <= 95 ? 1 === i ? ha[t] : ca[t] : 1 === i ? da[t] : fa[t]; var n = this.channels[i]; return !!n && (n.setPAC(this.interpretPAC(r, e)), this.currentChannel = i, !0) }, e.interpretPAC = function (t, e) { var r, i = { color: null, italics: !1, indent: null, underline: !1, row: t }; return r = e > 95 ? e - 96 : e - 64, i.underline = 1 == (1 & r), r <= 13 ? i.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(r / 2)] : r <= 15 ? (i.italics = !0, i.color = "white") : i.indent = 4 * Math.floor((r - 16) / 2), i }, e.parseChars = function (t, e) { var r, i, n = null, a = null; return t >= 25 ? (r = 2, a = t - 8) : (r = 1, a = t), a >= 17 && a <= 19 ? (i = 17 === a ? e + 80 : 18 === a ? e + 112 : e + 144, this.logger.log(2, (function () { return "Special char '" + oa(i) + "' in channel " + r })), n = [i]) : t >= 32 && t <= 127 && (n = 0 === e ? [t] : [t, e]), n && this.logger.log(3, (function () { return "Char codes =  " + ma(n).join(",") })), n }, e.parseBackgroundAttributes = function (t, e) { var r; if (!((16 === t || 24 === t) && e >= 32 && e <= 47 || (23 === t || 31 === t) && e >= 45 && e <= 47)) return !1; var i = {}; 16 === t || 24 === t ? (r = Math.floor((e - 32) / 2), i.background = ga[r], e % 2 == 1 && (i.background = i.background + "_semi")) : 45 === e ? i.background = "transparent" : (i.foreground = "black", 47 === e && (i.underline = !0)); var n = t <= 23 ? 1 : 2; return this.channels[n].setBkgData(i), !0 }, e.reset = function () { for (var t = 0; t < Object.keys(this.channels).length; t++) { var e = this.channels[t]; e && e.reset() } Aa(null, null, this.cmdHistory) }, e.cueSplitAtTime = function (t) { for (var e = 0; e < this.channels.length; e++) { var r = this.channels[e]; r && r.cueSplitAtTime(t) } }, t }(); function Aa(t, e, r) { r.a = t, r.b = e } var Ra = function () { function t(t, e) { this.timelineController = void 0, this.cueRanges = [], this.trackName = void 0, this.startTime = null, this.endTime = null, this.screen = null, this.timelineController = t, this.trackName = e } var e = t.prototype; return e.dispatchCue = function () { null !== this.startTime && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges), this.startTime = null) }, e.newCue = function (t, e, r) { (null === this.startTime || this.startTime > t) && (this.startTime = t), this.endTime = e, this.screen = r, this.timelineController.createCaptionsTrack(this.trackName) }, e.reset = function () { this.cueRanges = [], this.startTime = null }, t }(), ba = function () { if (null != j && j.VTTCue) return self.VTTCue; var t = ["", "lr", "rl"], e = ["start", "middle", "end", "left", "right"]; function r(t, e) { if ("string" != typeof e) return !1; if (!Array.isArray(t)) return !1; var r = e.toLowerCase(); return !!~t.indexOf(r) && r } function i(t) { return r(e, t) } function n(t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; for (var n = 1; n < arguments.length; n++) { var a = arguments[n]; for (var s in a) t[s] = a[s] } return t } function a(e, a, s) { var o = this, l = { enumerable: !0 }; o.hasBeenReset = !1; var u = "", h = !1, d = e, c = a, f = s, g = null, v = "", m = !0, p = "auto", y = "start", E = 50, T = "middle", S = 50, L = "middle"; Object.defineProperty(o, "id", n({}, l, { get: function () { return u }, set: function (t) { u = "" + t } })), Object.defineProperty(o, "pauseOnExit", n({}, l, { get: function () { return h }, set: function (t) { h = !!t } })), Object.defineProperty(o, "startTime", n({}, l, { get: function () { return d }, set: function (t) { if ("number" != typeof t) throw new TypeError("Start time must be set to a number."); d = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "endTime", n({}, l, { get: function () { return c }, set: function (t) { if ("number" != typeof t) throw new TypeError("End time must be set to a number."); c = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "text", n({}, l, { get: function () { return f }, set: function (t) { f = "" + t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "region", n({}, l, { get: function () { return g }, set: function (t) { g = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "vertical", n({}, l, { get: function () { return v }, set: function (e) { var i = function (e) { return r(t, e) }(e); if (!1 === i) throw new SyntaxError("An invalid or illegal string was specified."); v = i, this.hasBeenReset = !0 } })), Object.defineProperty(o, "snapToLines", n({}, l, { get: function () { return m }, set: function (t) { m = !!t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "line", n({}, l, { get: function () { return p }, set: function (t) { if ("number" != typeof t && "auto" !== t) throw new SyntaxError("An invalid number or illegal string was specified."); p = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "lineAlign", n({}, l, { get: function () { return y }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); y = e, this.hasBeenReset = !0 } })), Object.defineProperty(o, "position", n({}, l, { get: function () { return E }, set: function (t) { if (t < 0 || t > 100) throw new Error("Position must be between 0 and 100."); E = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "positionAlign", n({}, l, { get: function () { return T }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); T = e, this.hasBeenReset = !0 } })), Object.defineProperty(o, "size", n({}, l, { get: function () { return S }, set: function (t) { if (t < 0 || t > 100) throw new Error("Size must be between 0 and 100."); S = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "align", n({}, l, { get: function () { return L }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); L = e, this.hasBeenReset = !0 } })), o.displayState = void 0 } return a.prototype.getCueAsHTML = function () { return self.WebVTT.convertCueToDOMTree(self, this.text) }, a }(), ka = function () { function t() { } return t.prototype.decode = function (t, e) { if (!t) return ""; if ("string" != typeof t) throw new Error("Error - expected string data."); return decodeURIComponent(encodeURIComponent(t)) }, t }(); function Da(t) { function e(t, e, r, i) { return 3600 * (0 | t) + 60 * (0 | e) + (0 | r) + parseFloat(i || 0) } var r = t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/); return r ? parseFloat(r[2]) > 59 ? e(r[2], r[3], 0, r[4]) : e(r[1], r[2], r[3], r[4]) : null } var Ia = function () { function t() { this.values = Object.create(null) } var e = t.prototype; return e.set = function (t, e) { this.get(t) || "" === e || (this.values[t] = e) }, e.get = function (t, e, r) { return r ? this.has(t) ? this.values[t] : e[r] : this.has(t) ? this.values[t] : e }, e.has = function (t) { return t in this.values }, e.alt = function (t, e, r) { for (var i = 0; i < r.length; ++i)if (e === r[i]) { this.set(t, e); break } }, e.integer = function (t, e) { /^-?\d+$/.test(e) && this.set(t, parseInt(e, 10)) }, e.percent = function (t, e) { if (/^([\d]{1,3})(\.[\d]*)?%$/.test(e)) { var r = parseFloat(e); if (r >= 0 && r <= 100) return this.set(t, r), !0 } return !1 }, t }(); function wa(t, e, r, i) { var n = i ? t.split(i) : [t]; for (var a in n) if ("string" == typeof n[a]) { var s = n[a].split(r); 2 === s.length && e(s[0], s[1]) } } var Ca = new ba(0, 0, ""), _a = "middle" === Ca.align ? "middle" : "center"; function xa(t, e, r) { var i = t; function n() { var e = Da(t); if (null === e) throw new Error("Malformed timestamp: " + i); return t = t.replace(/^[^\sa-zA-Z-]+/, ""), e } function a() { t = t.replace(/^\s+/, "") } if (a(), e.startTime = n(), a(), "--\x3e" !== t.slice(0, 3)) throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): " + i); t = t.slice(3), a(), e.endTime = n(), a(), function (t, e) { var i = new Ia; wa(t, (function (t, e) { var n; switch (t) { case "region": for (var a = r.length - 1; a >= 0; a--)if (r[a].id === e) { i.set(t, r[a].region); break } break; case "vertical": i.alt(t, e, ["rl", "lr"]); break; case "line": n = e.split(","), i.integer(t, n[0]), i.percent(t, n[0]) && i.set("snapToLines", !1), i.alt(t, n[0], ["auto"]), 2 === n.length && i.alt("lineAlign", n[1], ["start", _a, "end"]); break; case "position": n = e.split(","), i.percent(t, n[0]), 2 === n.length && i.alt("positionAlign", n[1], ["start", _a, "end", "line-left", "line-right", "auto"]); break; case "size": i.percent(t, e); break; case "align": i.alt(t, e, ["start", _a, "end", "left", "right"]) } }), /:/, /\s/), e.region = i.get("region", null), e.vertical = i.get("vertical", ""); var n = i.get("line", "auto"); "auto" === n && -1 === Ca.line && (n = -1), e.line = n, e.lineAlign = i.get("lineAlign", "start"), e.snapToLines = i.get("snapToLines", !0), e.size = i.get("size", 100), e.align = i.get("align", _a); var a = i.get("position", "auto"); "auto" === a && 50 === Ca.position && (a = "start" === e.align || "left" === e.align ? 0 : "end" === e.align || "right" === e.align ? 100 : 50), e.position = a }(t, e) } function Pa(t) { return t.replace(/<br(?: \/)?>/gi, "\n") } var Fa = function () { function t() { this.state = "INITIAL", this.buffer = "", this.decoder = new ka, this.regionList = [], this.cue = null, this.oncue = void 0, this.onparsingerror = void 0, this.onflush = void 0 } var e = t.prototype; return e.parse = function (t) { var e = this; function r() { var t = e.buffer, r = 0; for (t = Pa(t); r < t.length && "\r" !== t[r] && "\n" !== t[r];)++r; var i = t.slice(0, r); return "\r" === t[r] && ++r, "\n" === t[r] && ++r, e.buffer = t.slice(r), i } t && (e.buffer += e.decoder.decode(t, { stream: !0 })); try { var i = ""; if ("INITIAL" === e.state) { if (!/\r\n|\n/.test(e.buffer)) return this; var n = (i = r()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/); if (null == n || !n[0]) throw new Error("Malformed WebVTT signature."); e.state = "HEADER" } for (var a = !1; e.buffer;) { if (!/\r\n|\n/.test(e.buffer)) return this; switch (a ? a = !1 : i = r(), e.state) { case "HEADER": /:/.test(i) ? wa(i, (function (t, e) { }), /:/) : i || (e.state = "ID"); continue; case "NOTE": i || (e.state = "ID"); continue; case "ID": if (/^NOTE($|[ \t])/.test(i)) { e.state = "NOTE"; break } if (!i) continue; if (e.cue = new ba(0, 0, ""), e.state = "CUE", -1 === i.indexOf("--\x3e")) { e.cue.id = i; continue } case "CUE": if (!e.cue) { e.state = "BADCUE"; continue } try { xa(i, e.cue, e.regionList) } catch (t) { e.cue = null, e.state = "BADCUE"; continue } e.state = "CUETEXT"; continue; case "CUETEXT": var s = -1 !== i.indexOf("--\x3e"); if (!i || s && (a = !0)) { e.oncue && e.cue && e.oncue(e.cue), e.cue = null, e.state = "ID"; continue } if (null === e.cue) continue; e.cue.text && (e.cue.text += "\n"), e.cue.text += i; continue; case "BADCUE": i || (e.state = "ID") } } } catch (t) { "CUETEXT" === e.state && e.cue && e.oncue && e.oncue(e.cue), e.cue = null, e.state = "INITIAL" === e.state ? "BADWEBVTT" : "BADCUE" } return this }, e.flush = function () { var t = this; try { if ((t.cue || "HEADER" === t.state) && (t.buffer += "\n\n", t.parse()), "INITIAL" === t.state || "BADWEBVTT" === t.state) throw new Error("Malformed WebVTT signature.") } catch (e) { t.onparsingerror && t.onparsingerror(e) } return t.onflush && t.onflush(), this }, t }(), Ma = /\r\n|\n\r|\n|\r/g, Oa = function (t, e, r) { return void 0 === r && (r = 0), t.slice(r, r + e.length) === e }, Na = function (t) { for (var e = 5381, r = t.length; r;)e = 33 * e ^ t.charCodeAt(--r); return (e >>> 0).toString() }; function Ua(t, e, r) { return Na(t.toString()) + Na(e.toString()) + Na(r) } function Ba(t, e, r, i, n, a, s) { var o, l, u, h = new Fa, d = Rt(new Uint8Array(t)).trim().replace(Ma, "\n").split("\n"), c = [], f = e ? (o = e.baseTime, void 0 === (l = e.timescale) && (l = 1), Rn(o, An, 1 / l)) : 0, g = "00:00.000", v = 0, m = 0, p = !0; h.oncue = function (t) { var a = r[i], s = r.ccOffset, o = (v - f) / 9e4; if (null != a && a.new && (void 0 !== m ? s = r.ccOffset = a.start : function (t, e, r) { var i = t[e], n = t[i.prevCC]; if (!n || !n.new && i.new) return t.ccOffset = t.presentationOffset = i.start, void (i.new = !1); for (; null != (a = n) && a.new;) { var a; t.ccOffset += i.start - n.start, i.new = !1, n = t[(i = n).prevCC] } t.presentationOffset = r }(r, i, o)), o) { if (!e) return void (u = new Error("Missing initPTS for VTT MPEGTS")); s = o - r.presentationOffset } var l = t.endTime - t.startTime, h = wn(9e4 * (t.startTime + s - m), 9e4 * n) / 9e4; t.startTime = Math.max(h, 0), t.endTime = Math.max(h + l, 0); var d = t.text.trim(); t.text = decodeURIComponent(encodeURIComponent(d)), t.id || (t.id = Ua(t.startTime, t.endTime, d)), t.endTime > 0 && c.push(t) }, h.onparsingerror = function (t) { u = t }, h.onflush = function () { u ? s(u) : a(c) }, d.forEach((function (t) { if (p) { if (Oa(t, "X-TIMESTAMP-MAP=")) { p = !1, t.slice(16).split(",").forEach((function (t) { Oa(t, "LOCAL:") ? g = t.slice(6) : Oa(t, "MPEGTS:") && (v = parseInt(t.slice(7))) })); try { m = function (t) { var e = parseInt(t.slice(-3)), r = parseInt(t.slice(-6, -4)), i = parseInt(t.slice(-9, -7)), n = t.length > 9 ? parseInt(t.substring(0, t.indexOf(":"))) : 0; if (!(y(e) && y(r) && y(i) && y(n))) throw Error("Malformed X-TIMESTAMP-MAP: Local:" + t); return e += 1e3 * r, (e += 6e4 * i) + 36e5 * n }(g) / 1e3 } catch (t) { u = t } return } "" === t && (p = !1) } h.parse(t + "\n") })), h.flush() } var Ga = "stpp.ttml.im1t", Ka = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/, Ha = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/, Va = { left: "start", center: "center", right: "end", start: "start", end: "end" }; function Ya(t, e, r, i) { var n = Ot(new Uint8Array(t), ["mdat"]); if (0 !== n.length) { var a, s, l, u, h = n.map((function (t) { return Rt(t) })), d = (a = e.baseTime, s = 1, void 0 === (l = e.timescale) && (l = 1), void 0 === u && (u = !1), Rn(a, s, 1 / l, u)); try { h.forEach((function (t) { return r(function (t, e) { var r = (new DOMParser).parseFromString(t, "text/xml"), i = r.getElementsByTagName("tt")[0]; if (!i) throw new Error("Invalid ttml"); var n = { frameRate: 30, subFrameRate: 1, frameRateMultiplier: 0, tickRate: 0 }, a = Object.keys(n).reduce((function (t, e) { return t[e] = i.getAttribute("ttp:" + e) || n[e], t }), {}), s = "preserve" !== i.getAttribute("xml:space"), l = ja(Wa(i, "styling", "style")), u = ja(Wa(i, "layout", "region")), h = Wa(i, "body", "[begin]"); return [].map.call(h, (function (t) { var r = qa(t, s); if (!r || !t.hasAttribute("begin")) return null; var i = Qa(t.getAttribute("begin"), a), n = Qa(t.getAttribute("dur"), a), h = Qa(t.getAttribute("end"), a); if (null === i) throw za(t); if (null === h) { if (null === n) throw za(t); h = i + n } var d = new ba(i - e, h - e, r); d.id = Ua(d.startTime, d.endTime, d.text); var c = function (t, e, r) { var i = "http://www.w3.org/ns/ttml#styling", n = null, a = ["displayAlign", "textAlign", "color", "backgroundColor", "fontSize", "fontFamily"], s = null != t && t.hasAttribute("style") ? t.getAttribute("style") : null; return s && r.hasOwnProperty(s) && (n = r[s]), a.reduce((function (r, a) { var s = Xa(e, i, a) || Xa(t, i, a) || Xa(n, i, a); return s && (r[a] = s), r }), {}) }(u[t.getAttribute("region")], l[t.getAttribute("style")], l), f = c.textAlign; if (f) { var g = Va[f]; g && (d.lineAlign = g), d.align = f } return o(d, c), d })).filter((function (t) { return null !== t })) }(t, d)) })) } catch (t) { i(t) } } else i(new Error("Could not parse IMSC1 mdat")) } function Wa(t, e, r) { var i = t.getElementsByTagName(e)[0]; return i ? [].slice.call(i.querySelectorAll(r)) : [] } function ja(t) { return t.reduce((function (t, e) { var r = e.getAttribute("xml:id"); return r && (t[r] = e), t }), {}) } function qa(t, e) { return [].slice.call(t.childNodes).reduce((function (t, r, i) { var n; return "br" === r.nodeName && i ? t + "\n" : null != (n = r.childNodes) && n.length ? qa(r, e) : e ? t + r.textContent.trim().replace(/\s+/g, " ") : t + r.textContent }), "") } function Xa(t, e, r) { return t && t.hasAttributeNS(e, r) ? t.getAttributeNS(e, r) : null } function za(t) { return new Error("Could not parse ttml timestamp " + t) } function Qa(t, e) { if (!t) return null; var r = Da(t); return null === r && (Ka.test(t) ? r = function (t, e) { var r = Ka.exec(t), i = (0 | r[4]) + (0 | r[5]) / e.subFrameRate; return 3600 * (0 | r[1]) + 60 * (0 | r[2]) + (0 | r[3]) + i / e.frameRate }(t, e) : Ha.test(t) && (r = function (t, e) { var r = Ha.exec(t), i = Number(r[1]); switch (r[2]) { case "h": return 3600 * i; case "m": return 60 * i; case "ms": return 1e3 * i; case "f": return i / e.frameRate; case "t": return i / e.tickRate }return i }(t, e))), r } var Ja = function () { function t(t) { this.hls = void 0, this.media = null, this.config = void 0, this.enabled = !0, this.Cues = void 0, this.textTracks = [], this.tracks = [], this.initPTS = [], this.unparsedVttFrags = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}, this.cea608Parser1 = void 0, this.cea608Parser2 = void 0, this.lastCc = -1, this.lastSn = -1, this.lastPartIndex = -1, this.prevCC = -1, this.vttCCs = { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } }, this.captionsProperties = void 0, this.hls = t, this.config = t.config, this.Cues = t.config.cueHandler, this.captionsProperties = { textTrack1: { label: this.config.captionsTextTrack1Label, languageCode: this.config.captionsTextTrack1LanguageCode }, textTrack2: { label: this.config.captionsTextTrack2Label, languageCode: this.config.captionsTextTrack2LanguageCode }, textTrack3: { label: this.config.captionsTextTrack3Label, languageCode: this.config.captionsTextTrack3LanguageCode }, textTrack4: { label: this.config.captionsTextTrack4Label, languageCode: this.config.captionsTextTrack4LanguageCode } }, t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.on(S.FRAG_LOADING, this.onFragLoading, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this), t.on(S.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this), t.on(S.FRAG_DECRYPTED, this.onFragDecrypted, this), t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.on(S.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this) } var e = t.prototype; return e.destroy = function () { var t = this.hls; t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.off(S.FRAG_LOADING, this.onFragLoading, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this), t.off(S.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this), t.off(S.FRAG_DECRYPTED, this.onFragDecrypted, this), t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.off(S.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), this.hls = this.config = null, this.cea608Parser1 = this.cea608Parser2 = void 0 }, e.initCea608Parsers = function () { if (this.config.enableCEA708Captions && (!this.cea608Parser1 || !this.cea608Parser2)) { var t = new Ra(this, "textTrack1"), e = new Ra(this, "textTrack2"), r = new Ra(this, "textTrack3"), i = new Ra(this, "textTrack4"); this.cea608Parser1 = new La(1, t, e), this.cea608Parser2 = new La(3, r, i) } }, e.addCues = function (t, e, r, i, n) { for (var a, s, o, l, u = !1, h = n.length; h--;) { var d = n[h], c = (a = d[0], s = d[1], o = e, l = r, Math.min(s, l) - Math.max(a, o)); if (c >= 0 && (d[0] = Math.min(d[0], e), d[1] = Math.max(d[1], r), u = !0, c / (r - e) > .5)) return } if (u || n.push([e, r]), this.config.renderTextTracksNatively) { var f = this.captionsTracks[t]; this.Cues.newCue(f, e, r, i) } else { var g = this.Cues.newCue(null, e, r, i); this.hls.trigger(S.CUES_PARSED, { type: "captions", cues: g, track: t }) } }, e.onInitPtsFound = function (t, e) { var r = this, i = e.frag, n = e.id, a = e.initPTS, s = e.timescale, o = this.unparsedVttFrags; "main" === n && (this.initPTS[i.cc] = { baseTime: a, timescale: s }), o.length && (this.unparsedVttFrags = [], o.forEach((function (t) { r.onFragLoaded(S.FRAG_LOADED, t) }))) }, e.getExistingTrack = function (t, e) { var r = this.media; if (r) for (var i = 0; i < r.textTracks.length; i++) { var n = r.textTracks[i]; if (Za(n, { name: t, lang: e, attrs: {} })) return n } return null }, e.createCaptionsTrack = function (t) { this.config.renderTextTracksNatively ? this.createNativeTrack(t) : this.createNonNativeTrack(t) }, e.createNativeTrack = function (t) { if (!this.captionsTracks[t]) { var e = this.captionsProperties, r = this.captionsTracks, i = this.media, n = e[t], a = n.label, s = n.languageCode, o = this.getExistingTrack(a, s); if (o) r[t] = o, He(r[t]), Ge(r[t], i); else { var l = this.createTextTrack("captions", a, s); l && (l[t] = !0, r[t] = l) } } }, e.createNonNativeTrack = function (t) { if (!this.nonNativeCaptionsTracks[t]) { var e = this.captionsProperties[t]; if (e) { var r = { _id: t, label: e.label, kind: "captions", default: !!e.media && !!e.media.default, closedCaptions: e.media }; this.nonNativeCaptionsTracks[t] = r, this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: [r] }) } } }, e.createTextTrack = function (t, e, r) { var i = this.media; if (i) return i.addTextTrack(t, e, r) }, e.onMediaAttaching = function (t, e) { this.media = e.media, this._cleanTracks() }, e.onMediaDetaching = function () { var t = this.captionsTracks; Object.keys(t).forEach((function (e) { He(t[e]), delete t[e] })), this.nonNativeCaptionsTracks = {} }, e.onManifestLoading = function () { this.lastCc = -1, this.lastSn = -1, this.lastPartIndex = -1, this.prevCC = -1, this.vttCCs = { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } }, this._cleanTracks(), this.tracks = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}, this.textTracks = [], this.unparsedVttFrags = [], this.initPTS = [], this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(), this.cea608Parser2.reset()) }, e._cleanTracks = function () { var t = this.media; if (t) { var e = t.textTracks; if (e) for (var r = 0; r < e.length; r++)He(e[r]) } }, e.onSubtitleTracksUpdated = function (t, e) { var r = this, i = e.subtitleTracks || [], n = i.some((function (t) { return t.textCodec === Ga })); if (this.config.enableWebVTT || n && this.config.enableIMSC1) { if (Xn(this.tracks, i)) return void (this.tracks = i); if (this.textTracks = [], this.tracks = i, this.config.renderTextTracksNatively) { var a = this.media, s = a ? Ye(a.textTracks) : null; if (this.tracks.forEach((function (t, e) { var i; if (s) { for (var n = null, a = 0; a < s.length; a++)if (s[a] && Za(s[a], t)) { n = s[a], s[a] = null; break } n && (i = n) } if (i) He(i); else { var o = $a(t); (i = r.createTextTrack(o, t.name, t.lang)) && (i.mode = "disabled") } i && r.textTracks.push(i) })), null != s && s.length) { var o = s.filter((function (t) { return null !== t })).map((function (t) { return t.label })); o.length && w.warn("Media element contains unused subtitle tracks: " + o.join(", ") + ". Replace media element for each source to clear TextTracks and captions menu.") } } else if (this.tracks.length) { var l = this.tracks.map((function (t) { return { label: t.name, kind: t.type.toLowerCase(), default: t.default, subtitleTrack: t } })); this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: l }) } } }, e.onManifestLoaded = function (t, e) { var r = this; this.config.enableCEA708Captions && e.captions && e.captions.forEach((function (t) { var e = /(?:CC|SERVICE)([1-4])/.exec(t.instreamId); if (e) { var i = "textTrack" + e[1], n = r.captionsProperties[i]; n && (n.label = t.name, t.lang && (n.languageCode = t.lang), n.media = t) } })) }, e.closedCaptionsForLevel = function (t) { var e = this.hls.levels[t.level]; return null == e ? void 0 : e.attrs["CLOSED-CAPTIONS"] }, e.onFragLoading = function (t, e) { if (this.enabled && e.frag.type === Fe) { var r, i, n = this.cea608Parser1, a = this.cea608Parser2, s = this.lastSn, o = e.frag, l = o.cc, u = o.sn, h = null != (r = null == (i = e.part) ? void 0 : i.index) ? r : -1; n && a && (u !== s + 1 || u === s && h !== this.lastPartIndex + 1 || l !== this.lastCc) && (n.reset(), a.reset()), this.lastCc = l, this.lastSn = u, this.lastPartIndex = h } }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.payload; if (r.type === Oe) if (i.byteLength) { var n = r.decryptdata, a = "stats" in e; if (null == n || !n.encrypted || a) { var s = this.tracks[r.level], o = this.vttCCs; o[r.cc] || (o[r.cc] = { start: r.start, prevCC: this.prevCC, new: !0 }, this.prevCC = r.cc), s && s.textCodec === Ga ? this._parseIMSC1(r, i) : this._parseVTTs(e) } } else this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: r, error: new Error("Empty subtitle payload") }) }, e._parseIMSC1 = function (t, e) { var r = this, i = this.hls; Ya(e, this.initPTS[t.cc], (function (e) { r._appendCues(e, t.level), i.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: t }) }), (function (e) { w.log("Failed to parse IMSC1: " + e), i.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: t, error: e }) })) }, e._parseVTTs = function (t) { var e, r = this, i = t.frag, n = t.payload, a = this.initPTS, s = this.unparsedVttFrags, o = a.length - 1; if (a[i.cc] || -1 !== o) { var l = this.hls; Ba(null != (e = i.initSegment) && e.data ? Wt(i.initSegment.data, new Uint8Array(n)) : n, this.initPTS[i.cc], this.vttCCs, i.cc, i.start, (function (t) { r._appendCues(t, i.level), l.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: i }) }), (function (e) { var a = "Missing initPTS for VTT MPEGTS" === e.message; a ? s.push(t) : r._fallbackToIMSC1(i, n), w.log("Failed to parse VTT cue: " + e), a && o > i.cc || l.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: i, error: e }) })) } else s.push(t) }, e._fallbackToIMSC1 = function (t, e) { var r = this, i = this.tracks[t.level]; i.textCodec || Ya(e, this.initPTS[t.cc], (function () { i.textCodec = Ga, r._parseIMSC1(t, e) }), (function () { i.textCodec = "wvtt" })) }, e._appendCues = function (t, e) { var r = this.hls; if (this.config.renderTextTracksNatively) { var i = this.textTracks[e]; if (!i || "disabled" === i.mode) return; t.forEach((function (t) { return Ke(i, t) })) } else { var n = this.tracks[e]; if (!n) return; var a = n.default ? "default" : "subtitles" + e; r.trigger(S.CUES_PARSED, { type: "subtitles", cues: t, track: a }) } }, e.onFragDecrypted = function (t, e) { e.frag.type === Oe && this.onFragLoaded(S.FRAG_LOADED, e) }, e.onSubtitleTracksCleared = function () { this.tracks = [], this.captionsTracks = {} }, e.onFragParsingUserdata = function (t, e) { this.initCea608Parsers(); var r = this.cea608Parser1, i = this.cea608Parser2; if (this.enabled && r && i) { var n = e.frag, a = e.samples; if (n.type !== Fe || "NONE" !== this.closedCaptionsForLevel(n)) for (var s = 0; s < a.length; s++) { var o = a[s].bytes; if (o) { var l = this.extractCea608Data(o); r.addData(a[s].pts, l[0]), i.addData(a[s].pts, l[1]) } } } }, e.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset, n = e.endOffsetSubtitles, a = e.type, s = this.media; if (s && !(s.currentTime < i)) { if (!a || "video" === a) { var o = this.captionsTracks; Object.keys(o).forEach((function (t) { return Ve(o[t], r, i) })) } if (this.config.renderTextTracksNatively && 0 === r && void 0 !== n) { var l = this.textTracks; Object.keys(l).forEach((function (t) { return Ve(l[t], r, n) })) } } }, e.extractCea608Data = function (t) { for (var e = [[], []], r = 31 & t[0], i = 2, n = 0; n < r; n++) { var a = t[i++], s = 127 & t[i++], o = 127 & t[i++]; if ((0 !== s || 0 !== o) && 0 != (4 & a)) { var l = 3 & a; 0 !== l && 1 !== l || (e[l].push(s), e[l].push(o)) } } return e }, t }(); function $a(t) { return t.characteristics && /transcribes-spoken-dialog/gi.test(t.characteristics) && /describes-music-and-sound/gi.test(t.characteristics) ? "captions" : "subtitles" } function Za(t, e) { return !!t && t.kind === $a(e) && Qn(e, t) } var ts = function () { function t(t) { this.hls = void 0, this.autoLevelCapping = void 0, this.firstLevel = void 0, this.media = void 0, this.restrictedLevels = void 0, this.timer = void 0, this.clientRect = void 0, this.streamController = void 0, this.hls = t, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.firstLevel = -1, this.media = null, this.restrictedLevels = [], this.timer = void 0, this.clientRect = null, this.registerListeners() } var e = t.prototype; return e.setStreamController = function (t) { this.streamController = t }, e.destroy = function () { this.hls && this.unregisterListener(), this.timer && this.stopCapping(), this.media = null, this.clientRect = null, this.hls = this.streamController = null }, e.registerListeners = function () { var t = this.hls; t.on(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this), t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.BUFFER_CODECS, this.onBufferCodecs, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this) }, e.unregisterListener = function () { var t = this.hls; t.off(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this), t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.BUFFER_CODECS, this.onBufferCodecs, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this) }, e.onFpsDropLevelCapping = function (t, e) { var r = this.hls.levels[e.droppedLevel]; this.isLevelAllowed(r) && this.restrictedLevels.push({ bitrate: r.bitrate, height: r.height, width: r.width }) }, e.onMediaAttaching = function (t, e) { this.media = e.media instanceof HTMLVideoElement ? e.media : null, this.clientRect = null, this.timer && this.hls.levels.length && this.detectPlayerSize() }, e.onManifestParsed = function (t, e) { var r = this.hls; this.restrictedLevels = [], this.firstLevel = e.firstLevel, r.config.capLevelToPlayerSize && e.video && this.startCapping() }, e.onLevelsUpdated = function (t, e) { this.timer && y(this.autoLevelCapping) && this.detectPlayerSize() }, e.onBufferCodecs = function (t, e) { this.hls.config.capLevelToPlayerSize && e.video && this.startCapping() }, e.onMediaDetaching = function () { this.stopCapping() }, e.detectPlayerSize = function () { if (this.media) { if (this.mediaHeight <= 0 || this.mediaWidth <= 0) return void (this.clientRect = null); var t = this.hls.levels; if (t.length) { var e = this.hls, r = this.getMaxLevel(t.length - 1); r !== this.autoLevelCapping && w.log("Setting autoLevelCapping to " + r + ": " + t[r].height + "p@" + t[r].bitrate + " for media " + this.mediaWidth + "x" + this.mediaHeight), e.autoLevelCapping = r, e.autoLevelCapping > this.autoLevelCapping && this.streamController && this.streamController.nextLevelSwitch(), this.autoLevelCapping = e.autoLevelCapping } } }, e.getMaxLevel = function (e) { var r = this, i = this.hls.levels; if (!i.length) return -1; var n = i.filter((function (t, i) { return r.isLevelAllowed(t) && i <= e })); return this.clientRect = null, t.getMaxLevelByMediaSize(n, this.mediaWidth, this.mediaHeight) }, e.startCapping = function () { this.timer || (this.autoLevelCapping = Number.POSITIVE_INFINITY, self.clearInterval(this.timer), this.timer = self.setInterval(this.detectPlayerSize.bind(this), 1e3), this.detectPlayerSize()) }, e.stopCapping = function () { this.restrictedLevels = [], this.firstLevel = -1, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.timer && (self.clearInterval(this.timer), this.timer = void 0) }, e.getDimensions = function () { if (this.clientRect) return this.clientRect; var t = this.media, e = { width: 0, height: 0 }; if (t) { var r = t.getBoundingClientRect(); e.width = r.width, e.height = r.height, e.width || e.height || (e.width = r.right - r.left || t.width || 0, e.height = r.bottom - r.top || t.height || 0) } return this.clientRect = e, e }, e.isLevelAllowed = function (t) { return !this.restrictedLevels.some((function (e) { return t.bitrate === e.bitrate && t.width === e.width && t.height === e.height })) }, t.getMaxLevelByMediaSize = function (t, e, r) { if (null == t || !t.length) return -1; for (var i, n, a = t.length - 1, s = Math.max(e, r), o = 0; o < t.length; o += 1) { var l = t[o]; if ((l.width >= s || l.height >= s) && (i = l, !(n = t[o + 1]) || i.width !== n.width || i.height !== n.height)) { a = o; break } } return a }, s(t, [{ key: "mediaWidth", get: function () { return this.getDimensions().width * this.contentScaleFactor } }, { key: "mediaHeight", get: function () { return this.getDimensions().height * this.contentScaleFactor } }, { key: "contentScaleFactor", get: function () { var t = 1; if (!this.hls.config.ignoreDevicePixelRatio) try { t = self.devicePixelRatio } catch (t) { } return t } }]), t }(), es = function () { function t(t) { this.hls = void 0, this.isVideoPlaybackQualityAvailable = !1, this.timer = void 0, this.media = null, this.lastTime = void 0, this.lastDroppedFrames = 0, this.lastDecodedFrames = 0, this.streamController = void 0, this.hls = t, this.registerListeners() } var e = t.prototype; return e.setStreamController = function (t) { this.streamController = t }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this) }, e.destroy = function () { this.timer && clearInterval(this.timer), this.unregisterListeners(), this.isVideoPlaybackQualityAvailable = !1, this.media = null }, e.onMediaAttaching = function (t, e) { var r = this.hls.config; if (r.capLevelOnFPSDrop) { var i = e.media instanceof self.HTMLVideoElement ? e.media : null; this.media = i, i && "function" == typeof i.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0), self.clearInterval(this.timer), this.timer = self.setInterval(this.checkFPSInterval.bind(this), r.fpsDroppedMonitoringPeriod) } }, e.checkFPS = function (t, e, r) { var i = performance.now(); if (e) { if (this.lastTime) { var n = i - this.lastTime, a = r - this.lastDroppedFrames, s = e - this.lastDecodedFrames, o = 1e3 * a / n, l = this.hls; if (l.trigger(S.FPS_DROP, { currentDropped: a, currentDecoded: s, totalDroppedFrames: r }), o > 0 && a > l.config.fpsDroppedMonitoringThreshold * s) { var u = l.currentLevel; w.warn("drop FPS ratio greater than max allowed value for currentLevel: " + u), u > 0 && (-1 === l.autoLevelCapping || l.autoLevelCapping >= u) && (u -= 1, l.trigger(S.FPS_DROP_LEVEL_CAPPING, { level: u, droppedLevel: l.currentLevel }), l.autoLevelCapping = u, this.streamController.nextLevelSwitch()) } } this.lastTime = i, this.lastDroppedFrames = r, this.lastDecodedFrames = e } }, e.checkFPSInterval = function () { var t = this.media; if (t) if (this.isVideoPlaybackQualityAvailable) { var e = t.getVideoPlaybackQuality(); this.checkFPS(t, e.totalVideoFrames, e.droppedVideoFrames) } else this.checkFPS(t, t.webkitDecodedFrameCount, t.webkitDroppedFrameCount) }, t }(), rs = "[eme]", is = function () { function t(e) { this.hls = void 0, this.config = void 0, this.media = null, this.keyFormatPromise = null, this.keySystemAccessPromises = {}, this._requestLicenseFailureCount = 0, this.mediaKeySessions = [], this.keyIdToKeySessionPromise = {}, this.setMediaKeysQueue = t.CDMCleanupPromise ? [t.CDMCleanupPromise] : [], this.onMediaEncrypted = this._onMediaEncrypted.bind(this), this.onWaitingForKey = this._onWaitingForKey.bind(this), this.debug = w.debug.bind(w, rs), this.log = w.log.bind(w, rs), this.warn = w.warn.bind(w, rs), this.error = w.error.bind(w, rs), this.hls = e, this.config = e.config, this.registerListeners() } var e = t.prototype; return e.destroy = function () { this.unregisterListeners(), this.onMediaDetached(); var t = this.config; t.requestMediaKeySystemAccessFunc = null, t.licenseXhrSetup = t.licenseResponseCallback = void 0, t.drmSystems = t.drmSystemOptions = {}, this.hls = this.onMediaEncrypted = this.onWaitingForKey = this.keyIdToKeySessionPromise = null, this.config = null }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.on(S.MEDIA_DETACHED, this.onMediaDetached, this), this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.on(S.MANIFEST_LOADED, this.onManifestLoaded, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.off(S.MEDIA_DETACHED, this.onMediaDetached, this), this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this) }, e.getLicenseServerUrl = function (t) { var e = this.config, r = e.drmSystems, i = e.widevineLicenseUrl, n = r[t]; if (n) return n.licenseUrl; if (t === q.WIDEVINE && i) return i; throw new Error('no license server URL configured for key-system "' + t + '"') }, e.getServerCertificateUrl = function (t) { var e = this.config.drmSystems[t]; if (e) return e.serverCertificateUrl; this.log('No Server Certificate in config.drmSystems["' + t + '"]') }, e.attemptKeySystemAccess = function (t) { var e = this, r = this.hls.levels, i = function (t, e, r) { return !!t && r.indexOf(t) === e }, n = r.map((function (t) { return t.audioCodec })).filter(i), a = r.map((function (t) { return t.videoCodec })).filter(i); return n.length + a.length === 0 && a.push("avc1.42e01e"), new Promise((function (r, i) { !function t(s) { var o = s.shift(); e.getMediaKeysPromise(o, n, a).then((function (t) { return r({ keySystem: o, mediaKeys: t }) })).catch((function (e) { s.length ? t(s) : i(e instanceof ls ? e : new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_ACCESS, error: e, fatal: !0 }, e.message)) })) }(t) })) }, e.requestMediaKeySystemAccess = function (t, e) { var r = this.config.requestMediaKeySystemAccessFunc; if ("function" != typeof r) { var i = "Configured requestMediaKeySystemAccess is not a function " + r; return null === ot && "http:" === self.location.protocol && (i = "navigator.requestMediaKeySystemAccess is not available over insecure protocol " + location.protocol), Promise.reject(new Error(i)) } return r(t, e) }, e.getMediaKeysPromise = function (t, e, r) { var i = this, n = function (t, e, r, i) { var n; switch (t) { case q.FAIRPLAY: n = ["cenc", "sinf"]; break; case q.WIDEVINE: case q.PLAYREADY: n = ["cenc"]; break; case q.CLEARKEY: n = ["cenc", "keyids"]; break; default: throw new Error("Unknown key-system: " + t) }return function (t, e, r, i) { return [{ initDataTypes: t, persistentState: i.persistentState || "optional", distinctiveIdentifier: i.distinctiveIdentifier || "optional", sessionTypes: i.sessionTypes || [i.sessionType || "temporary"], audioCapabilities: e.map((function (t) { return { contentType: 'audio/mp4; codecs="' + t + '"', robustness: i.audioRobustness || "", encryptionScheme: i.audioEncryptionScheme || null } })), videoCapabilities: r.map((function (t) { return { contentType: 'video/mp4; codecs="' + t + '"', robustness: i.videoRobustness || "", encryptionScheme: i.videoEncryptionScheme || null } })) }] }(n, e, r, i) }(t, e, r, this.config.drmSystemOptions), a = this.keySystemAccessPromises[t], s = null == a ? void 0 : a.keySystemAccess; if (!s) { this.log('Requesting encrypted media "' + t + '" key-system access with config: ' + JSON.stringify(n)), s = this.requestMediaKeySystemAccess(t, n); var o = this.keySystemAccessPromises[t] = { keySystemAccess: s }; return s.catch((function (e) { i.log('Failed to obtain access to key-system "' + t + '": ' + e) })), s.then((function (e) { i.log('Access for key-system "' + e.keySystem + '" obtained'); var r = i.fetchServerCertificate(t); return i.log('Create media-keys for "' + t + '"'), o.mediaKeys = e.createMediaKeys().then((function (e) { return i.log('Media-keys created for "' + t + '"'), r.then((function (r) { return r ? i.setMediaKeysServerCertificate(e, t, r) : e })) })), o.mediaKeys.catch((function (e) { i.error('Failed to create media-keys for "' + t + '"}: ' + e) })), o.mediaKeys })) } return s.then((function () { return a.mediaKeys })) }, e.createMediaKeySessionContext = function (t) { var e = t.decryptdata, r = t.keySystem, i = t.mediaKeys; this.log('Creating key-system session "' + r + '" keyId: ' + kt.hexDump(e.keyId || [])); var n = i.createSession(), a = { decryptdata: e, keySystem: r, mediaKeys: i, mediaKeysSession: n, keyStatus: "status-pending" }; return this.mediaKeySessions.push(a), a }, e.renewKeySession = function (t) { var e = t.decryptdata; if (e.pssh) { var r = this.createMediaKeySessionContext(t), i = this.getKeyIdString(e); this.keyIdToKeySessionPromise[i] = this.generateRequestWithPreferredKeySession(r, "cenc", e.pssh, "expired") } else this.warn("Could not renew expired session. Missing pssh initData."); this.removeSession(t) }, e.getKeyIdString = function (t) { if (!t) throw new Error("Could not read keyId of undefined decryptdata"); if (null === t.keyId) throw new Error("keyId is null"); return kt.hexDump(t.keyId) }, e.updateKeySession = function (t, e) { var r, i = t.mediaKeysSession; return this.log('Updating key-session "' + i.sessionId + '" for keyID ' + kt.hexDump((null == (r = t.decryptdata) ? void 0 : r.keyId) || []) + "\n      } (data length: " + (e ? e.byteLength : e) + ")"), i.update(e) }, e.selectKeySystemFormat = function (t) { var e = Object.keys(t.levelkeys || {}); return this.keyFormatPromise || (this.log("Selecting key-system from fragment (sn: " + t.sn + " " + t.type + ": " + t.level + ") key formats " + e.join(", ")), this.keyFormatPromise = this.getKeyFormatPromise(e)), this.keyFormatPromise }, e.getKeyFormatPromise = function (t) { var e = this; return new Promise((function (r, i) { var n = at(e.config), a = t.map($).filter((function (t) { return !!t && -1 !== n.indexOf(t) })); return e.getKeySystemSelectionPromise(a).then((function (t) { var e = t.keySystem, n = nt(e); n ? r(n) : i(new Error('Unable to find format for key-system "' + e + '"')) })).catch(i) })) }, e.loadKey = function (t) { var e = this, r = t.keyInfo.decryptdata, i = this.getKeyIdString(r), n = "(keyId: " + i + ' format: "' + r.keyFormat + '" method: ' + r.method + " uri: " + r.uri + ")"; this.log("Starting session for key " + n); var a = this.keyIdToKeySessionPromise[i]; return a || (a = this.keyIdToKeySessionPromise[i] = this.getKeySystemForKeyPromise(r).then((function (i) { var a = i.keySystem, s = i.mediaKeys; return e.throwIfDestroyed(), e.log("Handle encrypted media sn: " + t.frag.sn + " " + t.frag.type + ": " + t.frag.level + " using key " + n), e.attemptSetMediaKeys(a, s).then((function () { e.throwIfDestroyed(); var t = e.createMediaKeySessionContext({ keySystem: a, mediaKeys: s, decryptdata: r }); return e.generateRequestWithPreferredKeySession(t, "cenc", r.pssh, "playlist-key") })) }))).catch((function (t) { return e.handleError(t) })), a }, e.throwIfDestroyed = function (t) { if (!this.hls) throw new Error("invalid state") }, e.handleError = function (t) { this.hls && (this.error(t.message), t instanceof ls ? this.hls.trigger(S.ERROR, t.data) : this.hls.trigger(S.ERROR, { type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_KEYS, error: t, fatal: !0 })) }, e.getKeySystemForKeyPromise = function (t) { var e = this.getKeyIdString(t), r = this.keyIdToKeySessionPromise[e]; if (!r) { var i = $(t.keyFormat), n = i ? [i] : at(this.config); return this.attemptKeySystemAccess(n) } return r }, e.getKeySystemSelectionPromise = function (t) { if (t.length || (t = at(this.config)), 0 === t.length) throw new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_CONFIGURED_LICENSE, fatal: !0 }, "Missing key-system license configuration options " + JSON.stringify({ drmSystems: this.config.drmSystems })); return this.attemptKeySystemAccess(t) }, e._onMediaEncrypted = function (t) { var e = this, r = t.initDataType, i = t.initData, n = '"' + t.type + '" event: init data type: "' + r + '"'; if (this.debug(n), null !== i) { var a, s; if ("sinf" === r && this.config.drmSystems[q.FAIRPLAY]) { var o = Ct(new Uint8Array(i)); try { var l = V(JSON.parse(o).sinf), u = Vt(new Uint8Array(l)); if (!u) throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc"); a = u.subarray(8, 24), s = q.FAIRPLAY } catch (t) { return void this.warn(n + " Failed to parse sinf: " + t) } } else { var h = function (t) { var e = []; if (t instanceof ArrayBuffer) for (var r = t.byteLength, i = 0; i + 32 < r;) { var n = Jt(new DataView(t, i)); e.push(n), i += n.size } return e }(i), d = h.filter((function (t) { return t.systemId === rt }))[0]; if (!d) return void (0 === h.length || h.some((function (t) { return !t.systemId })) ? this.warn(n + " contains incomplete or invalid pssh data") : this.log("ignoring " + n + " for " + h.map((function (t) { return it(t.systemId) })).join(",") + " pssh data in favor of playlist keys")); if (s = it(d.systemId), 0 === d.version && d.data) { var c = d.data.length - 22; a = d.data.subarray(c, c + 16) } } if (s && a) { for (var f, g = kt.hexDump(a), v = this.keyIdToKeySessionPromise, m = this.mediaKeySessions, p = v[g], y = function () { var t = m[E], n = t.decryptdata; if (!n.keyId) return 0; var s = kt.hexDump(n.keyId); return g === s || -1 !== n.uri.replace(/-/g, "").indexOf(g) ? (p = v[s], n.pssh || (delete v[s], n.pssh = new Uint8Array(i), n.keyId = a, p = v[g] = p.then((function () { return e.generateRequestWithPreferredKeySession(t, r, i, "encrypted-event-key-match") }))), 1) : void 0 }, E = 0; E < m.length && (0 === (f = y()) || 1 !== f); E++); p || (p = v[g] = this.getKeySystemSelectionPromise([s]).then((function (t) { var n, s = t.keySystem, o = t.mediaKeys; e.throwIfDestroyed(); var l = new Zt("ISO-23001-7", g, null != (n = nt(s)) ? n : ""); return l.pssh = new Uint8Array(i), l.keyId = a, e.attemptSetMediaKeys(s, o).then((function () { e.throwIfDestroyed(); var t = e.createMediaKeySessionContext({ decryptdata: l, keySystem: s, mediaKeys: o }); return e.generateRequestWithPreferredKeySession(t, r, i, "encrypted-event-no-match") })) }))), p.catch((function (t) { return e.handleError(t) })) } } }, e._onWaitingForKey = function (t) { this.log('"' + t.type + '" event') }, e.attemptSetMediaKeys = function (t, e) { var r = this, i = this.setMediaKeysQueue.slice(); this.log('Setting media-keys for "' + t + '"'); var n = Promise.all(i).then((function () { if (!r.media) throw new Error("Attempted to set mediaKeys without media element attached"); return r.media.setMediaKeys(e) })); return this.setMediaKeysQueue.push(n), n.then((function () { r.log('Media-keys set for "' + t + '"'), i.push(n), r.setMediaKeysQueue = r.setMediaKeysQueue.filter((function (t) { return -1 === i.indexOf(t) })) })) }, e.generateRequestWithPreferredKeySession = function (t, e, r, i) { var n, a, s = this, o = null == (n = this.config.drmSystems) || null == (a = n[t.keySystem]) ? void 0 : a.generateRequest; if (o) try { var l = o.call(this.hls, e, r, t); if (!l) throw new Error("Invalid response from configured generateRequest filter"); e = l.initDataType, r = t.decryptdata.pssh = l.initData ? new Uint8Array(l.initData) : null } catch (t) { var u; if (this.warn(t.message), null != (u = this.hls) && u.config.debug) throw t } if (null === r) return this.log('Skipping key-session request for "' + i + '" (no initData)'), Promise.resolve(t); var h = this.getKeyIdString(t.decryptdata); this.log('Generating key-session request for "' + i + '": ' + h + " (init data type: " + e + " length: " + (r ? r.byteLength : null) + ")"); var d = new Vn, c = t._onmessage = function (e) { var r = t.mediaKeysSession; if (r) { var i = e.messageType, n = e.message; s.log('"' + i + '" message event for session "' + r.sessionId + '" message size: ' + n.byteLength), "license-request" === i || "license-renewal" === i ? s.renewLicense(t, n).catch((function (t) { s.handleError(t), d.emit("error", t) })) : "license-release" === i ? t.keySystem === q.FAIRPLAY && (s.updateKeySession(t, W("acknowledged")), s.removeSession(t)) : s.warn('unhandled media key message type "' + i + '"') } else d.emit("error", new Error("invalid state")) }, f = t._onkeystatuseschange = function (e) { if (t.mediaKeysSession) { s.onKeyStatusChange(t); var r = t.keyStatus; d.emit("keyStatus", r), "expired" === r && (s.warn(t.keySystem + " expired for key " + h), s.renewKeySession(t)) } else d.emit("error", new Error("invalid state")) }; t.mediaKeysSession.addEventListener("message", c), t.mediaKeysSession.addEventListener("keystatuseschange", f); var g = new Promise((function (t, e) { d.on("error", e), d.on("keyStatus", (function (r) { r.startsWith("usable") ? t() : "output-restricted" === r ? e(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED, fatal: !1 }, "HDCP level output restricted")) : "internal-error" === r ? e(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_STATUS_INTERNAL_ERROR, fatal: !0 }, 'key status changed to "' + r + '"')) : "expired" === r ? e(new Error("key expired while generating request")) : s.warn('unhandled key status change "' + r + '"') })) })); return t.mediaKeysSession.generateRequest(e, r).then((function () { var e; s.log('Request generated for key-session "' + (null == (e = t.mediaKeysSession) ? void 0 : e.sessionId) + '" keyId: ' + h) })).catch((function (t) { throw new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_SESSION, error: t, fatal: !1 }, "Error generating key-session request: " + t) })).then((function () { return g })).catch((function (e) { throw d.removeAllListeners(), s.removeSession(t), e })).then((function () { return d.removeAllListeners(), t })) }, e.onKeyStatusChange = function (t) { var e = this; t.mediaKeysSession.keyStatuses.forEach((function (r, i) { e.log('key status change "' + r + '" for keyStatuses keyId: ' + kt.hexDump("buffer" in i ? new Uint8Array(i.buffer, i.byteOffset, i.byteLength) : new Uint8Array(i)) + " session keyId: " + kt.hexDump(new Uint8Array(t.decryptdata.keyId || [])) + " uri: " + t.decryptdata.uri), t.keyStatus = r })) }, e.fetchServerCertificate = function (t) { var e = this.config, r = new (0, e.loader)(e), n = this.getServerCertificateUrl(t); return n ? (this.log('Fetching server certificate for "' + t + '"'), new Promise((function (a, s) { var o = { responseType: "arraybuffer", url: n }, l = e.certLoadPolicy.default, u = { loadPolicy: l, timeout: l.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 }, h = { onSuccess: function (t, e, r, i) { a(t.data) }, onError: function (e, r, a, l) { s(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: a, response: i({ url: o.url, data: void 0 }, e) }, '"' + t + '" certificate request failed (' + n + "). Status: " + e.code + " (" + e.text + ")")) }, onTimeout: function (e, r, i) { s(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: i, response: { url: o.url, data: void 0 } }, '"' + t + '" certificate request timed out (' + n + ")")) }, onAbort: function (t, e, r) { s(new Error("aborted")) } }; r.load(o, u, h) }))) : Promise.resolve() }, e.setMediaKeysServerCertificate = function (t, e, r) { var i = this; return new Promise((function (n, a) { t.setServerCertificate(r).then((function (a) { i.log("setServerCertificate " + (a ? "success" : "not supported by CDM") + " (" + (null == r ? void 0 : r.byteLength) + ') on "' + e + '"'), n(t) })).catch((function (t) { a(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED, error: t, fatal: !0 }, t.message)) })) })) }, e.renewLicense = function (t, e) { var r = this; return this.requestLicense(t, new Uint8Array(e)).then((function (e) { return r.updateKeySession(t, new Uint8Array(e)).catch((function (t) { throw new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SESSION_UPDATE_FAILED, error: t, fatal: !0 }, t.message) })) })) }, e.unpackPlayReadyKeyMessage = function (t, e) { var r = String.fromCharCode.apply(null, new Uint16Array(e.buffer)); if (!r.includes("PlayReadyKeyMessage")) return t.setRequestHeader("Content-Type", "text/xml; charset=utf-8"), e; var i = (new DOMParser).parseFromString(r, "application/xml"), n = i.querySelectorAll("HttpHeader"); if (n.length > 0) for (var a, s = 0, o = n.length; s < o; s++) { var l, u, h = null == (l = (a = n[s]).querySelector("name")) ? void 0 : l.textContent, d = null == (u = a.querySelector("value")) ? void 0 : u.textContent; h && d && t.setRequestHeader(h, d) } var c = i.querySelector("Challenge"), f = null == c ? void 0 : c.textContent; if (!f) throw new Error("Cannot find <Challenge> in key message"); return W(atob(f)) }, e.setupLicenseXHR = function (t, e, r, i) { var n = this, a = this.config.licenseXhrSetup; return a ? Promise.resolve().then((function () { if (!r.decryptdata) throw new Error("Key removed"); return a.call(n.hls, t, e, r, i) })).catch((function (s) { if (!r.decryptdata) throw s; return t.open("POST", e, !0), a.call(n.hls, t, e, r, i) })).then((function (r) { return t.readyState || t.open("POST", e, !0), { xhr: t, licenseChallenge: r || i } })) : (t.open("POST", e, !0), Promise.resolve({ xhr: t, licenseChallenge: i })) }, e.requestLicense = function (t, e) { var r = this, i = this.config.keyLoadPolicy.default; return new Promise((function (n, a) { var s = r.getLicenseServerUrl(t.keySystem); r.log("Sending license request to URL: " + s); var o = new XMLHttpRequest; o.responseType = "arraybuffer", o.onreadystatechange = function () { if (!r.hls || !t.mediaKeysSession) return a(new Error("invalid state")); if (4 === o.readyState) if (200 === o.status) { r._requestLicenseFailureCount = 0; var l = o.response; r.log("License received " + (l instanceof ArrayBuffer ? l.byteLength : l)); var u = r.config.licenseResponseCallback; if (u) try { l = u.call(r.hls, o, s, t) } catch (t) { r.error(t) } n(l) } else { var h = i.errorRetry, d = h ? h.maxNumRetry : 0; if (r._requestLicenseFailureCount++, r._requestLicenseFailureCount > d || o.status >= 400 && o.status < 500) a(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_LICENSE_REQUEST_FAILED, fatal: !0, networkDetails: o, response: { url: s, data: void 0, code: o.status, text: o.statusText } }, "License Request XHR failed (" + s + "). Status: " + o.status + " (" + o.statusText + ")")); else { var c = d - r._requestLicenseFailureCount + 1; r.warn("Retrying license request, " + c + " attempts left"), r.requestLicense(t, e).then(n, a) } } }, t.licenseXhr && t.licenseXhr.readyState !== XMLHttpRequest.DONE && t.licenseXhr.abort(), t.licenseXhr = o, r.setupLicenseXHR(o, s, t, e).then((function (e) { var i = e.xhr, n = e.licenseChallenge; t.keySystem == q.PLAYREADY && (n = r.unpackPlayReadyKeyMessage(i, n)), i.send(n) })) })) }, e.onMediaAttached = function (t, e) { if (this.config.emeEnabled) { var r = e.media; this.media = r, r.addEventListener("encrypted", this.onMediaEncrypted), r.addEventListener("waitingforkey", this.onWaitingForKey) } }, e.onMediaDetached = function () { var e = this, r = this.media, i = this.mediaKeySessions; r && (r.removeEventListener("encrypted", this.onMediaEncrypted), r.removeEventListener("waitingforkey", this.onWaitingForKey), this.media = null), this._requestLicenseFailureCount = 0, this.setMediaKeysQueue = [], this.mediaKeySessions = [], this.keyIdToKeySessionPromise = {}, Zt.clearKeyUriToKeyIdMap(); var n = i.length; t.CDMCleanupPromise = Promise.all(i.map((function (t) { return e.removeSession(t) })).concat(null == r ? void 0 : r.setMediaKeys(null).catch((function (t) { e.log("Could not clear media keys: " + t) })))).then((function () { n && (e.log("finished closing key sessions and clearing media keys"), i.length = 0) })).catch((function (t) { e.log("Could not close sessions and clear media keys: " + t) })) }, e.onManifestLoading = function () { this.keyFormatPromise = null }, e.onManifestLoaded = function (t, e) { var r = e.sessionKeys; if (r && this.config.emeEnabled && !this.keyFormatPromise) { var i = r.reduce((function (t, e) { return -1 === t.indexOf(e.keyFormat) && t.push(e.keyFormat), t }), []); this.log("Selecting key-system from session-keys " + i.join(", ")), this.keyFormatPromise = this.getKeyFormatPromise(i) } }, e.removeSession = function (t) { var e = this, r = t.mediaKeysSession, i = t.licenseXhr; if (r) { this.log("Remove licenses and keys and close session " + r.sessionId), t._onmessage && (r.removeEventListener("message", t._onmessage), t._onmessage = void 0), t._onkeystatuseschange && (r.removeEventListener("keystatuseschange", t._onkeystatuseschange), t._onkeystatuseschange = void 0), i && i.readyState !== XMLHttpRequest.DONE && i.abort(), t.mediaKeysSession = t.decryptdata = t.licenseXhr = void 0; var n = this.mediaKeySessions.indexOf(t); return n > -1 && this.mediaKeySessions.splice(n, 1), r.remove().catch((function (t) { e.log("Could not remove session: " + t) })).then((function () { return r.close() })).catch((function (t) { e.log("Could not close session: " + t) })) } }, t }(); is.CDMCleanupPromise = void 0; var ns, as, ss, os, ls = function (t) { function e(e, r) { var i; return (i = t.call(this, r) || this).data = void 0, e.error || (e.error = new Error(r)), i.data = e, e.err = e.error, i } return l(e, t), e }(c(Error)); !function (t) { t.MANIFEST = "m", t.AUDIO = "a", t.VIDEO = "v", t.MUXED = "av", t.INIT = "i", t.CAPTION = "c", t.TIMED_TEXT = "tt", t.KEY = "k", t.OTHER = "o" }(ns || (ns = {})), function (t) { t.DASH = "d", t.HLS = "h", t.SMOOTH = "s", t.OTHER = "o" }(as || (as = {})), function (t) { t.OBJECT = "CMCD-Object", t.REQUEST = "CMCD-Request", t.SESSION = "CMCD-Session", t.STATUS = "CMCD-Status" }(ss || (ss = {})); var us = ((os = {})[ss.OBJECT] = ["br", "d", "ot", "tb"], os[ss.REQUEST] = ["bl", "dl", "mtp", "nor", "nrr", "su"], os[ss.SESSION] = ["cid", "pr", "sf", "sid", "st", "v"], os[ss.STATUS] = ["bs", "rtp"], os), hs = function t(e, r) { this.value = void 0, this.params = void 0, Array.isArray(e) && (e = e.map((function (e) { return e instanceof t ? e : new t(e) }))), this.value = e, this.params = r }, ds = function (t) { this.description = void 0, this.description = t }, cs = "Dict"; function fs(t, e, r, i) { return new Error("failed to " + t + ' "' + (n = e, (Array.isArray(n) ? JSON.stringify(n) : n instanceof Map ? "Map{}" : n instanceof Set ? "Set{}" : "object" == typeof n ? JSON.stringify(n) : String(n)) + '" as ') + r, { cause: i }); var n } var gs = "Bare Item", vs = "Boolean", ms = "Byte Sequence", ps = "Decimal", ys = "Integer", Es = /[\x00-\x1f\x7f]+/, Ts = "Token", Ss = "Key"; function Ls(t, e, r) { return fs("serialize", t, e, r) } function As(t) { if (!1 === ArrayBuffer.isView(t)) throw Ls(t, ms); return ":" + (e = t, btoa(String.fromCharCode.apply(String, e)) + ":"); var e } function Rs(t) { if (function (t) { return t < -999999999999999 || 999999999999999 < t }(t)) throw Ls(t, ys); return t.toString() } function bs(t, e) { if (t < 0) return -bs(-t, e); var r = Math.pow(10, e); if (Math.abs(t * r % 1 - .5) < Number.EPSILON) { var i = Math.floor(t * r); return (i % 2 == 0 ? i : i + 1) / r } return Math.round(t * r) / r } function ks(t) { var e = bs(t, 3); if (Math.floor(Math.abs(e)).toString().length > 12) throw Ls(t, ps); var r = e.toString(); return r.includes(".") ? r : r + ".0" } var Ds = "String"; function Is(t) { var e, r = (e = t).description || e.toString().slice(7, -1); if (!1 === /^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(r)) throw Ls(r, Ts); return r } function ws(t) { switch (typeof t) { case "number": if (!y(t)) throw Ls(t, gs); return Number.isInteger(t) ? Rs(t) : ks(t); case "string": return function (t) { if (Es.test(t)) throw Ls(t, Ds); return '"' + t.replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"' }(t); case "symbol": return Is(t); case "boolean": return function (t) { if ("boolean" != typeof t) throw Ls(t, vs); return t ? "?1" : "?0" }(t); case "object": if (t instanceof Date) return function (t) { return "@" + Rs(t.getTime() / 1e3) }(t); if (t instanceof Uint8Array) return As(t); if (t instanceof ds) return Is(t); default: throw Ls(t, gs) } } function Cs(t) { if (!1 === /^[a-z*][a-z0-9\-_.*]*$/.test(t)) throw Ls(t, Ss); return t } function _s(t) { return null == t ? "" : Object.entries(t).map((function (t) { var e = t[0], r = t[1]; return !0 === r ? ";" + Cs(e) : ";" + Cs(e) + "=" + ws(r) })).join("") } function xs(t) { return t instanceof hs ? "" + ws(t.value) + _s(t.params) : ws(t) } function Ps(t, e) { var r; if (void 0 === e && (e = { whitespace: !0 }), "object" != typeof t) throw Ls(t, cs); var i = t instanceof Map ? t.entries() : Object.entries(t), n = null != (r = e) && r.whitespace ? " " : ""; return Array.from(i).map((function (t) { var e = t[0], r = t[1]; r instanceof hs == 0 && (r = new hs(r)); var i, n = Cs(e); return !0 === r.value ? n += _s(r.params) : (n += "=", Array.isArray(r.value) ? n += "(" + (i = r).value.map(xs).join(" ") + ")" + _s(i.params) : n += xs(r)), n })).join("," + n) } var Fs = function (t) { return "ot" === t || "sf" === t || "st" === t }, Ms = function (t) { return "number" == typeof t ? y(t) : null != t && "" !== t && !1 !== t }, Os = function (t) { return Math.round(t) }, Ns = function (t) { return 100 * Os(t / 100) }, Us = { br: Os, d: Os, bl: Ns, dl: Ns, mtp: Ns, nor: function (t, e) { return null != e && e.baseUrl && (t = function (t, e) { var r = new URL(t), i = new URL(e); if (r.origin !== i.origin) return t; for (var n = r.pathname.split("/").slice(1), a = i.pathname.split("/").slice(1, -1); n[0] === a[0];)n.shift(), a.shift(); for (; a.length;)a.shift(), n.unshift(".."); return n.join("/") }(t, e.baseUrl)), encodeURIComponent(t) }, rtp: Ns, tb: Os }; function Bs(t, e) { return void 0 === e && (e = {}), t ? function (t, e) { return Ps(t, e) }(function (t, e) { var r = {}; if (null == t || "object" != typeof t) return r; var i = Object.keys(t).sort(), n = o({}, Us, null == e ? void 0 : e.formatters), a = null == e ? void 0 : e.filter; return i.forEach((function (i) { if (null == a || !a(i)) { var s = t[i], o = n[i]; o && (s = o(s, e)), "v" === i && 1 === s || "pr" == i && 1 === s || Ms(s) && (Fs(i) && "string" == typeof s && (s = new ds(s)), r[i] = s) } })), r }(t, e), o({ whitespace: !1 }, e)) : "" } function Gs(t, e, r) { return o(t, function (t, e) { var r; if (void 0 === e && (e = {}), !t) return {}; var i = Object.entries(t), n = Object.entries(us).concat(Object.entries((null == (r = e) ? void 0 : r.customHeaderMap) || {})), a = i.reduce((function (t, e) { var r, i = e[0], a = e[1], s = (null == (r = n.find((function (t) { return t[1].includes(i) }))) ? void 0 : r[0]) || ss.REQUEST; return null != t[s] || (t[s] = {}), t[s][i] = a, t }), {}); return Object.entries(a).reduce((function (t, r) { var i = r[0], n = r[1]; return t[i] = Bs(n, e), t }), {}) }(e, r)) } var Ks = "CMCD", Hs = /CMCD=[^&#]+/; function Vs(t, e, r) { var i = function (t, e) { if (void 0 === e && (e = {}), !t) return ""; var r = Bs(t, e); return Ks + "=" + encodeURIComponent(r) }(e, r); if (!i) return t; if (Hs.test(t)) return t.replace(Hs, i); var n = t.includes("?") ? "&" : "?"; return "" + t + n + i } var Ys = function () { function t(t) { var e = this; this.hls = void 0, this.config = void 0, this.media = void 0, this.sid = void 0, this.cid = void 0, this.useHeaders = !1, this.includeKeys = void 0, this.initialized = !1, this.starved = !1, this.buffering = !0, this.audioBuffer = void 0, this.videoBuffer = void 0, this.onWaiting = function () { e.initialized && (e.starved = !0), e.buffering = !0 }, this.onPlaying = function () { e.initialized || (e.initialized = !0), e.buffering = !1 }, this.applyPlaylistData = function (t) { try { e.apply(t, { ot: ns.MANIFEST, su: !e.initialized }) } catch (t) { w.warn("Could not generate manifest CMCD data.", t) } }, this.applyFragmentData = function (t) { try { var r = t.frag, i = e.hls.levels[r.level], n = e.getObjectType(r), a = { d: 1e3 * r.duration, ot: n }; n !== ns.VIDEO && n !== ns.AUDIO && n != ns.MUXED || (a.br = i.bitrate / 1e3, a.tb = e.getTopBandwidth(n) / 1e3, a.bl = e.getBufferLength(n)), e.apply(t, a) } catch (t) { w.warn("Could not generate segment CMCD data.", t) } }, this.hls = t; var r = this.config = t.config, i = r.cmcd; null != i && (r.pLoader = this.createPlaylistLoader(), r.fLoader = this.createFragmentLoader(), this.sid = i.sessionId || function () { try { return crypto.randomUUID() } catch (i) { try { var t = URL.createObjectURL(new Blob), e = t.toString(); return URL.revokeObjectURL(t), e.slice(e.lastIndexOf("/") + 1) } catch (t) { var r = (new Date).getTime(); return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) { var e = (r + 16 * Math.random()) % 16 | 0; return r = Math.floor(r / 16), ("x" == t ? e : 3 & e | 8).toString(16) })) } } }(), this.cid = i.contentId, this.useHeaders = !0 === i.useHeaders, this.includeKeys = i.includeKeys, this.registerListeners()) } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHED, this.onMediaDetached, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHED, this.onMediaDetached, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this) }, e.destroy = function () { this.unregisterListeners(), this.onMediaDetached(), this.hls = this.config = this.audioBuffer = this.videoBuffer = null, this.onWaiting = this.onPlaying = null }, e.onMediaAttached = function (t, e) { this.media = e.media, this.media.addEventListener("waiting", this.onWaiting), this.media.addEventListener("playing", this.onPlaying) }, e.onMediaDetached = function () { this.media && (this.media.removeEventListener("waiting", this.onWaiting), this.media.removeEventListener("playing", this.onPlaying), this.media = null) }, e.onBufferCreated = function (t, e) { var r, i; this.audioBuffer = null == (r = e.tracks.audio) ? void 0 : r.buffer, this.videoBuffer = null == (i = e.tracks.video) ? void 0 : i.buffer }, e.createData = function () { var t; return { v: 1, sf: as.HLS, sid: this.sid, cid: this.cid, pr: null == (t = this.media) ? void 0 : t.playbackRate, mtp: this.hls.bandwidthEstimate / 1e3 } }, e.apply = function (t, e) { void 0 === e && (e = {}), o(e, this.createData()); var r = e.ot === ns.INIT || e.ot === ns.VIDEO || e.ot === ns.MUXED; this.starved && r && (e.bs = !0, e.su = !0, this.starved = !1), null == e.su && (e.su = this.buffering); var i = this.includeKeys; i && (e = Object.keys(e).reduce((function (t, r) { return i.includes(r) && (t[r] = e[r]), t }), {})), this.useHeaders ? (t.headers || (t.headers = {}), Gs(t.headers, e)) : t.url = Vs(t.url, e) }, e.getObjectType = function (t) { var e = t.type; return "subtitle" === e ? ns.TIMED_TEXT : "initSegment" === t.sn ? ns.INIT : "audio" === e ? ns.AUDIO : "main" === e ? this.hls.audioTracks.length ? ns.VIDEO : ns.MUXED : void 0 }, e.getTopBandwidth = function (t) { var e, r = 0, i = this.hls; if (t === ns.AUDIO) e = i.audioTracks; else { var n = i.maxAutoLevel, a = n > -1 ? n + 1 : i.levels.length; e = i.levels.slice(0, a) } for (var s, o = g(e); !(s = o()).done;) { var l = s.value; l.bitrate > r && (r = l.bitrate) } return r > 0 ? r : NaN }, e.getBufferLength = function (t) { var e = this.hls.media, r = t === ns.AUDIO ? this.audioBuffer : this.videoBuffer; return r && e ? 1e3 * ri.bufferInfo(r, e.currentTime, this.config.maxBufferHole).len : NaN }, e.createPlaylistLoader = function () { var t = this.config.pLoader, e = this.applyPlaylistData, r = t || this.config.loader; return function () { function t(t) { this.loader = void 0, this.loader = new r(t) } var i = t.prototype; return i.destroy = function () { this.loader.destroy() }, i.abort = function () { this.loader.abort() }, i.load = function (t, r, i) { e(t), this.loader.load(t, r, i) }, s(t, [{ key: "stats", get: function () { return this.loader.stats } }, { key: "context", get: function () { return this.loader.context } }]), t }() }, e.createFragmentLoader = function () { var t = this.config.fLoader, e = this.applyFragmentData, r = t || this.config.loader; return function () { function t(t) { this.loader = void 0, this.loader = new r(t) } var i = t.prototype; return i.destroy = function () { this.loader.destroy() }, i.abort = function () { this.loader.abort() }, i.load = function (t, r, i) { e(t), this.loader.load(t, r, i) }, s(t, [{ key: "stats", get: function () { return this.loader.stats } }, { key: "context", get: function () { return this.loader.context } }]), t }() }, t }(), Ws = function () { function t(t) { this.hls = void 0, this.log = void 0, this.loader = null, this.uri = null, this.pathwayId = ".", this.pathwayPriority = null, this.timeToLoad = 300, this.reloadTimer = -1, this.updated = 0, this.started = !1, this.enabled = !0, this.levels = null, this.audioTracks = null, this.subtitleTracks = null, this.penalizedPathways = {}, this.hls = t, this.log = w.log.bind(w, "[content-steering]:"), this.registerListeners() } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.ERROR, this.onError, this)) }, e.startLoad = function () { if (this.started = !0, this.clearTimeout(), this.enabled && this.uri) { if (this.updated) { var t = 1e3 * this.timeToLoad - (performance.now() - this.updated); if (t > 0) return void this.scheduleRefresh(this.uri, t) } this.loadSteeringManifest(this.uri) } }, e.stopLoad = function () { this.started = !1, this.loader && (this.loader.destroy(), this.loader = null), this.clearTimeout() }, e.clearTimeout = function () { -1 !== this.reloadTimer && (self.clearTimeout(this.reloadTimer), this.reloadTimer = -1) }, e.destroy = function () { this.unregisterListeners(), this.stopLoad(), this.hls = null, this.levels = this.audioTracks = this.subtitleTracks = null }, e.removeLevel = function (t) { var e = this.levels; e && (this.levels = e.filter((function (e) { return e !== t }))) }, e.onManifestLoading = function () { this.stopLoad(), this.enabled = !0, this.timeToLoad = 300, this.updated = 0, this.uri = null, this.pathwayId = ".", this.levels = this.audioTracks = this.subtitleTracks = null }, e.onManifestLoaded = function (t, e) { var r = e.contentSteering; null !== r && (this.pathwayId = r.pathwayId, this.uri = r.uri, this.started && this.startLoad()) }, e.onManifestParsed = function (t, e) { this.audioTracks = e.audioTracks, this.subtitleTracks = e.subtitleTracks }, e.onError = function (t, e) { var r = e.errorAction; if ((null == r ? void 0 : r.action) === Dr && r.flags === _r) { var i = this.levels, n = this.pathwayPriority, a = this.pathwayId; if (e.context) { var s = e.context, o = s.groupId, l = s.pathwayId, u = s.type; o && i ? a = this.getPathwayForGroupId(o, u, a) : l && (a = l) } a in this.penalizedPathways || (this.penalizedPathways[a] = performance.now()), !n && i && (n = i.reduce((function (t, e) { return -1 === t.indexOf(e.pathwayId) && t.push(e.pathwayId), t }), [])), n && n.length > 1 && (this.updatePathwayPriority(n), r.resolved = this.pathwayId !== a), r.resolved || w.warn("Could not resolve " + e.details + ' ("' + e.error.message + '") with content-steering for Pathway: ' + a + " levels: " + (i ? i.length : i) + " priorities: " + JSON.stringify(n) + " penalized: " + JSON.stringify(this.penalizedPathways)) } }, e.filterParsedLevels = function (t) { this.levels = t; var e = this.getLevelsForPathway(this.pathwayId); if (0 === e.length) { var r = t[0].pathwayId; this.log("No levels found in Pathway " + this.pathwayId + '. Setting initial Pathway to "' + r + '"'), e = this.getLevelsForPathway(r), this.pathwayId = r } return e.length !== t.length && this.log("Found " + e.length + "/" + t.length + ' levels in Pathway "' + this.pathwayId + '"'), e }, e.getLevelsForPathway = function (t) { return null === this.levels ? [] : this.levels.filter((function (e) { return t === e.pathwayId })) }, e.updatePathwayPriority = function (t) { var e; this.pathwayPriority = t; var r = this.penalizedPathways, i = performance.now(); Object.keys(r).forEach((function (t) { i - r[t] > 3e5 && delete r[t] })); for (var n = 0; n < t.length; n++) { var a = t[n]; if (!(a in r)) { if (a === this.pathwayId) return; var s = this.hls.nextLoadLevel, o = this.hls.levels[s]; if ((e = this.getLevelsForPathway(a)).length > 0) { this.log('Setting Pathway to "' + a + '"'), this.pathwayId = a, mr(e), this.hls.trigger(S.LEVELS_UPDATED, { levels: e }); var l = this.hls.levels[s]; o && l && this.levels && (l.attrs["STABLE-VARIANT-ID"] !== o.attrs["STABLE-VARIANT-ID"] && l.bitrate !== o.bitrate && this.log("Unstable Pathways change from bitrate " + o.bitrate + " to " + l.bitrate), this.hls.nextLoadLevel = s); break } } } }, e.getPathwayForGroupId = function (t, e, r) { for (var i = this.getLevelsForPathway(r).concat(this.levels || []), n = 0; n < i.length; n++)if (e === xe && i[n].hasAudioGroup(t) || e === Pe && i[n].hasSubtitleGroup(t)) return i[n].pathwayId; return r }, e.clonePathways = function (t) { var e = this, r = this.levels; if (r) { var i = {}, n = {}; t.forEach((function (t) { var a = t.ID, s = t["BASE-ID"], o = t["URI-REPLACEMENT"]; if (!r.some((function (t) { return t.pathwayId === a }))) { var l = e.getLevelsForPathway(s).map((function (t) { var e = new x(t.attrs); e["PATHWAY-ID"] = a; var r = e.AUDIO && e.AUDIO + "_clone_" + a, s = e.SUBTITLES && e.SUBTITLES + "_clone_" + a; r && (i[e.AUDIO] = r, e.AUDIO = r), s && (n[e.SUBTITLES] = s, e.SUBTITLES = s); var l = qs(t.uri, e["STABLE-VARIANT-ID"], "PER-VARIANT-URIS", o), u = new or({ attrs: e, audioCodec: t.audioCodec, bitrate: t.bitrate, height: t.height, name: t.name, url: l, videoCodec: t.videoCodec, width: t.width }); if (t.audioGroups) for (var h = 1; h < t.audioGroups.length; h++)u.addGroupId("audio", t.audioGroups[h] + "_clone_" + a); if (t.subtitleGroups) for (var d = 1; d < t.subtitleGroups.length; d++)u.addGroupId("text", t.subtitleGroups[d] + "_clone_" + a); return u })); r.push.apply(r, l), js(e.audioTracks, i, o, a), js(e.subtitleTracks, n, o, a) } })) } }, e.loadSteeringManifest = function (t) { var e, r = this, i = this.hls.config, n = i.loader; this.loader && this.loader.destroy(), this.loader = new n(i); try { e = new self.URL(t) } catch (e) { return this.enabled = !1, void this.log("Failed to parse Steering Manifest URI: " + t) } if ("data:" !== e.protocol) { var a = 0 | (this.hls.bandwidthEstimate || i.abrEwmaDefaultEstimate); e.searchParams.set("_HLS_pathway", this.pathwayId), e.searchParams.set("_HLS_throughput", "" + a) } var s = { responseType: "json", url: e.href }, o = i.steeringManifestLoadPolicy.default, l = o.errorRetry || o.timeoutRetry || {}, u = { loadPolicy: o, timeout: o.maxLoadTimeMs, maxRetry: l.maxNumRetry || 0, retryDelay: l.retryDelayMs || 0, maxRetryDelay: l.maxRetryDelayMs || 0 }, h = { onSuccess: function (t, i, n, a) { r.log('Loaded steering manifest: "' + e + '"'); var s = t.data; if (1 === s.VERSION) { r.updated = performance.now(), r.timeToLoad = s.TTL; var o = s["RELOAD-URI"], l = s["PATHWAY-CLONES"], u = s["PATHWAY-PRIORITY"]; if (o) try { r.uri = new self.URL(o, e).href } catch (t) { return r.enabled = !1, void r.log("Failed to parse Steering Manifest RELOAD-URI: " + o) } r.scheduleRefresh(r.uri || n.url), l && r.clonePathways(l); var h = { steeringManifest: s, url: e.toString() }; r.hls.trigger(S.STEERING_MANIFEST_LOADED, h), u && r.updatePathwayPriority(u) } else r.log("Steering VERSION " + s.VERSION + " not supported!") }, onError: function (t, e, i, n) { if (r.log("Error loading steering manifest: " + t.code + " " + t.text + " (" + e.url + ")"), r.stopLoad(), 410 === t.code) return r.enabled = !1, void r.log("Steering manifest " + e.url + " no longer available"); var a = 1e3 * r.timeToLoad; if (429 !== t.code) r.scheduleRefresh(r.uri || e.url, a); else { var s = r.loader; if ("function" == typeof (null == s ? void 0 : s.getResponseHeader)) { var o = s.getResponseHeader("Retry-After"); o && (a = 1e3 * parseFloat(o)) } r.log("Steering manifest " + e.url + " rate limited") } }, onTimeout: function (t, e, i) { r.log("Timeout loading steering manifest (" + e.url + ")"), r.scheduleRefresh(r.uri || e.url) } }; this.log("Requesting steering manifest: " + e), this.loader.load(s, u, h) }, e.scheduleRefresh = function (t, e) { var r = this; void 0 === e && (e = 1e3 * this.timeToLoad), this.clearTimeout(), this.reloadTimer = self.setTimeout((function () { var e, i = null == (e = r.hls) ? void 0 : e.media; !i || i.ended ? r.scheduleRefresh(t, 1e3 * r.timeToLoad) : r.loadSteeringManifest(t) }), e) }, t }(); function js(t, e, r, i) { t && Object.keys(e).forEach((function (n) { var a = t.filter((function (t) { return t.groupId === n })).map((function (t) { var a = o({}, t); return a.details = void 0, a.attrs = new x(a.attrs), a.url = a.attrs.URI = qs(t.url, t.attrs["STABLE-RENDITION-ID"], "PER-RENDITION-URIS", r), a.groupId = a.attrs["GROUP-ID"] = e[n], a.attrs["PATHWAY-ID"] = i, a })); t.push.apply(t, a) })) } function qs(t, e, r, i) { var n, a = i.HOST, s = i.PARAMS, o = i[r]; e && (n = null == o ? void 0 : o[e]) && (t = n); var l = new self.URL(t); return a && !n && (l.host = a), s && Object.keys(s).sort().forEach((function (t) { t && l.searchParams.set(t, s[t]) })), l.href } var Xs = /^age:\s*[\d.]+\s*$/im, zs = function () { function t(t) { this.xhrSetup = void 0, this.requestTimeout = void 0, this.retryTimeout = void 0, this.retryDelay = void 0, this.config = null, this.callbacks = null, this.context = null, this.loader = null, this.stats = void 0, this.xhrSetup = t && t.xhrSetup || null, this.stats = new M, this.retryDelay = 0 } var e = t.prototype; return e.destroy = function () { this.callbacks = null, this.abortInternal(), this.loader = null, this.config = null, this.context = null, this.xhrSetup = null }, e.abortInternal = function () { var t = this.loader; self.clearTimeout(this.requestTimeout), self.clearTimeout(this.retryTimeout), t && (t.onreadystatechange = null, t.onprogress = null, 4 !== t.readyState && (this.stats.aborted = !0, t.abort())) }, e.abort = function () { var t; this.abortInternal(), null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.loader) }, e.load = function (t, e, r) { if (this.stats.loading.start) throw new Error("Loader can only be used once."); this.stats.loading.start = self.performance.now(), this.context = t, this.config = e, this.callbacks = r, this.loadInternal() }, e.loadInternal = function () { var t = this, e = this.config, r = this.context; if (e && r) { var i = this.loader = new self.XMLHttpRequest, n = this.stats; n.loading.first = 0, n.loaded = 0, n.aborted = !1; var a = this.xhrSetup; a ? Promise.resolve().then((function () { if (t.loader === i && !t.stats.aborted) return a(i, r.url) })).catch((function (e) { if (t.loader === i && !t.stats.aborted) return i.open("GET", r.url, !0), a(i, r.url) })).then((function () { t.loader !== i || t.stats.aborted || t.openAndSendXhr(i, r, e) })).catch((function (e) { t.callbacks.onError({ code: i.status, text: e.message }, r, i, n) })) : this.openAndSendXhr(i, r, e) } }, e.openAndSendXhr = function (t, e, r) { t.readyState || t.open("GET", e.url, !0); var i = e.headers, n = r.loadPolicy, a = n.maxTimeToFirstByteMs, s = n.maxLoadTimeMs; if (i) for (var o in i) t.setRequestHeader(o, i[o]); e.rangeEnd && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1)), t.onreadystatechange = this.readystatechange.bind(this), t.onprogress = this.loadprogress.bind(this), t.responseType = e.responseType, self.clearTimeout(this.requestTimeout), r.timeout = a && y(a) ? a : s, this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), r.timeout), t.send() }, e.readystatechange = function () { var t = this.context, e = this.loader, r = this.stats; if (t && e) { var i = e.readyState, n = this.config; if (!r.aborted && i >= 2 && (0 === r.loading.first && (r.loading.first = Math.max(self.performance.now(), r.loading.start), n.timeout !== n.loadPolicy.maxLoadTimeMs && (self.clearTimeout(this.requestTimeout), n.timeout = n.loadPolicy.maxLoadTimeMs, this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), n.loadPolicy.maxLoadTimeMs - (r.loading.first - r.loading.start)))), 4 === i)) { self.clearTimeout(this.requestTimeout), e.onreadystatechange = null, e.onprogress = null; var a = e.status, s = "text" !== e.responseType; if (a >= 200 && a < 300 && (s && e.response || null !== e.responseText)) { r.loading.end = Math.max(self.performance.now(), r.loading.first); var o = s ? e.response : e.responseText, l = "arraybuffer" === e.responseType ? o.byteLength : o.length; if (r.loaded = r.total = l, r.bwEstimate = 8e3 * r.total / (r.loading.end - r.loading.first), !this.callbacks) return; var u = this.callbacks.onProgress; if (u && u(r, t, o, e), !this.callbacks) return; var h = { url: e.responseURL, data: o, code: a }; this.callbacks.onSuccess(h, r, t, e) } else { var d = n.loadPolicy.errorRetry; Sr(d, r.retry, !1, { url: t.url, data: void 0, code: a }) ? this.retry(d) : (w.error(a + " while loading " + t.url), this.callbacks.onError({ code: a, text: e.statusText }, t, e, r)) } } } }, e.loadtimeout = function () { if (this.config) { var t = this.config.loadPolicy.timeoutRetry; if (Sr(t, this.stats.retry, !0)) this.retry(t); else { var e; w.warn("timeout while loading " + (null == (e = this.context) ? void 0 : e.url)); var r = this.callbacks; r && (this.abortInternal(), r.onTimeout(this.stats, this.context, this.loader)) } } }, e.retry = function (t) { var e = this.context, r = this.stats; this.retryDelay = Er(t, r.retry), r.retry++, w.warn((status ? "HTTP Status " + status : "Timeout") + " while loading " + (null == e ? void 0 : e.url) + ", retrying " + r.retry + "/" + t.maxNumRetry + " in " + this.retryDelay + "ms"), this.abortInternal(), this.loader = null, self.clearTimeout(this.retryTimeout), this.retryTimeout = self.setTimeout(this.loadInternal.bind(this), this.retryDelay) }, e.loadprogress = function (t) { var e = this.stats; e.loaded = t.loaded, t.lengthComputable && (e.total = t.total) }, e.getCacheAge = function () { var t = null; if (this.loader && Xs.test(this.loader.getAllResponseHeaders())) { var e = this.loader.getResponseHeader("age"); t = e ? parseFloat(e) : null } return t }, e.getResponseHeader = function (t) { return this.loader && new RegExp("^" + t + ":\\s*[\\d.]+\\s*$", "im").test(this.loader.getAllResponseHeaders()) ? this.loader.getResponseHeader(t) : null }, t }(), Qs = /(\d+)-(\d+)\/(\d+)/, Js = function () { function t(t) { this.fetchSetup = void 0, this.requestTimeout = void 0, this.request = null, this.response = null, this.controller = void 0, this.context = null, this.config = null, this.callbacks = null, this.stats = void 0, this.loader = null, this.fetchSetup = t.fetchSetup || $s, this.controller = new self.AbortController, this.stats = new M } var e = t.prototype; return e.destroy = function () { this.loader = this.callbacks = this.context = this.config = this.request = null, this.abortInternal(), this.response = null, this.fetchSetup = this.controller = this.stats = null }, e.abortInternal = function () { this.controller && !this.stats.loading.end && (this.stats.aborted = !0, this.controller.abort()) }, e.abort = function () { var t; this.abortInternal(), null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.response) }, e.load = function (t, e, r) { var i = this, n = this.stats; if (n.loading.start) throw new Error("Loader can only be used once."); n.loading.start = self.performance.now(); var a = function (t, e) { var r = { method: "GET", mode: "cors", credentials: "same-origin", signal: e, headers: new self.Headers(o({}, t.headers)) }; return t.rangeEnd && r.headers.set("Range", "bytes=" + t.rangeStart + "-" + String(t.rangeEnd - 1)), r }(t, this.controller.signal), s = r.onProgress, l = "arraybuffer" === t.responseType, u = l ? "byteLength" : "length", h = e.loadPolicy, d = h.maxTimeToFirstByteMs, c = h.maxLoadTimeMs; this.context = t, this.config = e, this.callbacks = r, this.request = this.fetchSetup(t, a), self.clearTimeout(this.requestTimeout), e.timeout = d && y(d) ? d : c, this.requestTimeout = self.setTimeout((function () { i.abortInternal(), r.onTimeout(n, t, i.response) }), e.timeout), self.fetch(this.request).then((function (a) { i.response = i.loader = a; var o = Math.max(self.performance.now(), n.loading.start); if (self.clearTimeout(i.requestTimeout), e.timeout = c, i.requestTimeout = self.setTimeout((function () { i.abortInternal(), r.onTimeout(n, t, i.response) }), c - (o - n.loading.start)), !a.ok) { var u = a.status, h = a.statusText; throw new to(h || "fetch, bad network response", u, a) } return n.loading.first = o, n.total = function (t) { var e = t.get("Content-Range"); if (e) { var r = function (t) { var e = Qs.exec(t); if (e) return parseInt(e[2]) - parseInt(e[1]) + 1 }(e); if (y(r)) return r } var i = t.get("Content-Length"); if (i) return parseInt(i) }(a.headers) || n.total, s && y(e.highWaterMark) ? i.loadProgressively(a, n, t, e.highWaterMark, s) : l ? a.arrayBuffer() : "json" === t.responseType ? a.json() : a.text() })).then((function (a) { var o = i.response; if (!o) throw new Error("loader destroyed"); self.clearTimeout(i.requestTimeout), n.loading.end = Math.max(self.performance.now(), n.loading.first); var l = a[u]; l && (n.loaded = n.total = l); var h = { url: o.url, data: a, code: o.status }; s && !y(e.highWaterMark) && s(n, t, a, o), r.onSuccess(h, n, t, o) })).catch((function (e) { if (self.clearTimeout(i.requestTimeout), !n.aborted) { var a = e && e.code || 0, s = e ? e.message : null; r.onError({ code: a, text: s }, t, e ? e.details : null, n) } })) }, e.getCacheAge = function () { var t = null; if (this.response) { var e = this.response.headers.get("age"); t = e ? parseFloat(e) : null } return t }, e.getResponseHeader = function (t) { return this.response ? this.response.headers.get(t) : null }, e.loadProgressively = function (t, e, r, i, n) { void 0 === i && (i = 0); var a = new xi, s = t.body.getReader(); return function o() { return s.read().then((function (s) { if (s.done) return a.dataLength && n(e, r, a.flush(), t), Promise.resolve(new ArrayBuffer(0)); var l = s.value, u = l.length; return e.loaded += u, u < i || a.dataLength ? (a.push(l), a.dataLength >= i && n(e, r, a.flush(), t)) : n(e, r, l, t), o() })).catch((function () { return Promise.reject() })) }() }, t }(); function $s(t, e) { return new self.Request(t.url, e) } var Zs, to = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e) || this).code = void 0, n.details = void 0, n.code = r, n.details = i, n } return l(e, t), e }(c(Error)), eo = /\s/, ro = i(i({ autoStartLoad: !0, startPosition: -1, defaultAudioCodec: void 0, debug: !1, capLevelOnFPSDrop: !1, capLevelToPlayerSize: !1, ignoreDevicePixelRatio: !1, preferManagedMediaSource: !0, initialLiveManifestSize: 1, maxBufferLength: 30, backBufferLength: 1 / 0, frontBufferFlushThreshold: 1 / 0, maxBufferSize: 6e7, maxBufferHole: .1, highBufferWatchdogPeriod: 2, nudgeOffset: .1, nudgeMaxRetry: 3, maxFragLookUpTolerance: .25, liveSyncDurationCount: 3, liveMaxLatencyDurationCount: 1 / 0, liveSyncDuration: void 0, liveMaxLatencyDuration: void 0, maxLiveSyncPlaybackRate: 1, liveDurationInfinity: !1, liveBackBufferLength: null, maxMaxBufferLength: 600, enableWorker: !0, workerPath: null, enableSoftwareAES: !0, startLevel: void 0, startFragPrefetch: !1, fpsDroppedMonitoringPeriod: 5e3, fpsDroppedMonitoringThreshold: .2, appendErrorMaxRetry: 3, loader: zs, fLoader: void 0, pLoader: void 0, xhrSetup: void 0, licenseXhrSetup: void 0, licenseResponseCallback: void 0, abrController: jr, bufferController: na, capLevelController: ts, errorController: Pr, fpsController: es, stretchShortVideoTrack: !1, maxAudioFramesDrift: 1, forceKeyFrameOnDiscontinuity: !0, abrEwmaFastLive: 3, abrEwmaSlowLive: 9, abrEwmaFastVoD: 3, abrEwmaSlowVoD: 9, abrEwmaDefaultEstimate: 5e5, abrEwmaDefaultEstimateMax: 5e6, abrBandWidthFactor: .95, abrBandWidthUpFactor: .7, abrMaxWithRealBitrate: !1, maxStarvationDelay: 4, maxLoadingDelay: 4, minAutoBitrate: 0, emeEnabled: !1, widevineLicenseUrl: void 0, drmSystems: {}, drmSystemOptions: {}, requestMediaKeySystemAccessFunc: ot, testBandwidth: !0, progressive: !1, lowLatencyMode: !0, cmcd: void 0, enableDateRangeMetadataCues: !0, enableEmsgMetadataCues: !0, enableID3MetadataCues: !0, useMediaCapabilities: !0, certLoadPolicy: { default: { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: null, errorRetry: null } }, keyLoadPolicy: { default: { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: "linear" }, errorRetry: { maxNumRetry: 8, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: "linear" } } }, manifestLoadPolicy: { default: { maxTimeToFirstByteMs: 1 / 0, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, playlistLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 2, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, fragLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 12e4, timeoutRetry: { maxNumRetry: 4, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 6, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, steeringManifestLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, manifestLoadingTimeOut: 1e4, manifestLoadingMaxRetry: 1, manifestLoadingRetryDelay: 1e3, manifestLoadingMaxRetryTimeout: 64e3, levelLoadingTimeOut: 1e4, levelLoadingMaxRetry: 4, levelLoadingRetryDelay: 1e3, levelLoadingMaxRetryTimeout: 64e3, fragLoadingTimeOut: 2e4, fragLoadingMaxRetry: 6, fragLoadingRetryDelay: 1e3, fragLoadingMaxRetryTimeout: 64e3 }, { cueHandler: { newCue: function (t, e, r, i) { for (var n, a, s, o, l, u = [], h = self.VTTCue || self.TextTrackCue, d = 0; d < i.rows.length; d++)if (s = !0, o = 0, l = "", !(n = i.rows[d]).isEmpty()) { for (var c, f = 0; f < n.chars.length; f++)eo.test(n.chars[f].uchar) && s ? o++ : (l += n.chars[f].uchar, s = !1); n.cueStartTime = e, e === r && (r += 1e-4), o >= 16 ? o-- : o++; var g = Pa(l.trim()), v = Ua(e, r, g); null != t && null != (c = t.cues) && c.getCueById(v) || ((a = new h(e, r, g)).id = v, a.line = d + 1, a.align = "left", a.position = 10 + Math.min(80, 10 * Math.floor(8 * o / 32)), u.push(a)) } return t && u.length && (u.sort((function (t, e) { return "auto" === t.line || "auto" === e.line ? 0 : t.line > 8 && e.line > 8 ? e.line - t.line : t.line - e.line })), u.forEach((function (e) { return Ke(t, e) }))), u } }, enableWebVTT: !0, enableIMSC1: !0, enableCEA708Captions: !0, captionsTextTrack1Label: "English", captionsTextTrack1LanguageCode: "en", captionsTextTrack2Label: "Spanish", captionsTextTrack2LanguageCode: "es", captionsTextTrack3Label: "Unknown CC", captionsTextTrack3LanguageCode: "", captionsTextTrack4Label: "Unknown CC", captionsTextTrack4LanguageCode: "", renderTextTracksNatively: !0 }), {}, { subtitleStreamController: Zn, subtitleTrackController: ea, timelineController: Ja, audioStreamController: Jn, audioTrackController: $n, emeController: is, cmcdController: Ys, contentSteeringController: Ws }); function io(t) { return t && "object" == typeof t ? Array.isArray(t) ? t.map(io) : Object.keys(t).reduce((function (e, r) { return e[r] = io(t[r]), e }), {}) : t } function no(t) { var e = t.loader; e !== Js && e !== zs ? (w.log("[config]: Custom loader detected, cannot enable progressive streaming"), t.progressive = !1) : function () { if (self.fetch && self.AbortController && self.ReadableStream && self.Request) try { return new self.ReadableStream({}), !0 } catch (t) { } return !1 }() && (t.loader = Js, t.progressive = !0, t.enableSoftwareAES = !0, w.log("[config]: Progressive streaming enabled, using FetchLoader")) } var ao = function (t) { function e(e, r) { var i; return (i = t.call(this, e, "[level-controller]") || this)._levels = [], i._firstLevel = -1, i._maxAutoLevel = -1, i._startLevel = void 0, i.currentLevel = null, i.currentLevelIndex = -1, i.manualLevelIndex = -1, i.steering = void 0, i.onParsedComplete = void 0, i.steering = r, i._registerListeners(), i } l(e, t); var r = e.prototype; return r._registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.ERROR, this.onError, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.ERROR, this.onError, this) }, r.destroy = function () { this._unregisterListeners(), this.steering = null, this.resetLevels(), t.prototype.destroy.call(this) }, r.stopLoad = function () { this._levels.forEach((function (t) { t.loadError = 0, t.fragmentError = 0 })), t.prototype.stopLoad.call(this) }, r.resetLevels = function () { this._startLevel = void 0, this.manualLevelIndex = -1, this.currentLevelIndex = -1, this.currentLevel = null, this._levels = [], this._maxAutoLevel = -1 }, r.onManifestLoading = function (t, e) { this.resetLevels() }, r.onManifestLoaded = function (t, e) { var r = this.hls.config.preferManagedMediaSource, i = [], n = {}, a = {}, s = !1, o = !1, l = !1; e.levels.forEach((function (t) { var e, u, h = t.attrs, d = t.audioCodec, c = t.videoCodec; -1 !== (null == (e = d) ? void 0 : e.indexOf("mp4a.40.34")) && (Zs || (Zs = /chrome|firefox/i.test(navigator.userAgent)), Zs && (t.audioCodec = d = void 0)), d && (t.audioCodec = d = ve(d, r)), 0 === (null == (u = c) ? void 0 : u.indexOf("avc1")) && (c = t.videoCodec = function (t) { for (var e = t.split(","), r = 0; r < e.length; r++) { var i = e[r].split("."); if (i.length > 2) { var n = i.shift() + "."; n += parseInt(i.shift()).toString(16), n += ("000" + parseInt(i.shift()).toString(16)).slice(-4), e[r] = n } } return e.join(",") }(c)); var f = t.width, g = t.height, v = t.unknownCodecs; if (s || (s = !(!f || !g)), o || (o = !!c), l || (l = !!d), !(null != v && v.length || d && !le(d, "audio", r) || c && !le(c, "video", r))) { var m = h.CODECS, p = h["FRAME-RATE"], y = h["HDCP-LEVEL"], E = h["PATHWAY-ID"], T = h.RESOLUTION, S = h["VIDEO-RANGE"], L = (E || ".") + "-" + t.bitrate + "-" + T + "-" + p + "-" + m + "-" + S + "-" + y; if (n[L]) if (n[L].uri === t.url || t.attrs["PATHWAY-ID"]) n[L].addGroupId("audio", h.AUDIO), n[L].addGroupId("text", h.SUBTITLES); else { var A = a[L] += 1; t.attrs["PATHWAY-ID"] = new Array(A + 1).join("."); var R = new or(t); n[L] = R, i.push(R) } else { var b = new or(t); n[L] = b, a[L] = 1, i.push(b) } } })), this.filterAndSortMediaOptions(i, e, s, o, l) }, r.filterAndSortMediaOptions = function (t, e, r, i, n) { var a = this, s = [], o = [], l = t; if ((r || i) && n && (l = l.filter((function (t) { var e, r = t.videoCodec, i = t.videoRange, n = t.width, a = t.height; return (!!r || !(!n || !a)) && !!(e = i) && er.indexOf(e) > -1 }))), 0 !== l.length) { if (e.audioTracks) { var u = this.hls.config.preferManagedMediaSource; so(s = e.audioTracks.filter((function (t) { return !t.audioCodec || le(t.audioCodec, "audio", u) }))) } e.subtitles && so(o = e.subtitles); var h = l.slice(0); l.sort((function (t, e) { if (t.attrs["HDCP-LEVEL"] !== e.attrs["HDCP-LEVEL"]) return (t.attrs["HDCP-LEVEL"] || "") > (e.attrs["HDCP-LEVEL"] || "") ? 1 : -1; if (r && t.height !== e.height) return t.height - e.height; if (t.frameRate !== e.frameRate) return t.frameRate - e.frameRate; if (t.videoRange !== e.videoRange) return er.indexOf(t.videoRange) - er.indexOf(e.videoRange); if (t.videoCodec !== e.videoCodec) { var i = de(t.videoCodec), n = de(e.videoCodec); if (i !== n) return n - i } if (t.uri === e.uri && t.codecSet !== e.codecSet) { var a = ce(t.codecSet), s = ce(e.codecSet); if (a !== s) return s - a } return t.averageBitrate !== e.averageBitrate ? t.averageBitrate - e.averageBitrate : 0 })); var d = h[0]; if (this.steering && (l = this.steering.filterParsedLevels(l)).length !== h.length) for (var c = 0; c < h.length; c++)if (h[c].pathwayId === l[0].pathwayId) { d = h[c]; break } this._levels = l; for (var f = 0; f < l.length; f++)if (l[f] === d) { var g; this._firstLevel = f; var v = d.bitrate, m = this.hls.bandwidthEstimate; if (this.log("manifest loaded, " + l.length + " level(s) found, first bitrate: " + v), void 0 === (null == (g = this.hls.userConfig) ? void 0 : g.abrEwmaDefaultEstimate)) { var p = Math.min(v, this.hls.config.abrEwmaDefaultEstimateMax); p > m && m === ro.abrEwmaDefaultEstimate && (this.hls.bandwidthEstimate = p) } break } var y = n && !i, E = { levels: l, audioTracks: s, subtitleTracks: o, sessionData: e.sessionData, sessionKeys: e.sessionKeys, firstLevel: this._firstLevel, stats: e.stats, audio: n, video: i, altAudio: !y && s.some((function (t) { return !!t.url })) }; this.hls.trigger(S.MANIFEST_PARSED, E), (this.hls.config.autoStartLoad || this.hls.forceStartLoad) && this.hls.startLoad(this.hls.config.startPosition) } else Promise.resolve().then((function () { if (a.hls) { e.levels.length && a.warn("One or more CODECS in variant not supported: " + JSON.stringify(e.levels[0].attrs)); var t = new Error("no level with compatible codecs found in manifest"); a.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.MANIFEST_INCOMPATIBLE_CODECS_ERROR, fatal: !0, url: e.url, error: t, reason: t.message }) } })) }, r.onError = function (t, e) { !e.fatal && e.context && e.context.type === _e && e.context.level === this.level && this.checkRetry(e) }, r.onFragBuffered = function (t, e) { var r = e.frag; if (void 0 !== r && r.type === Fe) { var i = r.elementaryStreams; if (!Object.keys(i).some((function (t) { return !!i[t] }))) return; var n = this._levels[r.level]; null != n && n.loadError && (this.log("Resetting level error count of " + n.loadError + " on frag buffered"), n.loadError = 0) } }, r.onLevelLoaded = function (t, e) { var r, i, n = e.level, a = e.details, s = this._levels[n]; if (!s) return this.warn("Invalid level index " + n), void (null != (i = e.deliveryDirectives) && i.skip && (a.deltaUpdateFailed = !0)); n === this.currentLevelIndex ? (0 === s.fragmentError && (s.loadError = 0), this.playlistLoaded(n, e, s.details)) : null != (r = e.deliveryDirectives) && r.skip && (a.deltaUpdateFailed = !0) }, r.loadPlaylist = function (e) { t.prototype.loadPlaylist.call(this); var r = this.currentLevelIndex, i = this.currentLevel; if (i && this.shouldLoadPlaylist(i)) { var n = i.uri; if (e) try { n = e.addDirectives(n) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } var a = i.attrs["PATHWAY-ID"]; this.log("Loading level index " + r + (void 0 !== (null == e ? void 0 : e.msn) ? " at sn " + e.msn + " part " + e.part : "") + " with" + (a ? " Pathway " + a : "") + " " + n), this.clearTimer(), this.hls.trigger(S.LEVEL_LOADING, { url: n, level: r, pathwayId: i.attrs["PATHWAY-ID"], id: 0, deliveryDirectives: e || null }) } }, r.removeLevel = function (t) { var e, r = this, i = this._levels.filter((function (e, i) { return i !== t || (r.steering && r.steering.removeLevel(e), e === r.currentLevel && (r.currentLevel = null, r.currentLevelIndex = -1, e.details && e.details.fragments.forEach((function (t) { return t.level = -1 }))), !1) })); mr(i), this._levels = i, this.currentLevelIndex > -1 && null != (e = this.currentLevel) && e.details && (this.currentLevelIndex = this.currentLevel.details.fragments[0].level), this.hls.trigger(S.LEVELS_UPDATED, { levels: i }) }, r.onLevelsUpdated = function (t, e) { var r = e.levels; this._levels = r }, r.checkMaxAutoUpdated = function () { var t = this.hls, e = t.autoLevelCapping, r = t.maxAutoLevel, i = t.maxHdcpLevel; this._maxAutoLevel !== r && (this._maxAutoLevel = r, this.hls.trigger(S.MAX_AUTO_LEVEL_UPDATED, { autoLevelCapping: e, levels: this.levels, maxAutoLevel: r, minAutoLevel: this.hls.minAutoLevel, maxHdcpLevel: i })) }, s(e, [{ key: "levels", get: function () { return 0 === this._levels.length ? null : this._levels } }, { key: "level", get: function () { return this.currentLevelIndex }, set: function (t) { var e = this._levels; if (0 !== e.length) { if (t < 0 || t >= e.length) { var r = new Error("invalid level idx"), i = t < 0; if (this.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.LEVEL_SWITCH_ERROR, level: t, fatal: i, error: r, reason: r.message }), i) return; t = Math.min(t, e.length - 1) } var n = this.currentLevelIndex, a = this.currentLevel, s = a ? a.attrs["PATHWAY-ID"] : void 0, o = e[t], l = o.attrs["PATHWAY-ID"]; if (this.currentLevelIndex = t, this.currentLevel = o, n !== t || !o.details || !a || s !== l) { this.log("Switching to level " + t + " (" + (o.height ? o.height + "p " : "") + (o.videoRange ? o.videoRange + " " : "") + (o.codecSet ? o.codecSet + " " : "") + "@" + o.bitrate + ")" + (l ? " with Pathway " + l : "") + " from level " + n + (s ? " with Pathway " + s : "")); var u = { level: t, attrs: o.attrs, details: o.details, bitrate: o.bitrate, averageBitrate: o.averageBitrate, maxBitrate: o.maxBitrate, realBitrate: o.realBitrate, width: o.width, height: o.height, codecSet: o.codecSet, audioCodec: o.audioCodec, videoCodec: o.videoCodec, audioGroups: o.audioGroups, subtitleGroups: o.subtitleGroups, loaded: o.loaded, loadError: o.loadError, fragmentError: o.fragmentError, name: o.name, id: o.id, uri: o.uri, url: o.url, urlId: 0, audioGroupIds: o.audioGroupIds, textGroupIds: o.textGroupIds }; this.hls.trigger(S.LEVEL_SWITCHING, u); var h = o.details; if (!h || h.live) { var d = this.switchParams(o.uri, null == a ? void 0 : a.details, h); this.loadPlaylist(d) } } } } }, { key: "manualLevel", get: function () { return this.manualLevelIndex }, set: function (t) { this.manualLevelIndex = t, void 0 === this._startLevel && (this._startLevel = t), -1 !== t && (this.level = t) } }, { key: "firstLevel", get: function () { return this._firstLevel }, set: function (t) { this._firstLevel = t } }, { key: "startLevel", get: function () { if (void 0 === this._startLevel) { var t = this.hls.config.startLevel; return void 0 !== t ? t : this.hls.firstAutoLevel } return this._startLevel }, set: function (t) { this._startLevel = t } }, { key: "nextLoadLevel", get: function () { return -1 !== this.manualLevelIndex ? this.manualLevelIndex : this.hls.nextAutoLevel }, set: function (t) { this.level = t, -1 === this.manualLevelIndex && (this.hls.nextAutoLevel = t) } }]), e }(Fr); function so(t) { var e = {}; t.forEach((function (t) { var r = t.groupId || ""; t.id = e[r] = e[r] || 0, e[r]++ })) } var oo = function () { function t(t) { this.config = void 0, this.keyUriToKeyInfo = {}, this.emeController = null, this.config = t } var e = t.prototype; return e.abort = function (t) { for (var e in this.keyUriToKeyInfo) { var r = this.keyUriToKeyInfo[e].loader; if (r) { var i; if (t && t !== (null == (i = r.context) ? void 0 : i.frag.type)) return; r.abort() } } }, e.detach = function () { for (var t in this.keyUriToKeyInfo) { var e = this.keyUriToKeyInfo[t]; (e.mediaKeySessionContext || e.decryptdata.isCommonEncryption) && delete this.keyUriToKeyInfo[t] } }, e.destroy = function () { for (var t in this.detach(), this.keyUriToKeyInfo) { var e = this.keyUriToKeyInfo[t].loader; e && e.destroy() } this.keyUriToKeyInfo = {} }, e.createKeyLoadError = function (t, e, r, i, n) { return void 0 === e && (e = A.KEY_LOAD_ERROR), new fi({ type: L.NETWORK_ERROR, details: e, fatal: !1, frag: t, response: n, error: r, networkDetails: i }) }, e.loadClear = function (t, e) { var r = this; if (this.emeController && this.config.emeEnabled) for (var i = t.sn, n = t.cc, a = function () { var t = e[s]; if (n <= t.cc && ("initSegment" === i || "initSegment" === t.sn || i < t.sn)) return r.emeController.selectKeySystemFormat(t).then((function (e) { t.setKeyFormat(e) })), 1 }, s = 0; s < e.length && !a(); s++); }, e.load = function (t) { var e = this; return !t.decryptdata && t.encrypted && this.emeController ? this.emeController.selectKeySystemFormat(t).then((function (r) { return e.loadInternal(t, r) })) : this.loadInternal(t) }, e.loadInternal = function (t, e) { var r, i; e && t.setKeyFormat(e); var n = t.decryptdata; if (!n) { var a = new Error(e ? "Expected frag.decryptdata to be defined after setting format " + e : "Missing decryption data on fragment in onKeyLoading"); return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, a)) } var s = n.uri; if (!s) return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, new Error('Invalid key URI: "' + s + '"'))); var o, l = this.keyUriToKeyInfo[s]; if (null != (r = l) && r.decryptdata.key) return n.key = l.decryptdata.key, Promise.resolve({ frag: t, keyInfo: l }); if (null != (i = l) && i.keyLoadPromise) switch (null == (o = l.mediaKeySessionContext) ? void 0 : o.keyStatus) { case void 0: case "status-pending": case "usable": case "usable-in-future": return l.keyLoadPromise.then((function (e) { return n.key = e.keyInfo.decryptdata.key, { frag: t, keyInfo: l } })) }switch (l = this.keyUriToKeyInfo[s] = { decryptdata: n, keyLoadPromise: null, loader: null, mediaKeySessionContext: null }, n.method) { case "ISO-23001-7": case "SAMPLE-AES": case "SAMPLE-AES-CENC": case "SAMPLE-AES-CTR": return "identity" === n.keyFormat ? this.loadKeyHTTP(l, t) : this.loadKeyEME(l, t); case "AES-128": return this.loadKeyHTTP(l, t); default: return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, new Error('Key supplied with unsupported METHOD: "' + n.method + '"'))) } }, e.loadKeyEME = function (t, e) { var r = { frag: e, keyInfo: t }; if (this.emeController && this.config.emeEnabled) { var i = this.emeController.loadKey(r); if (i) return (t.keyLoadPromise = i.then((function (e) { return t.mediaKeySessionContext = e, r }))).catch((function (e) { throw t.keyLoadPromise = null, e })) } return Promise.resolve(r) }, e.loadKeyHTTP = function (t, e) { var r = this, n = this.config, a = new (0, n.loader)(n); return e.keyLoader = t.loader = a, t.keyLoadPromise = new Promise((function (s, o) { var l = { keyInfo: t, frag: e, responseType: "arraybuffer", url: t.decryptdata.uri }, u = n.keyLoadPolicy.default, h = { loadPolicy: u, timeout: u.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 }, d = { onSuccess: function (t, e, i, n) { var a = i.frag, l = i.keyInfo, u = i.url; if (!a.decryptdata || l !== r.keyUriToKeyInfo[u]) return o(r.createKeyLoadError(a, A.KEY_LOAD_ERROR, new Error("after key load, decryptdata unset or changed"), n)); l.decryptdata.key = a.decryptdata.key = new Uint8Array(t.data), a.keyLoader = null, l.loader = null, s({ frag: a, keyInfo: l }) }, onError: function (t, n, a, s) { r.resetLoader(n), o(r.createKeyLoadError(e, A.KEY_LOAD_ERROR, new Error("HTTP Error " + t.code + " loading key " + t.text), a, i({ url: l.url, data: void 0 }, t))) }, onTimeout: function (t, i, n) { r.resetLoader(i), o(r.createKeyLoadError(e, A.KEY_LOAD_TIMEOUT, new Error("key loading timed out"), n)) }, onAbort: function (t, i, n) { r.resetLoader(i), o(r.createKeyLoadError(e, A.INTERNAL_ABORTED, new Error("key loading aborted"), n)) } }; a.load(l, h, d) })) }, e.resetLoader = function (t) { var e = t.frag, r = t.keyInfo, i = t.url, n = r.loader; e.keyLoader === n && (e.keyLoader = null, r.loader = null), delete this.keyUriToKeyInfo[i], n && n.destroy() }, t }(); function lo() { return self.SourceBuffer || self.WebKitSourceBuffer } function uo() { if (!se()) return !1; var t = lo(); return !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove } var ho = function () { function t(t, e, r, i) { this.config = void 0, this.media = null, this.fragmentTracker = void 0, this.hls = void 0, this.nudgeRetry = 0, this.stallReported = !1, this.stalled = null, this.moved = !1, this.seeking = !1, this.config = t, this.media = e, this.fragmentTracker = r, this.hls = i } var e = t.prototype; return e.destroy = function () { this.media = null, this.hls = this.fragmentTracker = null }, e.poll = function (t, e) { var r = this.config, i = this.media, n = this.stalled; if (null !== i) { var a = i.currentTime, s = i.seeking, o = this.seeking && !s, l = !this.seeking && s; if (this.seeking = s, a === t) if (l || o) this.stalled = null; else if (i.paused && !s || i.ended || 0 === i.playbackRate || !ri.getBuffered(i).length) this.nudgeRetry = 0; else { var u = ri.bufferInfo(i, a, 0), h = u.nextStart || 0; if (s) { var d = u.len > 2, c = !h || e && e.start <= a || h - a > 2 && !this.fragmentTracker.getPartialFragment(a); if (d || c) return; this.moved = !1 } if (!this.moved && null !== this.stalled) { var f; if (!(u.len > 0 || h)) return; var g = Math.max(h, u.start || 0) - a, v = this.hls.levels ? this.hls.levels[this.hls.currentLevel] : null, m = (null == v || null == (f = v.details) ? void 0 : f.live) ? 2 * v.details.targetduration : 2, p = this.fragmentTracker.getPartialFragment(a); if (g > 0 && (g <= m || p)) return void (i.paused || this._trySkipBufferHole(p)) } var y = self.performance.now(); if (null !== n) { var E = y - n; if (s || !(E >= 250) || (this._reportStall(u), this.media)) { var T = ri.bufferInfo(i, a, r.maxBufferHole); this._tryFixBufferStall(T, E) } } else this.stalled = y } else if (this.moved = !0, s || (this.nudgeRetry = 0), null !== n) { if (this.stallReported) { var S = self.performance.now() - n; w.warn("playback not stuck anymore @" + a + ", after " + Math.round(S) + "ms"), this.stallReported = !1 } this.stalled = null } } }, e._tryFixBufferStall = function (t, e) { var r = this.config, i = this.fragmentTracker, n = this.media; if (null !== n) { var a = n.currentTime, s = i.getPartialFragment(a); if (s && (this._trySkipBufferHole(s) || !this.media)) return; (t.len > r.maxBufferHole || t.nextStart && t.nextStart - a < r.maxBufferHole) && e > 1e3 * r.highBufferWatchdogPeriod && (w.warn("Trying to nudge playhead over buffer-hole"), this.stalled = null, this._tryNudgeBuffer()) } }, e._reportStall = function (t) { var e = this.hls, r = this.media; if (!this.stallReported && r) { this.stallReported = !0; var i = new Error("Playback stalling at @" + r.currentTime + " due to low buffer (" + JSON.stringify(t) + ")"); w.warn(i.message), e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_STALLED_ERROR, fatal: !1, error: i, buffer: t.len }) } }, e._trySkipBufferHole = function (t) { var e = this.config, r = this.hls, i = this.media; if (null === i) return 0; var n = i.currentTime, a = ri.bufferInfo(i, n, 0), s = n < a.start ? a.start : a.nextStart; if (s) { var o = a.len <= e.maxBufferHole, l = a.len > 0 && a.len < 1 && i.readyState < 3, u = s - n; if (u > 0 && (o || l)) { if (u > e.maxBufferHole) { var h = this.fragmentTracker, d = !1; if (0 === n) { var c = h.getAppendedFrag(0, Fe); c && s < c.end && (d = !0) } if (!d) { var f = t || h.getAppendedFrag(n, Fe); if (f) { for (var g = !1, v = f.end; v < s;) { var m = h.getPartialFragment(v); if (!m) { g = !0; break } v += m.duration } if (g) return 0 } } } var p = Math.max(s + .05, n + .1); if (w.warn("skipping hole, adjusting currentTime from " + n + " to " + p), this.moved = !0, this.stalled = null, i.currentTime = p, t && !t.gap) { var y = new Error("fragment loaded with buffer holes, seeking from " + n + " to " + p); r.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_SEEK_OVER_HOLE, fatal: !1, error: y, reason: y.message, frag: t }) } return p } } return 0 }, e._tryNudgeBuffer = function () { var t = this.config, e = this.hls, r = this.media, i = this.nudgeRetry; if (null !== r) { var n = r.currentTime; if (this.nudgeRetry++, i < t.nudgeMaxRetry) { var a = n + (i + 1) * t.nudgeOffset, s = new Error("Nudging 'currentTime' from " + n + " to " + a); w.warn(s.message), r.currentTime = a, e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_NUDGE_ON_STALL, error: s, fatal: !1 }) } else { var o = new Error("Playhead still not moving while enough data buffered @" + n + " after " + t.nudgeMaxRetry + " nudges"); w.error(o.message), e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_STALLED_ERROR, error: o, fatal: !0 }) } } }, t }(), co = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[stream-controller]", Fe) || this).audioCodecSwap = !1, n.gapController = null, n.level = -1, n._forceStartLoad = !1, n.altAudio = !1, n.audioOnly = !1, n.fragPlaying = null, n.onvplaying = null, n.onvseeked = null, n.fragLastKbps = 0, n.couldBacktrack = !1, n.backtrackFragment = null, n.audioCodecSwitch = !1, n.videoBuffer = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this), t.on(S.ERROR, this.onError, this), t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.on(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this), t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this), t.off(S.ERROR, this.onError, this), t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.off(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this), t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this) }, r.startLoad = function (t) { if (this.levels) { var e = this.lastCurrentTime, r = this.hls; if (this.stopLoad(), this.setInterval(100), this.level = -1, !this.startFragRequested) { var i = r.startLevel; -1 === i && (r.config.testBandwidth && this.levels.length > 1 ? (i = 0, this.bitrateTest = !0) : i = r.firstAutoLevel), r.nextLoadLevel = i, this.level = r.loadLevel, this.loadedmetadata = !1 } e > 0 && -1 === t && (this.log("Override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e), this.state = Ti, this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() } else this._forceStartLoad = !0, this.state = Ei }, r.stopLoad = function () { this._forceStartLoad = !1, t.prototype.stopLoad.call(this) }, r.doTick = function () { switch (this.state) { case Ci: var t = this.levels, e = this.level, r = null == t ? void 0 : t[e], i = null == r ? void 0 : r.details; if (i && (!i.live || this.levelLastLoaded === r)) { if (this.waitForCdnTuneIn(i)) break; this.state = Ti; break } if (this.hls.nextLoadLevel !== this.level) { this.state = Ti; break } break; case Ai: var n, a = self.performance.now(), s = this.retryDate; if (!s || a >= s || null != (n = this.media) && n.seeking) { var o = this.levels, l = this.level, u = null == o ? void 0 : o[l]; this.resetStartWhenNotLoaded(u || null), this.state = Ti } }this.state === Ti && this.doTickIdle(), this.onTickEnd() }, r.onTickEnd = function () { t.prototype.onTickEnd.call(this), this.checkBuffer(), this.checkFragmentChanged() }, r.doTickIdle = function () { var t = this.hls, e = this.levelLastLoaded, r = this.levels, i = this.media; if (null !== e && (i || !this.startFragRequested && t.config.startFragPrefetch) && (!this.altAudio || !this.audioOnly)) { var n = t.nextLoadLevel; if (null != r && r[n]) { var a = r[n], s = this.getMainFwdBufferInfo(); if (null !== s) { var o = this.getLevelDetails(); if (o && this._streamEnded(s, o)) { var l = {}; return this.altAudio && (l.type = "video"), this.hls.trigger(S.BUFFER_EOS, l), void (this.state = Di) } t.loadLevel !== n && -1 === t.manualLevel && this.log("Adapting to level " + n + " from level " + this.level), this.level = t.nextLoadLevel = n; var u = a.details; if (!u || this.state === Ci || u.live && this.levelLastLoaded !== a) return this.level = n, void (this.state = Ci); var h = s.len, d = this.getMaxBufferLength(a.maxBitrate); if (!(h >= d)) { this.backtrackFragment && this.backtrackFragment.start > s.end && (this.backtrackFragment = null); var c = this.backtrackFragment ? this.backtrackFragment.start : s.end, f = this.getNextFragment(c, u); if (this.couldBacktrack && !this.fragPrevious && f && "initSegment" !== f.sn && this.fragmentTracker.getState(f) !== Jr) { var g, v = (null != (g = this.backtrackFragment) ? g : f).sn - u.startSN, m = u.fragments[v - 1]; m && f.cc === m.cc && (f = m, this.fragmentTracker.removeFragment(m)) } else this.backtrackFragment && s.len && (this.backtrackFragment = null); if (f && this.isLoopLoading(f, c)) { if (!f.gap) { var p = this.audioOnly && !this.altAudio ? O : N, y = (p === N ? this.videoBuffer : this.mediaBuffer) || this.media; y && this.afterBufferFlushed(y, p, Fe) } f = this.getNextFragmentLoopLoading(f, u, s, Fe, d) } f && (!f.initSegment || f.initSegment.data || this.bitrateTest || (f = f.initSegment), this.loadFragment(f, a, c)) } } } } }, r.loadFragment = function (e, r, i) { var n = this.fragmentTracker.getState(e); this.fragCurrent = e, n === Xr || n === Qr ? "initSegment" === e.sn ? this._loadInitSegment(e, r) : this.bitrateTest ? (this.log("Fragment " + e.sn + " of level " + e.level + " is being downloaded to test bitrate and will not be buffered"), this._loadBitrateTestFrag(e, r)) : (this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i)) : this.clearTrackerIfNeeded(e) }, r.getBufferedFrag = function (t) { return this.fragmentTracker.getBufferedFrag(t, Fe) }, r.followingBufferedFrag = function (t) { return t ? this.getBufferedFrag(t.end + .5) : null }, r.immediateLevelSwitch = function () { this.abortCurrentFrag(), this.flushMainBuffer(0, Number.POSITIVE_INFINITY) }, r.nextLevelSwitch = function () { var t = this.levels, e = this.media; if (null != e && e.readyState) { var r, i = this.getAppendedFrag(e.currentTime); i && i.start > 1 && this.flushMainBuffer(0, i.start - 1); var n = this.getLevelDetails(); if (null != n && n.live) { var a = this.getMainFwdBufferInfo(); if (!a || a.len < 2 * n.targetduration) return } if (!e.paused && t) { var s = t[this.hls.nextLoadLevel], o = this.fragLastKbps; r = o && this.fragCurrent ? this.fragCurrent.duration * s.maxBitrate / (1e3 * o) + 1 : 0 } else r = 0; var l = this.getBufferedFrag(e.currentTime + r); if (l) { var u = this.followingBufferedFrag(l); if (u) { this.abortCurrentFrag(); var h = u.maxStartPTS ? u.maxStartPTS : u.start, d = u.duration, c = Math.max(l.end, h + Math.min(Math.max(d - this.config.maxFragLookUpTolerance, d * (this.couldBacktrack ? .5 : .125)), d * (this.couldBacktrack ? .75 : .25))); this.flushMainBuffer(c, Number.POSITIVE_INFINITY) } } } }, r.abortCurrentFrag = function () { var t = this.fragCurrent; switch (this.fragCurrent = null, this.backtrackFragment = null, t && (t.abortRequests(), this.fragmentTracker.removeFragment(t)), this.state) { case Si: case Li: case Ai: case bi: case ki: this.state = Ti }this.nextLoadPosition = this.getLoadPosition() }, r.flushMainBuffer = function (e, r) { t.prototype.flushMainBuffer.call(this, e, r, this.altAudio ? "video" : null) }, r.onMediaAttached = function (e, r) { t.prototype.onMediaAttached.call(this, e, r); var i = r.media; this.onvplaying = this.onMediaPlaying.bind(this), this.onvseeked = this.onMediaSeeked.bind(this), i.addEventListener("playing", this.onvplaying), i.addEventListener("seeked", this.onvseeked), this.gapController = new ho(this.config, i, this.fragmentTracker, this.hls) }, r.onMediaDetaching = function () { var e = this.media; e && this.onvplaying && this.onvseeked && (e.removeEventListener("playing", this.onvplaying), e.removeEventListener("seeked", this.onvseeked), this.onvplaying = this.onvseeked = null, this.videoBuffer = null), this.fragPlaying = null, this.gapController && (this.gapController.destroy(), this.gapController = null), t.prototype.onMediaDetaching.call(this) }, r.onMediaPlaying = function () { this.tick() }, r.onMediaSeeked = function () { var t = this.media, e = t ? t.currentTime : null; y(e) && this.log("Media seeked to " + e.toFixed(3)); var r = this.getMainFwdBufferInfo(); null !== r && 0 !== r.len ? this.tick() : this.warn('Main forward buffer length on "seeked" event ' + (r ? r.len : "empty") + ")") }, r.onManifestLoading = function () { this.log("Trigger BUFFER_RESET"), this.hls.trigger(S.BUFFER_RESET, void 0), this.fragmentTracker.removeAllFragments(), this.couldBacktrack = !1, this.startPosition = this.lastCurrentTime = this.fragLastKbps = 0, this.levels = this.fragPlaying = this.backtrackFragment = this.levelLastLoaded = null, this.altAudio = this.audioOnly = this.startFragRequested = !1 }, r.onManifestParsed = function (t, e) { var r, i, n = !1, a = !1; e.levels.forEach((function (t) { var e = t.audioCodec; e && (n = n || -1 !== e.indexOf("mp4a.40.2"), a = a || -1 !== e.indexOf("mp4a.40.5")) })), this.audioCodecSwitch = n && a && !("function" == typeof (null == (i = lo()) || null == (r = i.prototype) ? void 0 : r.changeType)), this.audioCodecSwitch && this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"), this.levels = e.levels, this.startFragRequested = !1 }, r.onLevelLoading = function (t, e) { var r = this.levels; if (r && this.state === Ti) { var i = r[e.level]; (!i.details || i.details.live && this.levelLastLoaded !== i || this.waitForCdnTuneIn(i.details)) && (this.state = Ci) } }, r.onLevelLoaded = function (t, e) { var r, i = this.levels, n = e.level, a = e.details, s = a.totalduration; if (i) { this.log("Level " + n + " loaded [" + a.startSN + "," + a.endSN + "]" + (a.lastPartSn ? "[part-" + a.lastPartSn + "-" + a.lastPartIndex + "]" : "") + ", cc [" + a.startCC + ", " + a.endCC + "] duration:" + s); var o = i[n], l = this.fragCurrent; !l || this.state !== Li && this.state !== Ai || l.level !== e.level && l.loader && this.abortCurrentFrag(); var u = 0; if (a.live || null != (r = o.details) && r.live) { var h; if (this.checkLiveUpdate(a), a.deltaUpdateFailed) return; u = this.alignPlaylists(a, o.details, null == (h = this.levelLastLoaded) ? void 0 : h.details) } if (o.details = a, this.levelLastLoaded = o, this.hls.trigger(S.LEVEL_UPDATED, { details: a, level: n }), this.state === Ci) { if (this.waitForCdnTuneIn(a)) return; this.state = Ti } this.startFragRequested ? a.live && this.synchronizeToLiveEdge(a) : this.setStartPosition(a, u), this.tick() } else this.warn("Levels were reset while loading level " + n) }, r._handleFragmentLoadProgress = function (t) { var e, r = t.frag, i = t.part, n = t.payload, a = this.levels; if (a) { var s = a[r.level], o = s.details; if (!o) return this.warn("Dropping fragment " + r.sn + " of level " + r.level + " after level details were reset"), void this.fragmentTracker.removeFragment(r); var l = s.videoCodec, u = o.PTSKnown || !o.live, h = null == (e = r.initSegment) ? void 0 : e.data, d = this._getAudioCodec(s), c = this.transmuxer = this.transmuxer || new qn(this.hls, Fe, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this)), f = i ? i.index : -1, g = -1 !== f, v = new ii(r.level, r.sn, r.stats.chunkCount, n.byteLength, f, g), m = this.initPTS[r.cc]; c.push(n, h, d, l, r, i, o.totalduration, u, v, m) } else this.warn("Levels were reset while fragment load was in progress. Fragment " + r.sn + " of level " + r.level + " will not be buffered") }, r.onAudioTrackSwitching = function (t, e) { var r = this.altAudio; if (!e.url) { if (this.mediaBuffer !== this.media) { this.log("Switching on main audio, use media.buffered to schedule main fragment loading"), this.mediaBuffer = this.media; var i = this.fragCurrent; i && (this.log("Switching to main audio track, cancel main fragment load"), i.abortRequests(), this.fragmentTracker.removeFragment(i)), this.resetTransmuxer(), this.resetLoadingState() } else this.audioOnly && this.resetTransmuxer(); var n = this.hls; r && (n.trigger(S.BUFFER_FLUSHING, { startOffset: 0, endOffset: Number.POSITIVE_INFINITY, type: null }), this.fragmentTracker.removeAllFragments()), n.trigger(S.AUDIO_TRACK_SWITCHED, e) } }, r.onAudioTrackSwitched = function (t, e) { var r = e.id, i = !!this.hls.audioTracks[r].url; if (i) { var n = this.videoBuffer; n && this.mediaBuffer !== n && (this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"), this.mediaBuffer = n) } this.altAudio = i, this.tick() }, r.onBufferCreated = function (t, e) { var r, i, n = e.tracks, a = !1; for (var s in n) { var o = n[s]; if ("main" === o.id) { if (i = s, r = o, "video" === s) { var l = n[s]; l && (this.videoBuffer = l.buffer) } } else a = !0 } a && r ? (this.log("Alternate track found, use " + i + ".buffered to schedule main fragment loading"), this.mediaBuffer = r.buffer) : this.mediaBuffer = this.media }, r.onFragBuffered = function (t, e) { var r = e.frag, i = e.part; if (!r || r.type === Fe) { if (this.fragContextChanged(r)) return this.warn("Fragment " + r.sn + (i ? " p: " + i.index : "") + " of level " + r.level + " finished buffering, but was aborted. state: " + this.state), void (this.state === ki && (this.state = Ti)); var n = i ? i.stats : r.stats; this.fragLastKbps = Math.round(8 * n.total / (n.buffering.end - n.loading.first)), "initSegment" !== r.sn && (this.fragPrevious = r), this.fragBufferedComplete(r, i) } }, r.onError = function (t, e) { var r; if (e.fatal) this.state = Ii; else switch (e.details) { case A.FRAG_GAP: case A.FRAG_PARSING_ERROR: case A.FRAG_DECRYPT_ERROR: case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: this.onFragmentOrKeyLoadError(Fe, e); break; case A.LEVEL_LOAD_ERROR: case A.LEVEL_LOAD_TIMEOUT: case A.LEVEL_PARSING_ERROR: e.levelRetry || this.state !== Ci || (null == (r = e.context) ? void 0 : r.type) !== _e || (this.state = Ti); break; case A.BUFFER_APPEND_ERROR: case A.BUFFER_FULL_ERROR: if (!e.parent || "main" !== e.parent) return; if (e.details === A.BUFFER_APPEND_ERROR) return void this.resetLoadingState(); this.reduceLengthAndFlushBuffer(e) && this.flushMainBuffer(0, Number.POSITIVE_INFINITY); break; case A.INTERNAL_EXCEPTION: this.recoverWorkerError(e) } }, r.checkBuffer = function () { var t = this.media, e = this.gapController; if (t && e && t.readyState) { if (this.loadedmetadata || !ri.getBuffered(t).length) { var r = this.state !== Ti ? this.fragCurrent : null; e.poll(this.lastCurrentTime, r) } this.lastCurrentTime = t.currentTime } }, r.onFragLoadEmergencyAborted = function () { this.state = Ti, this.loadedmetadata || (this.startFragRequested = !1, this.nextLoadPosition = this.startPosition), this.tickImmediate() }, r.onBufferFlushed = function (t, e) { var r = e.type; if (r !== O || this.audioOnly && !this.altAudio) { var i = (r === N ? this.videoBuffer : this.mediaBuffer) || this.media; this.afterBufferFlushed(i, r, Fe), this.tick() } }, r.onLevelsUpdated = function (t, e) { this.level > -1 && this.fragCurrent && (this.level = this.fragCurrent.level), this.levels = e.levels }, r.swapAudioCodec = function () { this.audioCodecSwap = !this.audioCodecSwap }, r.seekToStartPos = function () { var t = this.media; if (t) { var e = t.currentTime, r = this.startPosition; if (r >= 0 && e < r) { if (t.seeking) return void this.log("could not seek to " + r + ", already seeking at " + e); var i = ri.getBuffered(t), n = (i.length ? i.start(0) : 0) - r; n > 0 && (n < this.config.maxBufferHole || n < this.config.maxFragLookUpTolerance) && (this.log("adjusting start position by " + n + " to match buffer start"), r += n, this.startPosition = r), this.log("seek to target start position " + r + " from current time " + e), t.currentTime = r } } }, r._getAudioCodec = function (t) { var e = this.config.defaultAudioCodec || t.audioCodec; return this.audioCodecSwap && e && (this.log("Swapping audio codec"), e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"), e }, r._loadBitrateTestFrag = function (t, e) { var r = this; t.bitrateTest = !0, this._doFragLoad(t, e).then((function (i) { var n = r.hls; if (i && !r.fragContextChanged(t)) { e.fragmentError = 0, r.state = Ti, r.startFragRequested = !1, r.bitrateTest = !1; var a = t.stats; a.parsing.start = a.parsing.end = a.buffering.start = a.buffering.end = self.performance.now(), n.trigger(S.FRAG_LOADED, i), t.bitrateTest = !1 } })) }, r._handleTransmuxComplete = function (t) { var e, r = "main", i = this.hls, n = t.remuxResult, a = t.chunkMeta, s = this.getCurrentContext(a); if (s) { var o = s.frag, l = s.part, u = s.level, h = n.video, d = n.text, c = n.id3, f = n.initSegment, g = u.details, v = this.altAudio ? void 0 : n.audio; if (this.fragContextChanged(o)) this.fragmentTracker.removeFragment(o); else { if (this.state = bi, f) { if (null != f && f.tracks) { var m = o.initSegment || o; this._bufferInitSegment(u, f.tracks, m, a), i.trigger(S.FRAG_PARSING_INIT_SEGMENT, { frag: m, id: r, tracks: f.tracks }) } var p = f.initPTS, E = f.timescale; y(p) && (this.initPTS[o.cc] = { baseTime: p, timescale: E }, i.trigger(S.INIT_PTS_FOUND, { frag: o, id: r, initPTS: p, timescale: E })) } if (h && g && "initSegment" !== o.sn) { var T = g.fragments[o.sn - 1 - g.startSN], L = o.sn === g.startSN, A = !T || o.cc > T.cc; if (!1 !== n.independent) { var R = h.startPTS, b = h.endPTS, k = h.startDTS, D = h.endDTS; if (l) l.elementaryStreams[h.type] = { startPTS: R, endPTS: b, startDTS: k, endDTS: D }; else if (h.firstKeyFrame && h.independent && 1 === a.id && !A && (this.couldBacktrack = !0), h.dropped && h.independent) { var I = this.getMainFwdBufferInfo(), w = (I ? I.end : this.getLoadPosition()) + this.config.maxBufferHole, C = h.firstKeyFramePTS ? h.firstKeyFramePTS : R; if (!L && w < C - this.config.maxBufferHole && !A) return void this.backtrack(o); A && (o.gap = !0), o.setElementaryStreamInfo(h.type, o.start, b, o.start, D, !0) } else L && R > 2 && (o.gap = !0); o.setElementaryStreamInfo(h.type, R, b, k, D), this.backtrackFragment && (this.backtrackFragment = o), this.bufferFragmentData(h, o, l, a, L || A) } else { if (!L && !A) return void this.backtrack(o); o.gap = !0 } } if (v) { var _ = v.startPTS, x = v.endPTS, P = v.startDTS, F = v.endDTS; l && (l.elementaryStreams[O] = { startPTS: _, endPTS: x, startDTS: P, endDTS: F }), o.setElementaryStreamInfo(O, _, x, P, F), this.bufferFragmentData(v, o, l, a) } if (g && null != c && null != (e = c.samples) && e.length) { var M = { id: r, frag: o, details: g, samples: c.samples }; i.trigger(S.FRAG_PARSING_METADATA, M) } if (g && d) { var N = { id: r, frag: o, details: g, samples: d.samples }; i.trigger(S.FRAG_PARSING_USERDATA, N) } } } else this.resetWhenMissingContext(a) }, r._bufferInitSegment = function (t, e, r, i) { var n = this; if (this.state === bi) { this.audioOnly = !!e.audio && !e.video, this.altAudio && !this.audioOnly && delete e.audio; var a = e.audio, s = e.video, o = e.audiovideo; if (a) { var l = t.audioCodec, u = navigator.userAgent.toLowerCase(); if (this.audioCodecSwitch) { l && (l = -1 !== l.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"); var h = a.metadata; h && "channelCount" in h && 1 !== (h.channelCount || 1) && -1 === u.indexOf("firefox") && (l = "mp4a.40.5") } l && -1 !== l.indexOf("mp4a.40.5") && -1 !== u.indexOf("android") && "audio/mpeg" !== a.container && (l = "mp4a.40.2", this.log("Android: force audio codec to " + l)), t.audioCodec && t.audioCodec !== l && this.log('Swapping manifest audio codec "' + t.audioCodec + '" for "' + l + '"'), a.levelCodec = l, a.id = "main", this.log("Init audio buffer, container:" + a.container + ", codecs[selected/level/parsed]=[" + (l || "") + "/" + (t.audioCodec || "") + "/" + a.codec + "]") } s && (s.levelCodec = t.videoCodec, s.id = "main", this.log("Init video buffer, container:" + s.container + ", codecs[level/parsed]=[" + (t.videoCodec || "") + "/" + s.codec + "]")), o && this.log("Init audiovideo buffer, container:" + o.container + ", codecs[level/parsed]=[" + t.codecs + "/" + o.codec + "]"), this.hls.trigger(S.BUFFER_CODECS, e), Object.keys(e).forEach((function (t) { var a = e[t].initSegment; null != a && a.byteLength && n.hls.trigger(S.BUFFER_APPENDING, { type: t, data: a, frag: r, part: null, chunkMeta: i, parent: r.type }) })), this.tickImmediate() } }, r.getMainFwdBufferInfo = function () { return this.getFwdBufferInfo(this.mediaBuffer ? this.mediaBuffer : this.media, Fe) }, r.backtrack = function (t) { this.couldBacktrack = !0, this.backtrackFragment = t, this.resetTransmuxer(), this.flushBufferGap(t), this.fragmentTracker.removeFragment(t), this.fragPrevious = null, this.nextLoadPosition = t.start, this.state = Ti }, r.checkFragmentChanged = function () { var t = this.media, e = null; if (t && t.readyState > 1 && !1 === t.seeking) { var r = t.currentTime; if (ri.isBuffered(t, r) ? e = this.getAppendedFrag(r) : ri.isBuffered(t, r + .1) && (e = this.getAppendedFrag(r + .1)), e) { this.backtrackFragment = null; var i = this.fragPlaying, n = e.level; i && e.sn === i.sn && i.level === n || (this.fragPlaying = e, this.hls.trigger(S.FRAG_CHANGED, { frag: e }), i && i.level === n || this.hls.trigger(S.LEVEL_SWITCHED, { level: n })) } } }, s(e, [{ key: "nextLevel", get: function () { var t = this.nextBufferedFrag; return t ? t.level : -1 } }, { key: "currentFrag", get: function () { var t = this.media; return t ? this.fragPlaying || this.getAppendedFrag(t.currentTime) : null } }, { key: "currentProgramDateTime", get: function () { var t = this.media; if (t) { var e = t.currentTime, r = this.currentFrag; if (r && y(e) && y(r.programDateTime)) { var i = r.programDateTime + 1e3 * (e - r.start); return new Date(i) } } return null } }, { key: "currentLevel", get: function () { var t = this.currentFrag; return t ? t.level : -1 } }, { key: "nextBufferedFrag", get: function () { var t = this.currentFrag; return t ? this.followingBufferedFrag(t) : null } }, { key: "forceStartLoad", get: function () { return this._forceStartLoad } }]), e }(_i), fo = function () { function t(e) { void 0 === e && (e = {}), this.config = void 0, this.userConfig = void 0, this.coreComponents = void 0, this.networkControllers = void 0, this.started = !1, this._emitter = new Vn, this._autoLevelCapping = -1, this._maxHdcpLevel = null, this.abrController = void 0, this.bufferController = void 0, this.capLevelController = void 0, this.latencyController = void 0, this.levelController = void 0, this.streamController = void 0, this.audioTrackController = void 0, this.subtitleTrackController = void 0, this.emeController = void 0, this.cmcdController = void 0, this._media = null, this.url = null, this.triggeringException = void 0, I(e.debug || !1, "Hls instance"); var r = this.config = function (t, e) { if ((e.liveSyncDurationCount || e.liveMaxLatencyDurationCount) && (e.liveSyncDuration || e.liveMaxLatencyDuration)) throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration"); if (void 0 !== e.liveMaxLatencyDurationCount && (void 0 === e.liveSyncDurationCount || e.liveMaxLatencyDurationCount <= e.liveSyncDurationCount)) throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"'); if (void 0 !== e.liveMaxLatencyDuration && (void 0 === e.liveSyncDuration || e.liveMaxLatencyDuration <= e.liveSyncDuration)) throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"'); var r = io(t), n = ["TimeOut", "MaxRetry", "RetryDelay", "MaxRetryTimeout"]; return ["manifest", "level", "frag"].forEach((function (t) { var i = ("level" === t ? "playlist" : t) + "LoadPolicy", a = void 0 === e[i], s = []; n.forEach((function (n) { var o = t + "Loading" + n, l = e[o]; if (void 0 !== l && a) { s.push(o); var u = r[i].default; switch (e[i] = { default: u }, n) { case "TimeOut": u.maxLoadTimeMs = l, u.maxTimeToFirstByteMs = l; break; case "MaxRetry": u.errorRetry.maxNumRetry = l, u.timeoutRetry.maxNumRetry = l; break; case "RetryDelay": u.errorRetry.retryDelayMs = l, u.timeoutRetry.retryDelayMs = l; break; case "MaxRetryTimeout": u.errorRetry.maxRetryDelayMs = l, u.timeoutRetry.maxRetryDelayMs = l } } })), s.length && w.warn('hls.js config: "' + s.join('", "') + '" setting(s) are deprecated, use "' + i + '": ' + JSON.stringify(e[i])) })), i(i({}, r), e) }(t.DefaultConfig, e); this.userConfig = e, r.progressive && no(r); var n = r.abrController, a = r.bufferController, s = r.capLevelController, o = r.errorController, l = r.fpsController, u = new o(this), h = this.abrController = new n(this), d = this.bufferController = new a(this), c = this.capLevelController = new s(this), f = new l(this), g = new Be(this), v = new $e(this), m = r.contentSteeringController, p = m ? new m(this) : null, y = this.levelController = new ao(this, p), E = new $r(this), T = new oo(this.config), L = this.streamController = new co(this, E, T); c.setStreamController(L), f.setStreamController(L); var A = [g, y, L]; p && A.splice(1, 0, p), this.networkControllers = A; var R = [h, d, c, f, v, E]; this.audioTrackController = this.createController(r.audioTrackController, A); var b = r.audioStreamController; b && A.push(new b(this, E, T)), this.subtitleTrackController = this.createController(r.subtitleTrackController, A); var k = r.subtitleStreamController; k && A.push(new k(this, E, T)), this.createController(r.timelineController, R), T.emeController = this.emeController = this.createController(r.emeController, R), this.cmcdController = this.createController(r.cmcdController, R), this.latencyController = this.createController(Ze, R), this.coreComponents = R, A.push(u); var D = u.onErrorOut; "function" == typeof D && this.on(S.ERROR, D, u) } t.isMSESupported = function () { return uo() }, t.isSupported = function () { return function () { if (!uo()) return !1; var t = se(); return "function" == typeof (null == t ? void 0 : t.isTypeSupported) && (["avc1.42E01E,mp4a.40.2", "av01.0.01M.08", "vp09.00.50.08"].some((function (e) { return t.isTypeSupported(he(e, "video")) })) || ["mp4a.40.2", "fLaC"].some((function (e) { return t.isTypeSupported(he(e, "audio")) }))) }() }, t.getMediaSource = function () { return se() }; var e = t.prototype; return e.createController = function (t, e) { if (t) { var r = new t(this); return e && e.push(r), r } return null }, e.on = function (t, e, r) { void 0 === r && (r = this), this._emitter.on(t, e, r) }, e.once = function (t, e, r) { void 0 === r && (r = this), this._emitter.once(t, e, r) }, e.removeAllListeners = function (t) { this._emitter.removeAllListeners(t) }, e.off = function (t, e, r, i) { void 0 === r && (r = this), this._emitter.off(t, e, r, i) }, e.listeners = function (t) { return this._emitter.listeners(t) }, e.emit = function (t, e, r) { return this._emitter.emit(t, e, r) }, e.trigger = function (t, e) { if (this.config.debug) return this.emit(t, t, e); try { return this.emit(t, t, e) } catch (e) { if (w.error("An internal error happened while handling event " + t + '. Error message: "' + e.message + '". Here is a stacktrace:', e), !this.triggeringException) { this.triggeringException = !0; var r = t === S.ERROR; this.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, fatal: r, event: t, error: e }), this.triggeringException = !1 } } return !1 }, e.listenerCount = function (t) { return this._emitter.listenerCount(t) }, e.destroy = function () { w.log("destroy"), this.trigger(S.DESTROYING, void 0), this.detachMedia(), this.removeAllListeners(), this._autoLevelCapping = -1, this.url = null, this.networkControllers.forEach((function (t) { return t.destroy() })), this.networkControllers.length = 0, this.coreComponents.forEach((function (t) { return t.destroy() })), this.coreComponents.length = 0; var t = this.config; t.xhrSetup = t.fetchSetup = void 0, this.userConfig = null }, e.attachMedia = function (t) { w.log("attachMedia"), this._media = t, this.trigger(S.MEDIA_ATTACHING, { media: t }) }, e.detachMedia = function () { w.log("detachMedia"), this.trigger(S.MEDIA_DETACHING, void 0), this._media = null }, e.loadSource = function (t) { this.stopLoad(); var e = this.media, r = this.url, i = this.url = p.buildAbsoluteURL(self.location.href, t, { alwaysNormalize: !0 }); this._autoLevelCapping = -1, this._maxHdcpLevel = null, w.log("loadSource:" + i), e && r && (r !== i || this.bufferController.hasSourceTypes()) && (this.detachMedia(), this.attachMedia(e)), this.trigger(S.MANIFEST_LOADING, { url: t }) }, e.startLoad = function (t) { void 0 === t && (t = -1), w.log("startLoad(" + t + ")"), this.started = !0, this.networkControllers.forEach((function (e) { e.startLoad(t) })) }, e.stopLoad = function () { w.log("stopLoad"), this.started = !1, this.networkControllers.forEach((function (t) { t.stopLoad() })) }, e.resumeBuffering = function () { this.started && this.networkControllers.forEach((function (t) { "fragmentLoader" in t && t.startLoad(-1) })) }, e.pauseBuffering = function () { this.networkControllers.forEach((function (t) { "fragmentLoader" in t && t.stopLoad() })) }, e.swapAudioCodec = function () { w.log("swapAudioCodec"), this.streamController.swapAudioCodec() }, e.recoverMediaError = function () { w.log("recoverMediaError"); var t = this._media; this.detachMedia(), t && this.attachMedia(t) }, e.removeLevel = function (t) { this.levelController.removeLevel(t) }, e.setAudioOption = function (t) { var e; return null == (e = this.audioTrackController) ? void 0 : e.setAudioOption(t) }, e.setSubtitleOption = function (t) { var e; return null == (e = this.subtitleTrackController) || e.setSubtitleOption(t), null }, s(t, [{ key: "levels", get: function () { var t = this.levelController.levels; return t || [] } }, { key: "currentLevel", get: function () { return this.streamController.currentLevel }, set: function (t) { w.log("set currentLevel:" + t), this.levelController.manualLevel = t, this.streamController.immediateLevelSwitch() } }, { key: "nextLevel", get: function () { return this.streamController.nextLevel }, set: function (t) { w.log("set nextLevel:" + t), this.levelController.manualLevel = t, this.streamController.nextLevelSwitch() } }, { key: "loadLevel", get: function () { return this.levelController.level }, set: function (t) { w.log("set loadLevel:" + t), this.levelController.manualLevel = t } }, { key: "nextLoadLevel", get: function () { return this.levelController.nextLoadLevel }, set: function (t) { this.levelController.nextLoadLevel = t } }, { key: "firstLevel", get: function () { return Math.max(this.levelController.firstLevel, this.minAutoLevel) }, set: function (t) { w.log("set firstLevel:" + t), this.levelController.firstLevel = t } }, { key: "startLevel", get: function () { var t = this.levelController.startLevel; return -1 === t && this.abrController.forcedAutoLevel > -1 ? this.abrController.forcedAutoLevel : t }, set: function (t) { w.log("set startLevel:" + t), -1 !== t && (t = Math.max(t, this.minAutoLevel)), this.levelController.startLevel = t } }, { key: "capLevelToPlayerSize", get: function () { return this.config.capLevelToPlayerSize }, set: function (t) { var e = !!t; e !== this.config.capLevelToPlayerSize && (e ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(), this.autoLevelCapping = -1, this.streamController.nextLevelSwitch()), this.config.capLevelToPlayerSize = e) } }, { key: "autoLevelCapping", get: function () { return this._autoLevelCapping }, set: function (t) { this._autoLevelCapping !== t && (w.log("set autoLevelCapping:" + t), this._autoLevelCapping = t, this.levelController.checkMaxAutoUpdated()) } }, { key: "bandwidthEstimate", get: function () { var t = this.abrController.bwEstimator; return t ? t.getEstimate() : NaN }, set: function (t) { this.abrController.resetEstimator(t) } }, { key: "ttfbEstimate", get: function () { var t = this.abrController.bwEstimator; return t ? t.getEstimateTTFB() : NaN } }, { key: "maxHdcpLevel", get: function () { return this._maxHdcpLevel }, set: function (t) { (function (t) { return tr.indexOf(t) > -1 })(t) && this._maxHdcpLevel !== t && (this._maxHdcpLevel = t, this.levelController.checkMaxAutoUpdated()) } }, { key: "autoLevelEnabled", get: function () { return -1 === this.levelController.manualLevel } }, { key: "manualLevel", get: function () { return this.levelController.manualLevel } }, { key: "minAutoLevel", get: function () { var t = this.levels, e = this.config.minAutoBitrate; if (!t) return 0; for (var r = t.length, i = 0; i < r; i++)if (t[i].maxBitrate >= e) return i; return 0 } }, { key: "maxAutoLevel", get: function () { var t, e = this.levels, r = this.autoLevelCapping, i = this.maxHdcpLevel; if (t = -1 === r && null != e && e.length ? e.length - 1 : r, i) for (var n = t; n--;) { var a = e[n].attrs["HDCP-LEVEL"]; if (a && a <= i) return n } return t } }, { key: "firstAutoLevel", get: function () { return this.abrController.firstAutoLevel } }, { key: "nextAutoLevel", get: function () { return this.abrController.nextAutoLevel }, set: function (t) { this.abrController.nextAutoLevel = t } }, { key: "playingDate", get: function () { return this.streamController.currentProgramDateTime } }, { key: "mainForwardBufferInfo", get: function () { return this.streamController.getMainFwdBufferInfo() } }, { key: "allAudioTracks", get: function () { var t = this.audioTrackController; return t ? t.allAudioTracks : [] } }, { key: "audioTracks", get: function () { var t = this.audioTrackController; return t ? t.audioTracks : [] } }, { key: "audioTrack", get: function () { var t = this.audioTrackController; return t ? t.audioTrack : -1 }, set: function (t) { var e = this.audioTrackController; e && (e.audioTrack = t) } }, { key: "allSubtitleTracks", get: function () { var t = this.subtitleTrackController; return t ? t.allSubtitleTracks : [] } }, { key: "subtitleTracks", get: function () { var t = this.subtitleTrackController; return t ? t.subtitleTracks : [] } }, { key: "subtitleTrack", get: function () { var t = this.subtitleTrackController; return t ? t.subtitleTrack : -1 }, set: function (t) { var e = this.subtitleTrackController; e && (e.subtitleTrack = t) } }, { key: "media", get: function () { return this._media } }, { key: "subtitleDisplay", get: function () { var t = this.subtitleTrackController; return !!t && t.subtitleDisplay }, set: function (t) { var e = this.subtitleTrackController; e && (e.subtitleDisplay = t) } }, { key: "lowLatencyMode", get: function () { return this.config.lowLatencyMode }, set: function (t) { this.config.lowLatencyMode = t } }, { key: "liveSyncPosition", get: function () { return this.latencyController.liveSyncPosition } }, { key: "latency", get: function () { return this.latencyController.latency } }, { key: "maxLatency", get: function () { return this.latencyController.maxLatency } }, { key: "targetLatency", get: function () { return this.latencyController.targetLatency } }, { key: "drift", get: function () { return this.latencyController.drift } }, { key: "forceStartLoad", get: function () { return this.streamController.forceStartLoad } }], [{ key: "version", get: function () { return "1.5.17" } }, { key: "Events", get: function () { return S } }, { key: "ErrorTypes", get: function () { return L } }, { key: "ErrorDetails", get: function () { return A } }, { key: "DefaultConfig", get: function () { return t.defaultConfig ? t.defaultConfig : ro }, set: function (e) { t.defaultConfig = e } }]), t }(); return fo.defaultConfig = void 0, fo }, "object" == typeof exports && "undefined" != typeof module ? module.exports = i() : "function" == typeof define && define.amd ? define(i) : (r = "undefined" != typeof globalThis ? globalThis : r || self).Hls = i() }(!1);